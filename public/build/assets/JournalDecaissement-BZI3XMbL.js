import{u as w,x as _,d as D,e as t,t as s,f as h,b as i,l as v,g as F,c as g,o as n,F as A,p as C}from"./app-CWaj6zxT.js";import{_ as N}from"./AppLayout-D228TyHL.js";/* empty css            */import"./_commonjsHelpers-_d1bhYXs.js";import"./debounce-D0G5qrda.js";const S={class:"container mx-auto px-4 py-6 sm:px-6 lg:px-8"},j={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6"},M={class:"bg-gradient-to-r from-orange-50 to-orange-100 dark:from-orange-900/20 dark:to-orange-800/20 px-4 py-3 rounded-xl border border-orange-200 dark:border-orange-700"},V={class:"text-lg font-bold text-orange-800 dark:text-orange-300"},B={class:"container mx-auto px-4 py-8 sm:px-6 lg:px-8"},E={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6"},T={class:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6"},P={class:"flex items-end"},$=["href"],J={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 pt-4 border-t border-gray-200 dark:border-gray-700"},L={class:"flex items-center space-x-4"},U={class:"text-sm font-medium text-gray-600 dark:text-gray-400"},z={class:"text-lg font-bold text-gray-900 dark:text-white"},R={class:"bg-white dark:bg-slate-900 rounded-lg shadow overflow-hidden"},G={class:"px-6 py-4 bg-gray-50 dark:bg-slate-800 border-b border-gray-200 dark:border-slate-700"},H={class:"text-lg font-semibold text-gray-800 dark:text-slate-200 text-center"},I={key:0,class:"overflow-x-auto"},O={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},q={class:"bg-white dark:bg-slate-900 divide-y divide-gray-100 dark:divide-slate-800"},K={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400"},Q={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100"},W={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400"},X={class:"font-medium text-blue-600 dark:text-blue-400"},Y={class:"px-6 py-4 whitespace-nowrap text-sm text-right font-bold text-red-600 dark:text-red-400"},Z={class:"bg-gray-50 dark:bg-slate-800 font-bold"},tt={class:"px-6 py-4 text-right text-lg text-red-700 dark:text-red-400"},et={key:1,class:"px-6 py-16 text-center"},it={__name:"JournalDecaissement",props:{dateDebut:String,dateFin:String,totalCommissions:Number,decaissements:Array},setup(a){const m=a,d=w({dateDebut:m.dateDebut,dateFin:m.dateFin}),u=()=>{d.get(route("secretaire.journal-decaissement"),{preserveState:!0,preserveScroll:!0})},l=o=>{if(!o)return"N/A";const[e,r,c]=o.split("-");return`${c}/${r}/${e}`},x=o=>o==null?"0.00":Number(o).toLocaleString("fr-FR",{minimumFractionDigits:2,maximumFractionDigits:2});return(o,e)=>(n(),_(N,null,{default:D(()=>[t("div",S,[t("div",j,[e[3]||(e[3]=t("div",null,[t("h1",{class:"text-3xl font-heading font-bold text-gray-900 dark:text-white"},"Journal de Décaissement"),t("p",{class:"text-gray-600 dark:text-gray-400 mt-2"},"Suivi des décaissements (commissions prescripteurs) par date de paiement")],-1)),t("div",M,[e[2]||(e[2]=t("div",{class:"text-xs font-medium text-orange-600 dark:text-orange-400 uppercase tracking-wide"},"Période de Décaissement",-1)),t("div",V,s(l(a.dateDebut))+" - "+s(l(a.dateFin)),1)])])]),t("div",B,[t("div",E,[t("div",T,[t("div",null,[e[4]||(e[4]=t("label",{for:"dateDebut",class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"}," Date début ",-1)),h(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>i(d).dateDebut=r),onChange:u,type:"date",id:"dateDebut",class:"w-full py-3 px-4 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all"},null,544),[[v,i(d).dateDebut]])]),t("div",null,[e[5]||(e[5]=t("label",{for:"dateFin",class:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"}," Date fin ",-1)),h(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>i(d).dateFin=r),onChange:u,type:"date",id:"dateFin",class:"w-full py-3 px-4 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl text-gray-900 dark:text-white focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all"},null,544),[[v,i(d).dateFin]])]),t("div",P,[t("a",{href:o.route("secretaire.journal-decaissement.export",{dateDebut:i(d).dateDebut,dateFin:i(d).dateFin}),class:"w-full inline-flex items-center justify-center px-4 py-3 text-sm font-medium text-white bg-red-600 hover:bg-red-700 border border-transparent rounded-xl shadow-sm focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors"},[...e[6]||(e[6]=[t("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),F(" Export PDF ",-1)])],8,$)])]),t("div",J,[t("div",L,[t("span",U,s(a.decaissements.length)+" ligne(s) de commission dans cette période ",1)]),t("div",z," Total Commissions: "+s(x(a.totalCommissions))+" Ar. ",1)])]),t("div",R,[t("div",G,[t("h3",H," JOURNAL DES DÉCAISSEMENTS du "+s(l(a.dateDebut))+" au "+s(l(a.dateFin)),1)]),a.decaissements&&a.decaissements.length>0?(n(),g("div",I,[t("table",O,[e[8]||(e[8]=t("thead",{class:"bg-gray-100 dark:bg-slate-800"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"}," Date"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"}," Prescripteur"),t("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"}," Dossier / Patient"),t("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wide"}," Montant Commission")])],-1)),t("tbody",q,[(n(!0),g(A,null,C(a.decaissements,r=>{var c,p,y,b,f,k;return n(),g("tr",{key:r.id,class:"hover:bg-gray-50 dark:hover:bg-slate-800 transition-colors duration-200"},[t("td",K,s(r.date_paiement_format),1),t("td",Q,s(((p=(c=r.prescription)==null?void 0:c.prescripteur)==null?void 0:p.nom_complet)||"N/A"),1),t("td",W,[t("div",X,s(((b=(y=r.prescription)==null?void 0:y.patient)==null?void 0:b.numero_dossier)||"N/A"),1),t("div",null,s(((k=(f=r.prescription)==null?void 0:f.patient)==null?void 0:k.nom_complet)||"N/A"),1)]),t("td",Y,s(x(r.commission_prescripteur))+" Ar. ",1)])}),128))]),t("tfoot",Z,[t("tr",null,[e[7]||(e[7]=t("td",{colspan:"3",class:"px-6 py-4 text-right text-gray-700 dark:text-gray-300 uppercase"}," Total Général",-1)),t("td",tt,s(x(a.totalCommissions))+" Ar. ",1)])])])])):(n(),g("div",et,[...e[9]||(e[9]=[t("div",{class:"flex flex-col items-center"},[t("div",{class:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4"},[t("svg",{class:"w-8 h-8 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])]),t("h3",{class:"text-lg font-bold text-gray-900 dark:text-white mb-2"},"Aucun décaissement trouvé"),t("p",{class:"text-sm text-gray-500 dark:text-gray-400 max-w-sm"}," Aucune commission n'a été enregistrée durant cette période. ")],-1)])]))])])]),_:1}))}};export{it as default};
