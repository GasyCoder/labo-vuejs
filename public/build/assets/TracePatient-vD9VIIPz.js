import{r as j,w as H,a as g,b as n,j as y,h as O,p as E,q as U,d as e,x as q,e as c,o as l,k,t as r,g as M,v as G,n as h,F as f,f as w,s as T,T as I,l as J}from"./app-DLV50I-f.js";import{_ as K}from"./AppLayout-CI4-vMMA.js";import{_ as S}from"./Pagination-C9PCBzTj.js";import{d as Q}from"./debounce-BjP9TRjn.js";/* empty css            */import"./_commonjsHelpers-_d1bhYXs.js";import"./debounce-D0G5qrda.js";const W={class:"container mx-auto px-4 py-8 sm:px-6 lg:px-8"},X={class:"mb-6 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},Y={key:0,class:"inline-flex items-center gap-1.5 rounded-full bg-red-100 px-3 py-1.5 text-xs font-semibold text-red-700 dark:bg-red-900/30 dark:text-red-300"},Z={class:"mb-6 grid grid-cols-2 gap-3 sm:grid-cols-3"},ee={class:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-700 dark:bg-slate-800"},te={class:"flex flex-col items-center gap-1 text-center"},se={class:"text-xl font-bold text-slate-900 dark:text-white"},re={class:"rounded-xl border border-slate-200 bg-white p-3 dark:border-slate-700 dark:bg-slate-800"},oe={class:"flex flex-col items-center gap-1 text-center"},ie={class:"text-xl font-bold text-slate-900 dark:text-white"},le={class:"col-span-2 rounded-xl border border-slate-200 bg-white p-3 sm:col-span-1 dark:border-slate-700 dark:bg-slate-800"},ne={class:"flex flex-col items-center gap-1 text-center"},ae={class:"text-xl font-bold text-slate-900 dark:text-white"},de={class:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-800"},ce={class:"flex flex-col items-center gap-3 p-4 md:flex-row"},pe={class:"relative w-full flex-1"},ue={class:"flex w-full items-center gap-1.5 rounded-lg bg-slate-100 p-1 md:w-auto dark:bg-slate-700/50"},xe={class:"border-t border-slate-100 dark:border-slate-700/50"},me={class:"hidden overflow-x-auto lg:block"},be={class:"w-full"},ke={class:"divide-y divide-slate-50 dark:divide-slate-700/50"},he={class:"px-4 py-3.5"},fe={class:"inline-flex rounded-full bg-primary-100 px-2.5 py-1 text-xs font-semibold text-primary-700 dark:bg-primary-900/30 dark:text-primary-300"},ve={class:"px-4 py-3.5"},ge={class:"flex items-center gap-2.5"},ye={class:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-primary-400 to-primary-600"},we={class:"text-xs font-semibold text-white"},_e={class:"min-w-0"},Ce={class:"truncate text-sm font-medium text-slate-900 dark:text-white"},je={class:"text-xs text-slate-400"},Me={class:"px-4 py-3.5 text-sm text-slate-600 dark:text-slate-300"},Be={class:"px-4 py-3.5"},Le={class:"text-sm text-slate-600 dark:text-slate-300"},$e={class:"px-4 py-3.5"},Ae={class:"flex items-center justify-end gap-1 opacity-0 transition-opacity group-hover:opacity-100"},Ve=["onClick"],He=["onClick"],Te={key:0},Se={class:"divide-y divide-slate-100 dark:divide-slate-700/50 lg:hidden"},ze={class:"min-w-0 flex-1"},Ne={class:"flex items-center gap-2 mb-1"},Pe={class:"inline-flex rounded-full bg-primary-100 px-2 py-0.5 text-[11px] font-semibold text-primary-700 dark:bg-primary-900/30 dark:text-primary-300"},De={class:"truncate text-sm font-medium text-slate-900 dark:text-white"},Re={class:"text-xs text-slate-400"},Fe={class:"flex items-center gap-1"},Oe=["onClick"],Ee=["onClick"],Ue={key:0,class:"py-12 text-center"},qe={key:0,class:"border-t border-slate-100 bg-slate-50/50 px-4 py-3 dark:border-slate-700/50 dark:bg-slate-800/50"},Ge={class:"border-t border-slate-100 dark:border-slate-700/50"},Ie={class:"hidden overflow-x-auto lg:block"},Je={class:"w-full"},Ke={class:"divide-y divide-slate-50 dark:divide-slate-700/50"},Qe={class:"px-4 py-3.5"},We={class:"flex items-center gap-2.5"},Xe={class:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-blue-400 to-blue-600"},Ye={class:"text-xs font-semibold text-white"},Ze={class:"min-w-0"},et={class:"truncate text-sm font-medium text-slate-900 dark:text-white"},tt={class:"text-xs text-slate-400"},st={class:"px-4 py-3.5"},rt={class:"inline-flex rounded-full bg-blue-100 px-2.5 py-1 text-xs font-semibold text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"},ot={class:"px-4 py-3.5 text-center"},it={key:0,class:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-amber-100 text-xs font-semibold text-amber-700 dark:bg-amber-900/30 dark:text-amber-300"},lt={key:1,class:"text-xs text-slate-400"},nt={class:"px-4 py-3.5 text-sm text-slate-600 dark:text-slate-300"},at={class:"px-4 py-3.5"},dt={class:"flex items-center justify-end gap-1 opacity-0 transition-opacity group-hover:opacity-100"},ct=["onClick"],pt=["onClick"],ut={key:0},xt={class:"divide-y divide-slate-100 dark:divide-slate-700/50 lg:hidden"},mt={class:"min-w-0 flex-1"},bt={class:"truncate text-sm font-medium text-slate-900 dark:text-white"},kt={class:"text-xs text-slate-400"},ht={class:"flex items-center gap-1"},ft=["onClick"],vt=["onClick"],gt={key:0,class:"py-12 text-center"},yt={key:0,class:"border-t border-slate-100 bg-slate-50/50 px-4 py-3 dark:border-slate-700/50 dark:bg-slate-800/50"},wt={key:0,class:"fixed inset-0 z-[60] overflow-y-auto"},_t={class:"flex min-h-full items-center justify-center p-4"},Ct={class:"p-6 text-center"},jt={class:"mb-1 text-lg font-semibold text-slate-900 dark:text-white"},Mt={class:"text-sm text-slate-500 dark:text-slate-400"},Bt={class:"flex gap-3 px-6 pb-6"},Lt=["disabled"],Nt={__name:"TracePatient",props:{patients:Object,prescriptions:Object,filters:Object,stats:Object},setup(i){const B=i,b=j(B.filters.search||""),p=j(B.filters.tab||"prescriptions");H(b,Q(o=>{g.get(route("admin.trace-patients"),{search:o,tab:p.value},{preserveState:!0,replace:!0})},300)),H(p,o=>{b.value="",g.get(route("admin.trace-patients"),{tab:o},{preserveState:!0})});const z=()=>{b.value=""},a=j({show:!1,type:"",itemType:"",item:null,processing:!1}),u=(o,t,s=null)=>{a.value={show:!0,type:o,itemType:t,item:s,processing:!1}},_=()=>{a.value={show:!1,type:"",itemType:"",item:null,processing:!1}},N=()=>{const o=a.value;return o.type==="restore"?`Restaurer ${o.itemType==="patient"?"ce patient":"cette prescription"} ?`:o.type==="delete"?"Supprimer définitivement ?":o.type==="empty"?`Vider la corbeille des ${o.itemType==="patient"?"patients":"prescriptions"} ?`:""},P=()=>{const o=a.value;return o.type==="restore"?"L'élément sera restauré et redeviendra visible dans l'application.":o.type==="delete"?"Cette action est irréversible. Toutes les données associées seront supprimées définitivement.":o.type==="empty"?"Cette action est irréversible. Tous les éléments de la corbeille seront supprimés définitivement.":""},C=()=>a.value.type==="restore"?"amber":"red",D=()=>a.value.type==="restore"?"Restaurer":a.value.type==="delete"?"Supprimer":a.value.type==="empty"?"Vider la corbeille":"",R=()=>{var m;const o=a.value;if(o.processing)return;a.value.processing=!0;const s=(m={restore:{patient:"admin.trace-patient.patients.restore",prescription:"admin.trace-patient.prescriptions.restore"},delete:{patient:"admin.trace-patient.patients.force-delete",prescription:"admin.trace-patient.prescriptions.force-delete"},empty:{patient:"admin.trace-patient.patients.empty",prescription:"admin.trace-patient.prescriptions.empty"}}[o.type])==null?void 0:m[o.itemType];if(!s)return;const d=o.type==="empty"?route(s):route(s,o.item.id),x={preserveScroll:!0,onSuccess:()=>_(),onError:()=>{a.value.processing=!1},onFinish:()=>{a.value.processing=!1}};o.type==="delete"||o.type==="empty"?g.delete(d,x):g.post(d,{},x)},v=o=>o?new Date(o).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"",L=(o,t)=>`${(o||"N").charAt(0)}${(t||"A").charAt(0)}`.toUpperCase();return(o,t)=>(l(),n(f,null,[y(O(E),{title:"Corbeille"}),y(K,null,{default:U(()=>[e("div",W,[e("div",X,[t[7]||(t[7]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"flex h-10 w-10 items-center justify-center rounded-xl bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])]),e("div",null,[e("h1",{class:"text-xl font-bold text-slate-900 dark:text-white"},"Corbeille"),e("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Éléments supprimés — restaurer ou supprimer définitivement")])],-1)),i.stats.total>0?(l(),n("span",Y,[t[6]||(t[6]=e("span",{class:"h-1.5 w-1.5 rounded-full bg-red-500"},null,-1)),k(" "+r(i.stats.total)+" élément(s) ",1)])):c("",!0)]),e("div",Z,[e("div",ee,[e("div",te,[t[8]||(t[8]=e("div",{class:"flex h-8 w-8 items-center justify-center text-red-500"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})])],-1)),e("p",se,r(i.stats.total),1),t[9]||(t[9]=e("p",{class:"text-[11px] font-medium text-slate-500 dark:text-slate-400"},"Total",-1))])]),e("div",re,[e("div",oe,[t[10]||(t[10]=e("div",{class:"flex h-8 w-8 items-center justify-center text-purple-500"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("p",ie,r(i.stats.prescriptions.total),1),t[11]||(t[11]=e("p",{class:"text-[11px] font-medium text-slate-500 dark:text-slate-400"},"Prescriptions",-1))])]),e("div",le,[e("div",ne,[t[12]||(t[12]=e("div",{class:"flex h-8 w-8 items-center justify-center text-blue-500"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})])],-1)),e("p",ae,r(i.stats.patients.total),1),t[13]||(t[13]=e("p",{class:"text-[11px] font-medium text-slate-500 dark:text-slate-400"},"Patients",-1))])])]),e("div",de,[e("div",ce,[e("div",pe,[t[15]||(t[15]=e("svg",{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1)),M(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>b.value=s),type:"text",placeholder:"Rechercher...",class:"w-full rounded-lg border border-slate-200 bg-slate-50 py-2.5 pl-10 pr-9 text-sm text-slate-900 placeholder-slate-400 transition-colors focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 dark:border-slate-600 dark:bg-slate-700/50 dark:text-slate-100"},null,512),[[G,b.value]]),b.value?(l(),n("button",{key:0,type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-300",onClick:z},[...t[14]||(t[14]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])):c("",!0)]),e("div",ue,[e("button",{type:"button",class:h(["flex items-center gap-1.5 rounded-md px-3 py-1.5 text-xs font-medium transition-all",p.value==="prescriptions"?"bg-white text-slate-900 shadow-sm dark:bg-slate-600 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400"]),onClick:t[1]||(t[1]=s=>p.value="prescriptions")},[t[16]||(t[16]=e("svg",{class:"h-3.5 w-3.5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),k(" Prescriptions ("+r(i.stats.prescriptions.total)+") ",1)],2),e("button",{type:"button",class:h(["flex items-center gap-1.5 rounded-md px-3 py-1.5 text-xs font-medium transition-all",p.value==="patients"?"bg-white text-slate-900 shadow-sm dark:bg-slate-600 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400"]),onClick:t[2]||(t[2]=s=>p.value="patients")},[t[17]||(t[17]=e("svg",{class:"h-3.5 w-3.5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),k(" Patients ("+r(i.stats.patients.total)+") ",1)],2)]),p.value==="prescriptions"&&i.prescriptions.data.length>0?(l(),n("button",{key:0,type:"button",class:"inline-flex w-full items-center justify-center gap-2 rounded-lg bg-red-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-red-700 md:w-auto",onClick:t[3]||(t[3]=s=>u("empty","prescription"))},[...t[18]||(t[18]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),k(" Vider ",-1)])])):c("",!0),p.value==="patients"&&i.patients.data.length>0?(l(),n("button",{key:1,type:"button",class:"inline-flex w-full items-center justify-center gap-2 rounded-lg bg-red-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-red-700 md:w-auto",onClick:t[4]||(t[4]=s=>u("empty","patient"))},[...t[19]||(t[19]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),k(" Vider ",-1)])])):c("",!0)]),M(e("div",xe,[e("div",me,[e("table",be,[t[23]||(t[23]=e("thead",null,[e("tr",{class:"border-b border-slate-100 dark:border-slate-700"},[e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Référence"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Patient"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Prescripteur"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Supprimé le"),e("th",{class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Actions")])],-1)),e("tbody",ke,[(l(!0),n(f,null,w(i.prescriptions.data,s=>{var d,x,m,$,A,V;return l(),n("tr",{key:s.id,class:"group transition-colors hover:bg-slate-50/50 dark:hover:bg-slate-700/20"},[e("td",he,[e("span",fe,r(s.reference),1)]),e("td",ve,[e("div",ge,[e("div",ye,[e("span",we,r(L((d=s.patient)==null?void 0:d.nom,(x=s.patient)==null?void 0:x.prenom)),1)]),e("div",_e,[e("p",Ce,r(((m=s.patient)==null?void 0:m.nom)||"N/A")+" "+r((($=s.patient)==null?void 0:$.prenom)||""),1),e("p",je,r(((A=s.patient)==null?void 0:A.numero_dossier)||""),1)])])]),e("td",Me,r(((V=s.prescripteur)==null?void 0:V.nom)||"N/A"),1),e("td",Be,[e("p",Le,r(v(s.deleted_at)),1)]),e("td",$e,[e("div",Ae,[e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-amber-50 text-amber-600 hover:bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:hover:bg-amber-900/40 transition-colors",title:"Restaurer",onClick:F=>u("restore","prescription",s)},[...t[20]||(t[20]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})],-1)])],8,Ve),e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Supprimer définitivement",onClick:F=>u("delete","prescription",s)},[...t[21]||(t[21]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,He)])])])}),128)),i.prescriptions.data.length===0?(l(),n("tr",Te,[...t[22]||(t[22]=[e("td",{colspan:"5",class:"py-16 text-center"},[e("div",{class:"flex flex-col items-center"},[e("div",{class:"mb-3 flex h-11 w-11 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700"},[e("svg",{class:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])]),e("p",{class:"text-sm font-medium text-slate-600 dark:text-slate-400"},"Aucune prescription dans la corbeille")])],-1)])])):c("",!0)])])]),e("div",Se,[(l(!0),n(f,null,w(i.prescriptions.data,s=>{var d,x;return l(),n("div",{key:`m-${s.id}`,class:"flex items-center justify-between gap-3 p-4"},[e("div",ze,[e("div",Ne,[e("span",Pe,r(s.reference),1)]),e("p",De,r(((d=s.patient)==null?void 0:d.nom)||"N/A")+" "+r(((x=s.patient)==null?void 0:x.prenom)||""),1),e("p",Re,r(v(s.deleted_at)),1)]),e("div",Fe,[e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400 transition-colors",onClick:m=>u("restore","prescription",s)},[...t[24]||(t[24]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})],-1)])],8,Oe),e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400 transition-colors",onClick:m=>u("delete","prescription",s)},[...t[25]||(t[25]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,Ee)])])}),128)),i.prescriptions.data.length===0?(l(),n("div",Ue,[...t[26]||(t[26]=[e("p",{class:"text-sm text-slate-500"},"Aucune prescription dans la corbeille",-1)])])):c("",!0)]),i.prescriptions.links&&i.prescriptions.links.length>3?(l(),n("div",qe,[y(S,{links:i.prescriptions.links},null,8,["links"])])):c("",!0)],512),[[T,p.value==="prescriptions"]]),M(e("div",Ge,[e("div",Ie,[e("table",Je,[t[30]||(t[30]=e("thead",null,[e("tr",{class:"border-b border-slate-100 dark:border-slate-700"},[e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Patient"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Dossier"),e("th",{class:"px-4 py-3 text-center text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Prescriptions"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Supprimé le"),e("th",{class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Actions")])],-1)),e("tbody",Ke,[(l(!0),n(f,null,w(i.patients.data,s=>(l(),n("tr",{key:s.id,class:"group transition-colors hover:bg-slate-50/50 dark:hover:bg-slate-700/20"},[e("td",Qe,[e("div",We,[e("div",Xe,[e("span",Ye,r(L(s.nom,s.prenom)),1)]),e("div",Ze,[e("p",et,r(s.nom)+" "+r(s.prenom),1),e("p",tt,r(s.telephone||"-"),1)])])]),e("td",st,[e("span",rt,r(s.numero_dossier),1)]),e("td",ot,[s.prescriptions_count>0?(l(),n("span",it,r(s.prescriptions_count),1)):(l(),n("span",lt,"0"))]),e("td",nt,r(v(s.deleted_at)),1),e("td",at,[e("div",dt,[e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-amber-50 text-amber-600 hover:bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:hover:bg-amber-900/40 transition-colors",title:"Restaurer",onClick:d=>u("restore","patient",s)},[...t[27]||(t[27]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})],-1)])],8,ct),e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Supprimer définitivement",onClick:d=>u("delete","patient",s)},[...t[28]||(t[28]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,pt)])])]))),128)),i.patients.data.length===0?(l(),n("tr",ut,[...t[29]||(t[29]=[e("td",{colspan:"5",class:"py-16 text-center"},[e("div",{class:"flex flex-col items-center"},[e("div",{class:"mb-3 flex h-11 w-11 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700"},[e("svg",{class:"h-5 w-5 text-slate-400",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})])]),e("p",{class:"text-sm font-medium text-slate-600 dark:text-slate-400"},"Aucun patient dans la corbeille")])],-1)])])):c("",!0)])])]),e("div",xt,[(l(!0),n(f,null,w(i.patients.data,s=>(l(),n("div",{key:`mp-${s.id}`,class:"flex items-center justify-between gap-3 p-4"},[e("div",mt,[e("p",bt,r(s.nom)+" "+r(s.prenom),1),e("p",kt,r(s.numero_dossier)+" · "+r(v(s.deleted_at)),1)]),e("div",ht,[e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-amber-50 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400",onClick:d=>u("restore","patient",s)},[...t[31]||(t[31]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})],-1)])],8,ft),e("button",{type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400",onClick:d=>u("delete","patient",s)},[...t[32]||(t[32]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,vt)])]))),128)),i.patients.data.length===0?(l(),n("div",gt,[...t[33]||(t[33]=[e("p",{class:"text-sm text-slate-500"},"Aucun patient dans la corbeille",-1)])])):c("",!0)]),i.patients.links&&i.patients.links.length>3?(l(),n("div",yt,[y(S,{links:i.patients.links},null,8,["links"])])):c("",!0)],512),[[T,p.value==="patients"]])])]),(l(),q(I,{to:"body"},[a.value.show?(l(),n("div",wt,[e("div",{class:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:_}),e("div",_t,[e("div",{class:"relative w-full max-w-sm rounded-2xl bg-white shadow-xl dark:bg-slate-800",onClick:t[5]||(t[5]=J(()=>{},["stop"]))},[e("div",Ct,[e("div",{class:h(["mx-auto mb-4 flex h-11 w-11 items-center justify-center rounded-full",C()==="amber"?"bg-amber-100 dark:bg-amber-900/30":"bg-red-100 dark:bg-red-900/30"])},[(l(),n("svg",{class:h(["h-5 w-5",C()==="amber"?"text-amber-600 dark:text-amber-400":"text-red-600 dark:text-red-400"]),fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[...t[34]||(t[34]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])],2))],2),e("h3",jt,r(N()),1),e("p",Mt,r(P()),1)]),e("div",Bt,[e("button",{type:"button",class:"flex-1 rounded-lg bg-slate-100 px-4 py-2.5 text-sm font-medium text-slate-700 transition-colors hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600",onClick:_},"Annuler"),e("button",{type:"button",class:h(["flex-1 rounded-lg px-4 py-2.5 text-sm font-medium text-white transition-colors",C()==="amber"?"bg-amber-600 hover:bg-amber-700":"bg-red-600 hover:bg-red-700"]),disabled:a.value.processing,onClick:R},r(a.value.processing?"...":D()),11,Lt)])])])])):c("",!0)]))]),_:1})],64))}};export{Nt as default};
