import{I,s as j,b as B,d as e,c as a,g as l,t as o,n as u,i as w,p as b,H as P,e as Y,u as M,v as Z,o as r,y as E,F as g,f as O,a as ee,G as te,j as se,l as q}from"./app-F2ydNjPs.js";import{d as re}from"./debounce-BjP9TRjn.js";import{_ as ae}from"./AppLayout-ZkD0rjf3.js";import{_ as oe}from"./Pagination-CTx9YARu.js";/* empty css            */import"./_commonjsHelpers-_d1bhYXs.js";import"./debounce-D0G5qrda.js";const le={class:"container mx-auto px-4 py-8 sm:px-6 lg:px-8"},ne={class:"mb-6 grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-5"},ie={class:"relative overflow-hidden rounded-xl border border-slate-200 bg-white p-3 transition-all hover:shadow-md dark:border-slate-700 dark:bg-slate-800"},de={class:"flex flex-col items-center gap-1 text-center"},ce={class:"mt-1 text-xl font-bold leading-none text-slate-900 dark:text-white"},ue={class:"relative overflow-hidden rounded-xl border border-slate-200 bg-white p-3 transition-all hover:shadow-md dark:border-slate-700 dark:bg-slate-800"},xe={class:"flex flex-col items-center gap-1 text-center"},me={class:"mt-1 text-xl font-bold leading-none text-slate-900 dark:text-white"},be={class:"flex flex-col items-center gap-1 text-center"},pe={class:"mt-1 text-xl font-bold leading-none text-slate-900 dark:text-white"},ke={class:"flex flex-col items-center gap-1 text-center"},ve={class:"mt-1 text-xl font-bold leading-none text-slate-900 dark:text-white"},he={class:"relative col-span-2 overflow-hidden rounded-xl border border-slate-200 bg-white p-3 transition-all hover:shadow-md sm:col-span-1 dark:border-slate-700 dark:bg-slate-800"},fe={class:"flex flex-col items-center gap-1 text-center"},ge={class:"text-xl font-bold leading-none text-slate-900 dark:text-white"},ye={class:"mb-6 grid grid-cols-1 gap-3 md:grid-cols-3"},we={class:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-700 dark:bg-slate-800"},Ce={class:"flex items-center justify-between mb-2"},_e={class:"text-xs font-bold text-slate-900 dark:text-white"},Ae={class:"h-1.5 overflow-hidden rounded-full bg-slate-100 dark:bg-slate-700"},je={class:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-700 dark:bg-slate-800"},Me={class:"flex items-center justify-between mb-2"},Ne={class:"text-xs font-bold text-slate-900 dark:text-white"},Le={class:"h-1.5 overflow-hidden rounded-full bg-slate-100 dark:bg-slate-700"},Be={class:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-700 dark:bg-slate-800"},$e={class:"flex items-center justify-between mb-2"},Ve={class:"text-xs font-bold text-slate-900 dark:text-white"},Pe={class:"h-1.5 overflow-hidden rounded-full bg-slate-100 dark:bg-slate-700"},Ee={class:"mb-6 rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-800"},He={class:"flex flex-col items-center gap-3 p-4 md:flex-row"},Te={class:"relative w-full flex-1"},ze={class:"flex w-full items-center gap-1.5 rounded-lg bg-slate-100 p-1 md:w-auto dark:bg-slate-700/50"},De={class:"border-t border-slate-100 dark:border-slate-700/50"},Se={class:"flex px-4","aria-label":"Tabs"},Re={class:"flex items-center gap-2"},Fe={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 rounded-full bg-primary-600 dark:bg-primary-400"},Ie={class:"flex items-center gap-2"},Oe={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 rounded-full bg-primary-600 dark:bg-primary-400"},qe={class:"flex items-center gap-2"},Ue={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 rounded-full bg-primary-600 dark:bg-primary-400"},Ge={class:"flex items-center gap-2"},Je={key:0,class:"inline-flex h-5 min-w-[20px] items-center justify-center rounded-full bg-red-100 px-1.5 text-xs font-semibold text-red-700 dark:bg-red-900/30 dark:text-red-300"},Ke={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 rounded-full bg-primary-600 dark:bg-primary-400"},Qe={key:0,class:"mb-4 flex flex-wrap items-center gap-2"},We={key:0,class:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2.5 py-1 text-xs text-slate-700 dark:bg-slate-700 dark:text-slate-300"},Xe={class:"overflow-hidden rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-800"},Ye={class:"hidden overflow-x-auto lg:block"},Ze={class:"w-full"},et={class:"divide-y divide-slate-50 dark:divide-slate-700/50"},tt={class:"px-4 py-3.5"},st={class:"text-sm font-semibold text-slate-900 dark:text-white"},rt={class:"px-4 py-3.5"},at={class:"flex items-center gap-2.5"},ot={class:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-primary-400 to-primary-600"},lt={class:"text-xs font-semibold text-white"},nt={class:"min-w-0"},it={class:"max-w-[150px] truncate text-sm font-medium text-slate-900 dark:text-white"},dt={class:"text-xs text-slate-400 dark:text-slate-500"},ct={class:"px-4 py-3.5"},ut={class:"text-sm text-slate-600 dark:text-slate-300"},xt={class:"px-4 py-3.5 text-center"},mt={class:"inline-flex h-7 w-7 items-center justify-center rounded-full bg-blue-50 text-xs font-semibold text-blue-700 dark:bg-blue-900/30 dark:text-blue-300"},bt={class:"px-4 py-3.5"},pt={class:"px-4 py-3.5"},kt={key:0,class:"flex items-center gap-2.5"},vt=["onClick"],ht={key:0,class:"text-[11px] text-slate-400"},ft={key:1,class:"text-xs italic text-slate-400 dark:text-slate-500"},gt={class:"px-4 py-3.5"},yt={class:"text-sm text-slate-600 dark:text-slate-300"},wt={class:"text-[11px] text-slate-400"},Ct={class:"px-4 py-3.5"},_t={class:"flex items-center justify-end gap-1 opacity-0 transition-opacity group-hover:opacity-100"},At=["onClick"],jt=["href"],Mt=["onClick"],Nt=["title","onClick"],Lt=["fill"],Bt=["onClick"],$t=["onClick"],Vt=["onClick"],Pt={key:0},Et={colspan:"8",class:"py-16 text-center"},Ht={class:"flex flex-col items-center"},Tt={key:0,class:"mt-1 text-xs text-slate-400 dark:text-slate-500"},zt={class:"divide-y divide-slate-100 dark:divide-slate-700/50 lg:hidden"},Dt={class:"flex items-center justify-between"},St={class:"text-sm font-bold text-slate-900 dark:text-white"},Rt={class:"flex items-center gap-3"},Ft={class:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-primary-400 to-primary-600"},It={class:"text-[11px] font-semibold text-white"},Ot={class:"min-w-0 flex-1"},qt={class:"truncate text-sm font-medium text-slate-900 dark:text-white"},Ut={class:"text-xs text-slate-400"},Gt={class:"flex items-center justify-between pt-1"},Jt={class:"flex items-center gap-3 text-xs text-slate-500 dark:text-slate-400"},Kt={class:"flex items-center gap-1"},Qt=["onClick"],Wt=["href"],Xt=["onClick"],Yt=["title","onClick"],Zt=["fill"],es=["onClick"],ts=["onClick"],ss=["onClick"],rs={key:0,class:"py-12 text-center"},as={key:0,class:"border-t border-slate-100 bg-slate-50/50 px-4 py-3 dark:border-slate-700/50 dark:bg-slate-800/50"},os={class:"flex flex-col items-center justify-between gap-3 sm:flex-row"},ls={class:"text-xs text-slate-500 dark:text-slate-400"},ns={class:"font-medium"},is={class:"font-medium"},ds={class:"font-medium"},cs={key:0,class:"fixed inset-0 z-[60] overflow-y-auto"},us={class:"flex min-h-full items-center justify-center p-4"},xs={class:"p-6 text-center"},ms={class:"mb-1 text-lg font-semibold text-slate-900 dark:text-white"},bs={class:"text-sm text-slate-500 dark:text-slate-400"},ps={class:"flex gap-3 px-6 pb-6"},ks=["disabled"],_s={__name:"Index",props:{prescriptions:{type:Object,required:!0},filters:{type:Object,default:()=>({})},counts:{type:Object,default:()=>({})},permissions:{type:Object,default:()=>({})}},setup(d){const c=d,n=I({search:c.filters.search||"",tab:c.filters.tab||"actives",perPage:c.filters.perPage||10,payment:c.filters.payment||""}),x=w(()=>({canCreate:c.permissions.canCreate??!1,canEdit:c.permissions.canEdit??!1,canDelete:c.permissions.canDelete??!1,canAccessTrash:c.permissions.canAccessTrash??!1,canAccessArchive:c.permissions.canAccessArchive??!1,canViewPrescription:c.permissions.canViewPrescription??!1})),U=w(()=>x.value.canCreate),G=w(()=>x.value.canAccessTrash),m=I({show:!1,type:"",prescriptionId:null,processing:!1}),p=(i,t)=>{m.type=i,m.prescriptionId=t,m.show=!0,m.processing=!1},$=()=>{m.show=!1,m.type="",m.prescriptionId=null,m.processing=!1},k=w(()=>({delete:{title:"Mettre en corbeille ?",desc:"Cette action peut etre annulee depuis la corbeille.",color:"red",btn:"Supprimer",routeName:"secretaire.prescription.destroy",method:"delete"},restore:{title:"Restaurer cette prescription ?",desc:"Elle sera remise dans la liste active.",color:"amber",btn:"Restaurer",routeName:"secretaire.prescription.restore",method:"post"},permanentDelete:{title:"Supprimer definitivement ?",desc:"Cette action est irreversible.",color:"red",btn:"Supprimer",routeName:"secretaire.prescription.forceDelete",method:"delete"},archive:{title:"Archiver cette prescription ?",desc:"Elle sera deplacee vers les archives.",color:"slate",btn:"Archiver",routeName:"secretaire.prescription.archive",method:"post"},unarchive:{title:"Desarchiver cette prescription ?",desc:"Elle sera remise dans les prescriptions validees.",color:"amber",btn:"Desarchiver",routeName:"secretaire.prescription.unarchive",method:"post"},pay:{title:"Confirmer le paiement",desc:"Marquer comme paye ? La date sera enregistree automatiquement.",color:"emerald",btn:"Confirmer",routeName:"secretaire.prescription.togglePayment",method:"post"},unpay:{title:"Annuler le paiement",desc:"Marquer comme non paye ? La date de paiement sera supprimee.",color:"red",btn:"Confirmer",routeName:"secretaire.prescription.togglePayment",method:"post"},notify:{title:"Notifier le patient",desc:"Envoyer un SMS au patient pour cette prescription ?",color:"blue",btn:"Envoyer",routeName:"secretaire.prescription.notify",method:"post"}})[m.type]||{}),J=()=>{if(!m.prescriptionId||m.processing)return;m.processing=!0;const i=k.value,t=route(i.routeName,m.prescriptionId);q[i.method](t,{},{preserveScroll:!0,onFinish:()=>$()})},K=i=>{i.paiement&&p(i.paiement.status?"unpay":"pay",i.id)},V=w(()=>Number(c.counts.countActives||c.counts.actives||0)+Number(c.counts.countValide||c.counts.valide||0)+Number(c.counts.countArchive||c.counts.archive||0)+Number(c.counts.countDeleted||c.counts.deleted||0)),H=w(()=>{const i=Number(c.counts.countPaye||0),t=Number(c.counts.countNonPaye||0),s=i+t;return s===0?0:Math.round(i/s*100)}),T=w(()=>{const i=Number(c.counts.countEnCours||0),t=Number(c.counts.countTermine||0),s=Number(c.counts.countValide||c.counts.valide||0),f=V.value;return f===0?0:Math.round((i+t+s)/f*100)}),z=w(()=>{const i=Number(c.counts.countTermine||0),t=Number(c.counts.countValide||c.counts.valide||0),s=V.value;return s===0?0:Math.round((i+t)/s*100)}),_=()=>{q.get(route("secretaire.prescription.index"),n,{preserveState:!0,preserveScroll:!0,replace:!0})},D=re(()=>_(),300),N=i=>{n.tab=i,_()},C=i=>{n.payment=i,_()},S=()=>{n.search="",_()},Q=()=>{n.search="",n.payment="",_()},L=i=>n.tab===i?"text-primary-600 dark:text-primary-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300",R=i=>({EN_ATTENTE:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300",EN_COURS:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",TERMINE:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",VALIDE:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300",ARCHIVE:"bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300"})[i]||"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",F=i=>{var s,f,y;const t=String(((s=i.patient)==null?void 0:s.nom_complet)||"NA").trim().split(/\s+/).filter(Boolean);return`${((f=t[0])==null?void 0:f.charAt(0))||"N"}${((y=t[1])==null?void 0:y.charAt(0))||"A"}`.toUpperCase()},W=(i,t)=>{const s=String(i);return s.length<=t?s:`${s.slice(0,t)}...`},v=i=>Number(i||0).toLocaleString("fr-FR"),X=i=>({red:"bg-red-600 hover:bg-red-700",amber:"bg-amber-600 hover:bg-amber-700",slate:"bg-slate-600 hover:bg-slate-700",emerald:"bg-emerald-600 hover:bg-emerald-700"})[i]||"bg-primary-600 hover:bg-primary-700";return(i,t)=>(r(),j(ae,null,{default:B(()=>[e("div",le,[t[62]||(t[62]=e("div",{class:"mb-6 flex items-center gap-3"},[e("div",{class:"flex h-8 w-8 items-center justify-center rounded bg-primary-900/40 text-primary-400"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})])]),e("h1",{class:"text-xl font-bold text-slate-900 dark:text-white"},"Liste des prescriptions")],-1)),e("div",ne,[e("div",ie,[e("div",de,[t[13]||(t[13]=e("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center text-primary-500"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 12h4.5m2.5 0h8.5M8 12l2-4 2.5 8 2-4"})])],-1)),e("p",ce,o(v(d.counts.countActives||d.counts.actives)),1),t[14]||(t[14]=e("p",{class:"text-[11px] font-medium text-slate-500 dark:text-slate-400"},"En Traitement",-1))])]),e("div",ue,[e("div",xe,[t[15]||(t[15]=e("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center text-emerald-500"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("p",me,o(v(d.counts.countValide||d.counts.valide)),1),t[16]||(t[16]=e("p",{class:"text-[11px] font-medium text-slate-500 dark:text-slate-400"},"Validees",-1))])]),e("div",{class:u(["relative overflow-hidden rounded-xl bg-white p-3 transition-all hover:shadow-md dark:bg-slate-800",n.payment==="paye"?"border-emerald-400 ring-1 ring-emerald-400/50 dark:border-emerald-500":"border border-slate-200 dark:border-slate-700"])},[e("div",be,[t[17]||(t[17]=e("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center text-emerald-500"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("p",pe,o(v(d.counts.countPaye)),1),t[18]||(t[18]=e("p",{class:"text-[11px] font-medium text-slate-500 dark:text-slate-400"},"Payees",-1))]),e("button",{onClick:t[0]||(t[0]=s=>C("paye")),type:"button",class:"absolute inset-0 cursor-pointer focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Filtrer les payees"})],2),e("div",{class:u(["relative overflow-hidden rounded-xl bg-white p-3 transition-all hover:shadow-md dark:bg-slate-800",n.payment==="non_paye"?"border-red-400 ring-1 ring-red-400/50 dark:border-red-500":"border border-slate-200 dark:border-slate-700"])},[e("div",ke,[t[19]||(t[19]=e("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center text-red-500"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2.25m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("p",ve,o(v(d.counts.countNonPaye)),1),t[20]||(t[20]=e("p",{class:"text-[11px] font-medium text-slate-500 dark:text-slate-400"},"Non Payees",-1))]),e("button",{onClick:t[1]||(t[1]=s=>C("non_paye")),type:"button",class:"absolute inset-0 cursor-pointer focus:outline-none focus:ring-2 focus:ring-red-500/50",title:"Filtrer les non payees"})],2),e("div",he,[e("div",fe,[t[21]||(t[21]=e("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center"},null,-1)),e("p",ge,o(v(V.value)),1),t[22]||(t[22]=e("p",{class:"text-[11px] font-medium text-slate-500 dark:text-slate-400"},"Total",-1))])])]),e("div",ye,[e("div",we,[e("div",Ce,[t[23]||(t[23]=e("span",{class:"flex items-center gap-1.5 text-xs font-semibold text-emerald-500"},[e("span",{class:"h-2 w-2 rounded-full bg-emerald-500"}),b(" Taux de paiement ")],-1)),e("span",_e,o(H.value)+"%",1)]),e("div",Ae,[e("div",{class:"h-full rounded-full bg-emerald-500 transition-all duration-500",style:P({width:`${H.value}%`})},null,4)])]),e("div",je,[e("div",Me,[t[24]||(t[24]=e("span",{class:"flex items-center gap-1.5 text-xs font-semibold text-blue-500"},[e("span",{class:"h-2 w-2 rounded-full bg-blue-500"}),b(" Progression ")],-1)),e("span",Ne,o(T.value)+"%",1)]),e("div",Le,[e("div",{class:"h-full rounded-full bg-blue-500 transition-all duration-500",style:P({width:`${T.value}%`})},null,4)])]),e("div",Be,[e("div",$e,[t[25]||(t[25]=e("span",{class:"flex items-center gap-1.5 text-xs font-semibold text-primary-500"},[e("span",{class:"h-2 w-2 rounded-full bg-primary-500"}),b(" Efficacite ")],-1)),e("span",Ve,o(z.value)+"%",1)]),e("div",Pe,[e("div",{class:"h-full rounded-full bg-primary-500 transition-all duration-500",style:P({width:`${z.value}%`})},null,4)]),t[26]||(t[26]=e("div",{class:"mt-1.5 text-[10px] text-slate-400"},"Analyses completees",-1))])]),e("div",Ee,[e("div",He,[e("div",Te,[t[28]||(t[28]=e("svg",{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1)),Y(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>n.search=s),type:"text",placeholder:"Rechercher...",class:"w-full rounded-lg border border-slate-200 bg-slate-50 py-2.5 pl-10 pr-9 text-sm text-slate-900 placeholder-slate-400 transition-colors focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 dark:border-slate-600 dark:bg-slate-700/50 dark:text-slate-100",onInput:t[3]||(t[3]=(...s)=>M(D)&&M(D)(...s))},null,544),[[Z,n.search]]),n.search?(r(),a("button",{key:0,type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 transition-colors hover:text-slate-600 dark:hover:text-slate-300",onClick:S},[...t[27]||(t[27]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])):l("",!0)]),e("div",ze,[e("button",{type:"button",class:u(["flex items-center gap-1.5 rounded-md px-3 py-1.5 text-xs font-medium transition-all",n.payment?"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300":"bg-white text-slate-900 shadow-sm dark:bg-slate-600 dark:text-white"]),onClick:t[4]||(t[4]=s=>C(""))},[...t[29]||(t[29]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})],-1),b(" Toutes ",-1)])],2),e("button",{type:"button",class:u(["flex items-center gap-1.5 rounded-md px-3 py-1.5 text-xs font-medium transition-all",n.payment==="paye"?"bg-white text-slate-900 shadow-sm dark:bg-slate-600 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"]),onClick:t[5]||(t[5]=s=>C("paye"))},[t[30]||(t[30]=e("svg",{class:"h-4 w-4 text-emerald-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),b(" Payees ("+o(v(d.counts.countPaye))+") ",1)],2),e("button",{type:"button",class:u(["flex items-center gap-1.5 rounded-md px-3 py-1.5 text-xs font-medium transition-all",n.payment==="non_paye"?"bg-white text-slate-900 shadow-sm dark:bg-slate-600 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"]),onClick:t[6]||(t[6]=s=>C("non_paye"))},[t[31]||(t[31]=e("svg",{class:"h-4 w-4 text-red-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2.25m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),b(" Non payees ("+o(v(d.counts.countNonPaye))+") ",1)],2)]),U.value?(r(),j(M(E),{key:0,href:i.route("secretaire.prescription.create"),class:"inline-flex w-full items-center justify-center gap-2 rounded-lg bg-primary-500 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-600 md:w-auto"},{default:B(()=>[...t[32]||(t[32]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),b(" Nouvelle prescription ",-1)])]),_:1},8,["href"])):l("",!0)]),e("div",De,[e("nav",Se,[e("button",{type:"button",class:u(["relative px-4 py-3 text-sm font-medium transition-colors",L("actives")]),onClick:t[7]||(t[7]=s=>N("actives"))},[e("span",Re,[t[33]||(t[33]=b(" Actives ",-1)),e("span",{class:u(["inline-flex h-5 min-w-[20px] items-center justify-center rounded-full px-1.5 text-xs font-semibold",n.tab==="actives"?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"])},o(v(d.counts.countActives||d.counts.actives)),3)]),n.tab==="actives"?(r(),a("span",Fe)):l("",!0)],2),e("button",{type:"button",class:u(["relative px-4 py-3 text-sm font-medium transition-colors",L("valide")]),onClick:t[8]||(t[8]=s=>N("valide"))},[e("span",Ie,[t[34]||(t[34]=b(" Validees ",-1)),e("span",{class:u(["inline-flex h-5 min-w-[20px] items-center justify-center rounded-full px-1.5 text-xs font-semibold",n.tab==="valide"?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"])},o(v(d.counts.countValide||d.counts.valide)),3)]),n.tab==="valide"?(r(),a("span",Oe)):l("",!0)],2),x.value.canAccessArchive?(r(),a("button",{key:0,type:"button",class:u(["relative px-4 py-3 text-sm font-medium transition-colors",L("archive")]),onClick:t[9]||(t[9]=s=>N("archive"))},[e("span",qe,[t[35]||(t[35]=b(" Archives ",-1)),Number(d.counts.countArchive||d.counts.archive||0)>0?(r(),a("span",{key:0,class:u(["inline-flex h-5 min-w-[20px] items-center justify-center rounded-full px-1.5 text-xs font-semibold",n.tab==="archive"?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"])},o(v(d.counts.countArchive||d.counts.archive)),3)):l("",!0)]),n.tab==="archive"?(r(),a("span",Ue)):l("",!0)],2)):l("",!0),G.value?(r(),a("button",{key:1,type:"button",class:u(["relative px-4 py-3 text-sm font-medium transition-colors",L("deleted")]),onClick:t[10]||(t[10]=s=>N("deleted"))},[e("span",Ge,[t[36]||(t[36]=b(" Corbeille ",-1)),v(d.counts.countDeleted||d.counts.deleted)>0?(r(),a("span",Je,o(v(d.counts.countDeleted||d.counts.deleted)),1)):l("",!0)]),n.tab==="deleted"?(r(),a("span",Ke)):l("",!0)],2)):l("",!0)])])]),n.search||n.payment?(r(),a("div",Qe,[t[39]||(t[39]=e("span",{class:"text-xs text-slate-500 dark:text-slate-400"},"Filtres actifs :",-1)),n.search?(r(),a("span",We,[b(' "'+o(n.search)+'" ',1),e("button",{type:"button",class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",onClick:S},[...t[37]||(t[37]=[e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):l("",!0),n.payment?(r(),a("span",{key:1,class:u(["inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs",n.payment==="paye"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"])},[b(o(n.payment==="paye"?"Payees":"Non payees")+" ",1),e("button",{type:"button",class:"opacity-60 hover:opacity-100",onClick:t[11]||(t[11]=s=>C(""))},[...t[38]||(t[38]=[e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])],2)):l("",!0),e("button",{type:"button",class:"text-xs text-slate-400 underline hover:text-slate-600 dark:hover:text-slate-300",onClick:Q},"Tout effacer")])):l("",!0),e("div",Xe,[e("div",Ye,[e("table",Ze,[t[50]||(t[50]=e("thead",null,[e("tr",{class:"border-b border-slate-100 dark:border-slate-700"},[e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Reference"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Patient"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Prescripteur"),e("th",{class:"px-4 py-3 text-center text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Analyses"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Statut"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Paiement"),e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Date"),e("th",{class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Actions")])],-1)),e("tbody",et,[(r(!0),a(g,null,O(d.prescriptions.data,s=>{var f,y,A;return r(),a("tr",{key:s.id,class:"group transition-colors hover:bg-slate-50/50 dark:hover:bg-slate-700/20"},[e("td",tt,[e("span",st,o(s.reference),1)]),e("td",rt,[e("div",at,[e("div",ot,[e("span",lt,o(F(s)),1)]),e("div",nt,[e("p",it,o(((f=s.patient)==null?void 0:f.nom_complet)||"N/A"),1),e("p",dt,o(((y=s.patient)==null?void 0:y.telephone)||"-"),1)])])]),e("td",ct,[e("span",ut,o(W(((A=s.prescripteur)==null?void 0:A.nom)||"N/A",20)),1)]),e("td",xt,[e("span",mt,o(s.analyses_count||0),1)]),e("td",bt,[e("span",{class:u(["inline-flex rounded-full px-2.5 py-1 text-xs font-semibold",R(s.status)])},o(s.status_label),3)]),e("td",pt,[s.paiement?(r(),a("div",kt,[x.value.canEdit?(r(),a("button",{key:0,type:"button",class:u(["relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800",s.paiement.status?"bg-emerald-500":"bg-slate-300 dark:bg-slate-600"]),onClick:h=>K(s)},[e("span",{class:u(["pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200",s.paiement.status?"translate-x-4":"translate-x-0"])},null,2)],10,vt)):l("",!0),e("div",null,[e("span",{class:u(["text-xs font-medium",s.paiement.status?"text-emerald-600 dark:text-emerald-400":"text-red-500 dark:text-red-400"])},o(s.paiement.status?"Paye":"Non paye"),3),s.paiement.status&&s.paiement.date_paiement?(r(),a("p",ht,o(s.paiement.date_paiement),1)):l("",!0)])])):(r(),a("span",ft,"Aucun"))]),e("td",gt,[e("div",null,[e("p",yt,o(s.created_at||"N/A"),1),e("p",wt,o(s.created_at_relative||""),1)])]),e("td",Ct,[e("div",_t,[n.tab==="actives"||n.tab==="valide"?(r(),a(g,{key:0},[x.value.canEdit?(r(),j(M(E),{key:0,href:i.route("secretaire.prescription.edit",s.id),class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-50 text-emerald-600 hover:bg-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400 dark:hover:bg-emerald-900/40 transition-colors",title:"Modifier"},{default:B(()=>[...t[40]||(t[40]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])]),_:1},8,["href"])):l("",!0),x.value.canDelete?(r(),a("button",{key:1,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-500 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Supprimer",onClick:h=>p("delete",s.id)},[...t[41]||(t[41]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,At)):l("",!0)],64)):l("",!0),n.tab==="valide"?(r(),a(g,{key:1},[x.value.canViewPrescription?(r(),a("a",{key:0,href:i.route("laboratoire.prescription.pdf",s.id),target:"_blank",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Voir PDF"},[...t[42]||(t[42]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})],-1)])],8,jt)):l("",!0),x.value.canAccessArchive?(r(),a("button",{key:1,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-slate-100 text-slate-500 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700 transition-colors",title:"Archiver",onClick:h=>p("archive",s.id)},[...t[43]||(t[43]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})],-1)])],8,Mt)):l("",!0),x.value.canEdit?(r(),a("button",{key:2,type:"button",class:u(["inline-flex h-8 w-8 items-center justify-center rounded-lg transition-colors",s.notified_at?"bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400":"bg-slate-50 text-slate-400 hover:bg-slate-100 dark:bg-slate-800 dark:text-slate-500"]),title:s.notified_at?"Notifie le "+s.notified_at:"Notifier le patient",onClick:h=>p("notify",s.id)},[(r(),a("svg",{class:"h-4 w-4",fill:s.notified_at?"currentColor":"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[...t[44]||(t[44]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"},null,-1)])],8,Lt))],10,Nt)):l("",!0)],64)):n.tab==="archive"?(r(),a(g,{key:2},[x.value.canAccessArchive?(r(),a("button",{key:0,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-amber-50 text-amber-600 hover:bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:hover:bg-amber-900/40 transition-colors",title:"Desarchiver",onClick:h=>p("unarchive",s.id)},[...t[45]||(t[45]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})],-1)])],8,Bt)):l("",!0)],64)):n.tab==="deleted"?(r(),a(g,{key:3},[x.value.canAccessTrash?(r(),a("button",{key:0,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-amber-50 text-amber-600 hover:bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:hover:bg-amber-900/40 transition-colors",title:"Restaurer",onClick:h=>p("restore",s.id)},[...t[46]||(t[46]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})],-1)])],8,$t)):l("",!0),x.value.canAccessTrash?(r(),a("button",{key:1,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Supprimer definitivement",onClick:h=>p("permanentDelete",s.id)},[...t[47]||(t[47]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,Vt)):l("",!0)],64)):l("",!0)])])])}),128)),d.prescriptions.data.length===0?(r(),a("tr",Pt,[e("td",Et,[e("div",Ht,[t[48]||(t[48]=e("div",{class:"mb-3 flex h-11 w-11 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700"},[e("svg",{class:"h-5 w-5 text-slate-400 dark:text-slate-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375H8.25"})])],-1)),t[49]||(t[49]=e("p",{class:"text-sm font-medium text-slate-600 dark:text-slate-400"},"Aucune prescription trouvee",-1)),n.search?(r(),a("p",Tt,"Essayez de modifier vos criteres de recherche")):l("",!0)])])])):l("",!0)])])]),e("div",zt,[(r(!0),a(g,null,O(d.prescriptions.data,s=>{var f,y,A;return r(),a("div",{key:`m-${s.id}`,class:"space-y-3 p-4"},[e("div",Dt,[e("span",St,o(s.reference),1),e("span",{class:u(["inline-flex rounded-full px-2.5 py-1 text-xs font-semibold",R(s.status)])},o(s.status_label),3)]),e("div",Rt,[e("div",Ft,[e("span",It,o(F(s)),1)]),e("div",Ot,[e("p",qt,o(((f=s.patient)==null?void 0:f.nom_complet)||"N/A"),1),e("p",Ut,o(((y=s.prescripteur)==null?void 0:y.nom)||"N/A")+" Â· "+o(((A=s.patient)==null?void 0:A.telephone)||"-"),1)])]),e("div",Gt,[e("div",Jt,[e("span",null,o(s.analyses_count||0)+" analyses",1),s.paiement?(r(),a("span",{key:0,class:u(s.paiement.status?"text-emerald-500":"text-red-500")},o(s.paiement.status?"Paye":"Non paye"),3)):l("",!0),e("span",null,o(s.created_at),1)]),e("div",Kt,[n.tab==="actives"||n.tab==="valide"?(r(),a(g,{key:0},[x.value.canEdit?(r(),j(M(E),{key:0,href:i.route("secretaire.prescription.edit",s.id),class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-50 text-emerald-600 hover:bg-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400 dark:hover:bg-emerald-900/40 transition-colors",title:"Modifier"},{default:B(()=>[...t[51]||(t[51]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])]),_:1},8,["href"])):l("",!0),x.value.canDelete?(r(),a("button",{key:1,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-500 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Supprimer",onClick:h=>p("delete",s.id)},[...t[52]||(t[52]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,Qt)):l("",!0)],64)):l("",!0),n.tab==="valide"?(r(),a(g,{key:1},[x.value.canViewPrescription?(r(),a("a",{key:0,href:i.route("laboratoire.prescription.pdf",s.id),target:"_blank",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Voir PDF"},[...t[53]||(t[53]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})],-1)])],8,Wt)):l("",!0),x.value.canAccessArchive?(r(),a("button",{key:1,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-slate-100 text-slate-500 hover:bg-slate-200 dark:bg-slate-800 dark:text-slate-400 dark:hover:bg-slate-700 transition-colors",title:"Archiver",onClick:h=>p("archive",s.id)},[...t[54]||(t[54]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})],-1)])],8,Xt)):l("",!0),x.value.canEdit?(r(),a("button",{key:2,type:"button",class:u(["inline-flex h-8 w-8 items-center justify-center rounded-lg transition-colors",s.notified_at?"bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400":"bg-slate-50 text-slate-400 hover:bg-slate-100 dark:bg-slate-800 dark:text-slate-500"]),title:s.notified_at?"Notifie le "+s.notified_at:"Notifier le patient",onClick:h=>p("notify",s.id)},[(r(),a("svg",{class:"h-4 w-4",fill:s.notified_at?"currentColor":"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[...t[55]||(t[55]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"},null,-1)])],8,Zt))],10,Yt)):l("",!0)],64)):n.tab==="archive"?(r(),a(g,{key:2},[x.value.canAccessArchive?(r(),a("button",{key:0,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-amber-50 text-amber-600 hover:bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:hover:bg-amber-900/40 transition-colors",title:"Desarchiver",onClick:h=>p("unarchive",s.id)},[...t[56]||(t[56]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})],-1)])],8,es)):l("",!0)],64)):n.tab==="deleted"?(r(),a(g,{key:3},[x.value.canAccessTrash?(r(),a("button",{key:0,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-amber-50 text-amber-600 hover:bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:hover:bg-amber-900/40 transition-colors",title:"Restaurer",onClick:h=>p("restore",s.id)},[...t[57]||(t[57]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})],-1)])],8,ts)):l("",!0),x.value.canAccessTrash?(r(),a("button",{key:1,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Supprimer definitivement",onClick:h=>p("permanentDelete",s.id)},[...t[58]||(t[58]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,ss)):l("",!0)],64)):l("",!0)])])])}),128)),d.prescriptions.data.length===0?(r(),a("div",rs,[...t[59]||(t[59]=[e("p",{class:"text-sm text-slate-500"},"Aucune prescription trouvee",-1)])])):l("",!0)]),d.prescriptions.links&&d.prescriptions.links.length>3?(r(),a("div",as,[e("div",os,[e("p",ls,[e("span",ns,o(d.prescriptions.from||0),1),t[60]||(t[60]=b(" a ",-1)),e("span",is,o(d.prescriptions.to||0),1),t[61]||(t[61]=b(" sur ",-1)),e("span",ds,o(d.prescriptions.total||0),1)]),ee(oe,{links:d.prescriptions.links},null,8,["links"])])])):l("",!0)])]),(r(),j(te,{to:"body"},[m.show?(r(),a("div",cs,[e("div",{class:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:$}),e("div",us,[e("div",{class:"relative w-full max-w-sm rounded-2xl bg-white shadow-xl dark:bg-slate-800",onClick:t[12]||(t[12]=se(()=>{},["stop"]))},[e("div",xs,[e("div",{class:u(["mx-auto mb-4 flex h-11 w-11 items-center justify-center rounded-full",{"bg-red-100 dark:bg-red-900/30":k.value.color==="red","bg-amber-100 dark:bg-amber-900/30":k.value.color==="amber","bg-slate-100 dark:bg-slate-700":k.value.color==="slate","bg-emerald-100 dark:bg-emerald-900/30":k.value.color==="emerald"}])},[(r(),a("svg",{class:u(["h-5 w-5",{"text-red-600 dark:text-red-400":k.value.color==="red","text-amber-600 dark:text-amber-400":k.value.color==="amber","text-slate-600 dark:text-slate-400":k.value.color==="slate","text-emerald-600 dark:text-emerald-400":k.value.color==="emerald"}]),fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[...t[63]||(t[63]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])],2))],2),e("h3",ms,o(k.value.title),1),e("p",bs,o(k.value.desc),1)]),e("div",ps,[e("button",{type:"button",class:"flex-1 rounded-lg bg-slate-100 px-4 py-2.5 text-sm font-medium text-slate-700 transition-colors hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600",onClick:$},"Annuler"),e("button",{type:"button",class:u(["flex-1 rounded-lg px-4 py-2.5 text-sm font-medium text-white transition-colors",X(k.value.color)]),disabled:m.processing,onClick:J},o(m.processing?"...":k.value.btn),11,ks)])])])])):l("",!0)]))]),_:1}))}};export{_s as default};
