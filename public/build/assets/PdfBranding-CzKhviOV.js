import{r as y,u as C,c as o,a as f,b as r,h as L,d as v,e,i as S,j as u,o as a,t as n,f as p,l as x,g as P,A as m,F as b,p as h}from"./app-CWaj6zxT.js";import{a as V,_ as B,S as D}from"./AppLayout-D228TyHL.js";/* empty css            */import"./_commonjsHelpers-_d1bhYXs.js";import"./debounce-D0G5qrda.js";const U={class:"py-12"},F={class:"max-w-[1600px] mx-auto sm:px-6 lg:px-8"},M={class:"grid grid-cols-1 xl:grid-cols-12 gap-8"},O={class:"xl:col-span-5 space-y-6"},R={class:"bg-white dark:bg-gray-800 shadow-xl sm:rounded-2xl border border-gray-100 dark:border-gray-700 overflow-hidden"},I={class:"p-6 sm:p-8"},N={class:"group relative flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-6 transition-all hover:border-primary-400 dark:hover:border-primary-500 bg-gray-50 dark:bg-gray-900/50"},q={class:"text-center space-y-2"},T={key:0,class:"relative inline-block"},A=["src"],E={key:1,class:"py-4"},G={key:0,class:"text-red-500 text-xs mt-1 font-medium"},$={class:"grid grid-cols-1 sm:grid-cols-2 gap-6"},z={class:"flex items-center gap-3 p-2 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700"},H={key:0,class:"text-red-500 text-xs mt-1"},J={class:"flex items-center gap-3 p-2 bg-gray-50 dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700"},K={key:0,class:"text-red-500 text-xs mt-1"},Q={class:"group relative flex items-center justify-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-xl p-6 transition-all hover:border-primary-400 bg-gray-50 dark:bg-gray-900/50"},W={class:"text-center"},X={key:0,class:"relative inline-block"},Y=["src"],Z={key:1,class:"py-4"},ee={key:0,class:"text-red-500 text-xs mt-1 font-medium"},te={class:"pt-4"},se=["disabled"],re={key:0,class:"ni ni-loader animate-spin mr-2"},oe={key:1,class:"ni ni-check-circle-cut mr-2"},ae={class:"xl:col-span-7"},ie={class:"sticky top-8"},le={class:"bg-gray-200 dark:bg-gray-900 p-8 rounded-2xl shadow-inner border border-gray-300 dark:border-gray-700 min-h-[800px] flex justify-center"},ne={class:"bg-white w-full max-w-[600px] shadow-2xl p-10 flex flex-col font-sans pointer-events-none select-none"},de={class:"mb-4"},ce={class:"flex justify-center mb-2"},ge=["src"],ue={key:1,class:"h-16 w-48 bg-gray-100 border rounded flex items-center justify-center italic text-gray-400 text-xs"},pe={class:"flex-1 mt-6"},xe={class:"flex items-center gap-4 mb-4"},me={class:"space-y-3"},be={class:"mt-10 flex items-center gap-4 mb-4"},ye={class:"space-y-3"},fe={class:"mt-auto pt-8 border-t border-gray-100 flex justify-between items-end"},ve={class:"text-[8px] text-gray-400"},he={class:"text-center"},_e=["src"],we={key:1,class:"h-12 w-32 bg-gray-50 rounded border border-dashed flex items-center justify-center text-[8px] text-gray-300 italic"},ke={__name:"PdfBranding",props:{branding:Object},setup(_){const l=_,d=y(l.branding.logo_path?`/storage/${l.branding.logo_path}`:null),c=y(l.branding.signature_image_path?`/storage/${l.branding.signature_image_path}`:null),s=C({logo:null,exam_color:l.branding.exam_color||"#d10000",highlight_color:l.branding.highlight_color||"#d10000",signature_image:null}),w=g=>{const t=g.target.files[0];t&&(s.logo=t,d.value=URL.createObjectURL(t))},k=g=>{const t=g.target.files[0];t&&(s.signature_image=t,c.value=URL.createObjectURL(t))},j=()=>{s.post(route("admin.pdf-branding.store"),{onSuccess:()=>{D.fire({icon:"success",title:"Configuration enregistrée",text:"L'identité visuelle de vos rapports PDF a été mise à jour.",toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3})}})};return(g,t)=>(a(),o(b,null,[f(r(L),{title:"Branding PDF"}),f(B,null,{header:v(()=>[...t[4]||(t[4]=[e("div",{class:"flex items-center justify-between"},[e("h2",{class:"font-semibold text-2xl text-gray-800 dark:text-gray-200 leading-tight"}," Personnalisation des Rapports PDF "),e("div",{class:"flex items-center gap-2"},[e("span",{class:"px-3 py-1 bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400 text-xs font-bold rounded-full border border-primary-200 dark:border-primary-800 uppercase tracking-widest"}," Premium ")])],-1)])]),default:v(()=>[e("div",U,[e("div",F,[e("div",M,[e("div",O,[e("div",R,[e("div",I,[e("form",{onSubmit:S(j,["prevent"]),class:"space-y-8"},[e("section",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-4"}," En-tête & Logo ",-1)),e("div",N,[e("div",q,[d.value?(a(),o("div",T,[e("img",{src:d.value,alt:"Logo preview",class:"max-h-24 mx-auto rounded shadow-sm"},null,8,A),t[5]||(t[5]=e("div",{class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded"},[e("em",{class:"ni ni-camera text-white text-2xl"})],-1))])):(a(),o("div",E,[...t[6]||(t[6]=[e("em",{class:"ni ni-img text-4xl text-gray-400"},null,-1),e("p",{class:"text-xs text-gray-500 mt-2"},"Cliquez pour ajouter un logo",-1)])])),e("input",{type:"file",onChange:w,accept:"image/*",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},null,32)])]),t[8]||(t[8]=e("p",{class:"mt-2 text-[11px] text-gray-500 italic"},"Format recommandé : PNG transparent, Max 2 Mo.",-1)),r(s).errors.logo?(a(),o("div",G,n(r(s).errors.logo),1)):u("",!0)]),e("section",$,[e("div",null,[t[9]||(t[9]=e("label",{class:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest mb-2"},"Couleur des Titres",-1)),e("div",z,[p(e("input",{type:"color","onUpdate:modelValue":t[0]||(t[0]=i=>r(s).exam_color=i),class:"h-10 w-12 rounded border-0 cursor-pointer bg-transparent"},null,512),[[x,r(s).exam_color]]),p(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=i=>r(s).exam_color=i),class:"flex-1 uppercase bg-transparent border-0 text-sm font-mono dark:text-white focus:ring-0"},null,512),[[x,r(s).exam_color]])]),r(s).errors.exam_color?(a(),o("div",H,n(r(s).errors.exam_color),1)):u("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest mb-2"},"Couleur des Traits",-1)),e("div",J,[p(e("input",{type:"color","onUpdate:modelValue":t[2]||(t[2]=i=>r(s).highlight_color=i),class:"h-10 w-12 rounded border-0 cursor-pointer bg-transparent"},null,512),[[x,r(s).highlight_color]]),p(e("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=i=>r(s).highlight_color=i),class:"flex-1 uppercase bg-transparent border-0 text-sm font-mono dark:text-white focus:ring-0"},null,512),[[x,r(s).highlight_color]])]),r(s).errors.highlight_color?(a(),o("div",K,n(r(s).errors.highlight_color),1)):u("",!0)])]),e("section",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wider mb-4"}," Signature Numérique (Obligatoire) ",-1)),e("div",Q,[e("div",W,[c.value?(a(),o("div",X,[e("img",{src:c.value,alt:"Signature preview",class:"max-h-20 mx-auto rounded"},null,8,Y),t[11]||(t[11]=e("div",{class:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center rounded"},[e("em",{class:"ni ni-pen text-white text-2xl"})],-1))])):(a(),o("div",Z,[...t[12]||(t[12]=[e("em",{class:"ni ni-edit-alt text-4xl text-gray-400"},null,-1),e("p",{class:"text-xs text-gray-500 mt-2 font-medium text-red-500"},"Signature requise pour valider les rapports",-1)])])),e("input",{type:"file",onChange:k,accept:"image/*",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"},null,32)])]),r(s).errors.signature_image?(a(),o("div",ee,n(r(s).errors.signature_image),1)):u("",!0)]),e("div",te,[e("button",{type:"submit",disabled:r(s).processing,class:"w-full inline-flex items-center justify-center px-6 py-4 border border-transparent text-base font-bold rounded-xl shadow-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all transform active:scale-95 disabled:opacity-50 disabled:active:scale-100"},[r(s).processing?(a(),o("em",re)):(a(),o("em",oe)),P(" "+n(r(s).processing?"Mise à jour...":"Appliquer les changements"),1)],8,se)])],32)])])]),e("div",ae,[e("div",ie,[t[21]||(t[21]=e("label",{class:"block text-sm font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest mb-4"}," Aperçu en temps réel ",-1)),e("div",le,[e("div",ne,[e("div",de,[e("div",ce,[d.value?(a(),o("img",{key:0,src:d.value,class:"max-h-20 object-contain"},null,8,ge)):(a(),o("div",ue," Votre Logo Ici "))]),e("div",{class:"h-px w-full",style:m({backgroundColor:r(s).highlight_color})},null,4)]),e("div",pe,[t[19]||(t[19]=e("div",{class:"flex justify-between mb-8 border-b pb-4 border-gray-100"},[e("div",{class:"space-y-1"},[e("div",{class:"h-3 w-32 bg-gray-100 rounded"}),e("div",{class:"h-4 w-48 bg-gray-200 rounded"}),e("div",{class:"h-3 w-40 bg-gray-100 rounded"})]),e("div",{class:"text-right space-y-1"},[e("div",{class:"h-3 w-24 bg-gray-100 rounded ml-auto"}),e("div",{class:"h-3 w-32 bg-gray-100 rounded ml-auto"})])],-1)),e("div",xe,[e("div",{class:"text-lg font-bold uppercase tracking-wide",style:m({color:r(s).exam_color})}," HÉMATOLOGIE ",4),t[14]||(t[14]=e("div",{class:"flex-1 h-[0.5px] bg-gray-200"},null,-1))]),e("div",me,[t[16]||(t[16]=e("div",{class:"flex border-b border-gray-100 pb-1 italic text-[10px] text-gray-400"},[e("div",{class:"w-1/2"},"Désignation"),e("div",{class:"w-1/4"},"Résultat"),e("div",{class:"w-1/4"},"Valeur Réf.")],-1)),(a(),o(b,null,h(4,i=>e("div",{key:i,class:"flex items-center py-1"},[...t[15]||(t[15]=[e("div",{class:"w-1/2 h-3 w-32 bg-gray-50 rounded"},null,-1),e("div",{class:"w-1/4 h-3 w-16 bg-gray-100 rounded"},null,-1),e("div",{class:"w-1/4 h-3 w-20 bg-gray-50 rounded"},null,-1)])])),64))]),e("div",be,[e("div",{class:"text-lg font-bold uppercase tracking-wide",style:m({color:r(s).exam_color})}," BIOCHIMIE ",4),t[17]||(t[17]=e("div",{class:"flex-1 h-[0.5px] bg-gray-200"},null,-1))]),e("div",ye,[(a(),o(b,null,h(3,i=>e("div",{key:i,class:"flex items-center py-1"},[...t[18]||(t[18]=[e("div",{class:"w-1/2 h-3 w-40 bg-gray-50 rounded"},null,-1),e("div",{class:"w-1/4 h-3 w-12 bg-gray-100 rounded"},null,-1),e("div",{class:"w-1/4 h-3 w-24 bg-gray-50 rounded"},null,-1)])])),64))])]),e("div",fe,[e("div",ve," Généré le "+n(new Date().toLocaleDateString()),1),e("div",he,[t[20]||(t[20]=e("div",{class:"text-[9px] font-bold text-gray-600 mb-2 uppercase tracking-tighter"},"Le Biologiste",-1)),c.value?(a(),o("img",{key:0,src:c.value,class:"max-h-16 mx-auto opacity-90"},null,8,_e)):(a(),o("div",we," Signature manquante "))])])])])])])])])])]),_:1})],64))}},Ve=V(ke,[["__scopeId","data-v-c5fa4788"]]);export{Ve as default};
