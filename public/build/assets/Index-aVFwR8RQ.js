import{I as h,s as w,b as p,d as t,a as c,u as f,y as k,p as v,n as o,t as r,j as _,e as C,v as j,c as b,g as V,o as n,F as $,f as A,l as N}from"./app-CiuF_e4D.js";import{_ as P}from"./AppLayout-BkGK7l-O.js";import{_ as S}from"./Pagination-CGNn-Aix.js";/* empty css            */import"./_commonjsHelpers-_d1bhYXs.js";import"./debounce-D0G5qrda.js";const B={class:"space-y-6"},F={class:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between"},O={class:"grid grid-cols-2 gap-3 lg:grid-cols-4"},D={class:"mt-1 text-xl font-bold"},I={class:"mt-1 text-xl font-bold"},T={class:"mt-1 text-xl font-bold"},L={class:"mt-1 text-xl font-bold"},M={class:"overflow-hidden rounded-xl border border-slate-200 bg-white dark:border-slate-700 dark:bg-slate-800"},R={class:"overflow-x-auto"},z={class:"min-w-full divide-y divide-slate-200 dark:divide-slate-700"},E={class:"divide-y divide-slate-100 dark:divide-slate-700"},U={class:"px-4 py-3 font-semibold text-slate-900 dark:text-white"},q={class:"px-4 py-3 text-slate-700 dark:text-slate-300"},G={class:"text-xs text-slate-500"},H={class:"px-4 py-3 text-slate-700 dark:text-slate-300"},J={class:"px-4 py-3"},K={class:"inline-flex rounded-full bg-slate-100 px-2.5 py-1 text-xs font-semibold text-slate-700 dark:bg-slate-700 dark:text-slate-100"},Q={class:"px-4 py-3 text-slate-700 dark:text-slate-300"},W={class:"px-4 py-3 text-slate-700 dark:text-slate-300"},X={class:"px-4 py-3 text-right"},Y={key:0},Z={class:"border-t border-slate-200 px-4 py-4 dark:border-slate-700"},it={__name:"Index",props:{prescriptions:Object,filters:Object,counts:Object},setup(a){const x=a,l=h({search:x.filters.search||"",tab:x.filters.tab||"actives",perPage:x.filters.perPage||10}),m=()=>{N.get(route("secretaire.prescription.index"),l,{preserveState:!0,preserveScroll:!0,replace:!0})},i=d=>{l.tab=d,m()};return(d,e)=>(n(),w(P,null,{default:p(()=>[t("div",B,[t("div",F,[e[6]||(e[6]=t("div",null,[t("h1",{class:"text-2xl font-semibold text-slate-900 dark:text-white"},"Preinscriptions"),t("p",{class:"text-sm text-slate-500 dark:text-slate-400"},"Liste Inertia des preinscriptions secretaire.")],-1)),c(f(k),{href:d.route("secretaire.prescription.create"),class:"inline-flex items-center justify-center rounded-lg bg-primary-600 px-4 py-2 text-sm font-semibold text-white hover:bg-primary-700 transition-colors"},{default:p(()=>[...e[5]||(e[5]=[v(" Nouvelle preinscription ",-1)])]),_:1},8,["href"])]),t("div",O,[t("button",{type:"button",class:o(["rounded-lg border px-4 py-3 text-left transition-colors",l.tab==="actives"?"border-primary-500 bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-300":"border-slate-200 bg-white text-slate-700 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200"]),onClick:e[0]||(e[0]=s=>i("actives"))},[e[7]||(e[7]=t("div",{class:"text-xs uppercase tracking-wide"},"Actives",-1)),t("div",D,r(a.counts.actives),1)],2),t("button",{type:"button",class:o(["rounded-lg border px-4 py-3 text-left transition-colors",l.tab==="valide"?"border-primary-500 bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-300":"border-slate-200 bg-white text-slate-700 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200"]),onClick:e[1]||(e[1]=s=>i("valide"))},[e[8]||(e[8]=t("div",{class:"text-xs uppercase tracking-wide"},"Validees",-1)),t("div",I,r(a.counts.valide),1)],2),t("button",{type:"button",class:o(["rounded-lg border px-4 py-3 text-left transition-colors",l.tab==="archive"?"border-primary-500 bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-300":"border-slate-200 bg-white text-slate-700 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200"]),onClick:e[2]||(e[2]=s=>i("archive"))},[e[9]||(e[9]=t("div",{class:"text-xs uppercase tracking-wide"},"Archivees",-1)),t("div",T,r(a.counts.archive),1)],2),t("button",{type:"button",class:o(["rounded-lg border px-4 py-3 text-left transition-colors",l.tab==="deleted"?"border-primary-500 bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-300":"border-slate-200 bg-white text-slate-700 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-200"]),onClick:e[3]||(e[3]=s=>i("deleted"))},[e[10]||(e[10]=t("div",{class:"text-xs uppercase tracking-wide"},"Corbeille",-1)),t("div",L,r(a.counts.deleted),1)],2)]),t("form",{class:"grid grid-cols-1 gap-3 sm:grid-cols-4",onSubmit:_(m,["prevent"])},[C(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>l.search=s),type:"text",class:"sm:col-span-3 rounded-lg border border-slate-300 bg-white px-3 py-2 text-sm text-slate-900 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-500/30 dark:border-slate-700 dark:bg-slate-800 dark:text-white",placeholder:"Rechercher reference, nom, telephone..."},null,512),[[j,l.search]]),e[11]||(e[11]=t("button",{type:"submit",class:"rounded-lg bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-700 transition-colors dark:bg-slate-100 dark:text-slate-900 dark:hover:bg-white"}," Filtrer ",-1))],32),t("div",M,[t("div",R,[t("table",z,[e[14]||(e[14]=t("thead",{class:"bg-slate-50 dark:bg-slate-900/50"},[t("tr",null,[t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500"},"Reference"),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500"},"Patient"),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500"},"Prescripteur"),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500"},"Statut"),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500"},"Analyses"),t("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500"},"Date"),t("th",{class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-slate-500"},"Action")])],-1)),t("tbody",E,[(n(!0),b($,null,A(a.prescriptions.data,s=>{var u,g,y;return n(),b("tr",{key:s.id},[t("td",U,r(s.reference),1),t("td",q,[t("div",null,r(((u=s.patient)==null?void 0:u.nom_complet)||"-"),1),t("div",G,r(((g=s.patient)==null?void 0:g.telephone)||""),1)]),t("td",H,r(((y=s.prescripteur)==null?void 0:y.nom)||"-"),1),t("td",J,[t("span",K,r(s.status_label),1)]),t("td",Q,r(s.analyses_count),1),t("td",W,r(s.created_at||s.deleted_at||"-"),1),t("td",X,[c(f(k),{href:d.route("secretaire.prescription.edit",s.id),class:"text-sm font-semibold text-primary-600 hover:text-primary-700 dark:text-primary-400"},{default:p(()=>[...e[12]||(e[12]=[v(" Ouvrir ",-1)])]),_:1},8,["href"])])])}),128)),a.prescriptions.data.length===0?(n(),b("tr",Y,[...e[13]||(e[13]=[t("td",{colspan:"7",class:"px-4 py-10 text-center text-sm text-slate-500 dark:text-slate-400"}," Aucune preinscription trouvee. ",-1)])])):V("",!0)])])]),t("div",Z,[c(S,{links:a.prescriptions.links},null,8,["links"])])])])]),_:1}))}};export{it as default};
