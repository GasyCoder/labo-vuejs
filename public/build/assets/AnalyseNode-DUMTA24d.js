import{L as V,b as a,d as l,e as n,n as c,t as o,F as u,f as g,j as N,k as i,g as b,s as x,v as F,o as s,x as E,M as I}from"./app-DLV50I-f.js";import C from"./GermeCulture-CyXCpoMm.js";/* empty css            */import"./_commonjsHelpers-_d1bhYXs.js";import"./debounce-D0G5qrda.js";const A={class:"bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg shadow-sm p-6 mb-4 hover:shadow-md transition-shadow duration-200"},S={class:"flex items-start justify-between mb-4"},T={class:"flex-1"},O={class:"flex items-center gap-3 mb-2 flex-wrap"},P={key:1,class:"inline-flex items-center px-3 py-1 text-xs font-medium bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-lg"},L={key:0,class:"flex-shrink-0 ml-4 p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700"},q={class:"text-xs space-y-1"},j={key:0,class:"flex items-center gap-2"},G={class:"text-slate-500 dark:text-slate-400"},R={class:"font-medium text-green-600 dark:text-green-400"},U={key:1,class:"flex items-center gap-2"},$={class:"font-medium text-slate-700 dark:text-slate-300"},M={key:2,class:"flex items-center gap-2"},z={class:"font-medium text-slate-700 dark:text-slate-300"},B={key:0,class:"space-y-4 pl-4 border-l-2 border-slate-200 dark:border-slate-700"},D={key:1,class:"space-y-4"},H={key:0,class:"p-4 bg-slate-50 dark:bg-slate-800/50 border border-slate-200 dark:border-slate-700 rounded-lg"},Q={class:"text-slate-700 dark:text-slate-200 text-sm leading-relaxed"},K={key:1,class:"mt-2"},X={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Y={class:"space-y-2"},J={class:"block text-xs text-slate-700 dark:text-slate-300"},W={key:0},Z={key:1,class:"ml-2 text-green-600 dark:text-green-400 font-medium"},p=["value"],_={class:"space-y-2"},ee=["value"],te={key:3,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},le={class:"space-y-2"},de={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},se={key:0},ae={class:"flex"},oe=["value"],ne={key:0,class:"inline-flex items-center px-3 py-2 bg-slate-100 dark:bg-slate-800 border border-l-0 border-slate-300 dark:border-slate-600 rounded-r-lg text-slate-700 dark:text-slate-300 text-sm font-medium"},re={class:"space-y-2"},ie=["value"],ue={key:4,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ge={class:"space-y-2"},be={key:0,class:"space-y-2"},ce=["value"],xe=["value"],me=["value"],ke=["value"],ve={class:"space-y-2"},fe=["value"],ye={key:5,class:"grid grid-cols-1 md:grid-cols-2 gap-4"},he={class:"space-y-3"},Fe={class:"flex gap-6"},we={class:"flex items-center gap-3 cursor-pointer group"},Ve=["checked"],Ne={class:"flex items-center gap-3 cursor-pointer group"},Ee=["checked"],Ie={class:"space-y-2"},Ce=["value"],Ae={key:6,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Se={class:"space-y-3"},Te={class:"flex gap-6"},Oe={class:"flex items-center gap-2 cursor-pointer"},Pe=["checked"],Le={class:"flex items-center gap-2 cursor-pointer"},qe=["checked"],je={class:"space-y-2"},Ge={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},Re={key:0},Ue=["value"],$e={key:7,class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Me={class:"space-y-3"},ze={class:"flex gap-4"},Be={class:"flex items-center gap-2 cursor-pointer"},De=["checked"],He={class:"flex items-center gap-2 cursor-pointer"},Qe=["checked"],Ke={class:"space-y-2"},Xe={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},Ye={key:0},Je=["value"],We={class:"space-y-2"},Ze=["value"],pe={key:8,class:"grid grid-cols-1 md:grid-cols-3 gap-4"},_e={class:"space-y-2"},et=["value"],tt={class:"space-y-2"},lt=["value"],dt={class:"space-y-2"},st=["value"],at={key:9,class:"bg-gradient-to-r from-pink-50 to-pink-100 dark:from-pink-900/20 dark:to-pink-800/20 border border-pink-200 dark:border-pink-800 rounded-xl p-6"},ot={class:"grid grid-cols-1 lg:grid-cols-2 gap-4"},nt={class:"space-y-2"},rt={key:0,class:"space-y-2"},it=["value"],ut=["value"],gt=["value"],bt=["value"],ct={class:"space-y-2"},xt=["value"],mt={key:10,class:"space-y-2"},kt={class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},vt={key:0,class:"ml-2 text-green-600 dark:text-green-400 font-medium text-xs"},ft={key:0,class:"space-y-2"},yt=["value"],ht=["value"],Ft=["value"],wt=["value"],Vt={key:2,class:"pt-4 border-t border-slate-200 dark:border-slate-700 mt-4 space-y-3"},Nt={class:"inline-flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400"},Et={key:0,class:"px-2 py-0.5 bg-slate-100 dark:bg-slate-800 rounded-full"},It={class:"space-y-3"},Ct={key:0,class:"space-y-2 mt-2"},At={class:"flex justify-between items-start mb-1"},St={class:"text-xs text-slate-500 dark:text-slate-400"},Tt={key:0,class:"flex gap-2 text-xs font-semibold"},Ot=["onClick"],Pt=["onClick"],Lt={key:0,class:"flex gap-2 mt-2"},qt={key:1,class:"text-slate-800 dark:text-slate-200 whitespace-pre-wrap"},jt={key:1,class:"pt-2"},Gt={class:"mt-2 bg-white dark:bg-slate-800 p-3 rounded-lg border border-slate-200 dark:border-slate-700 shadow-sm relative"},Rt={class:"flex justify-end gap-2 mt-2"},Ut={name:"AnalyseNode"},Qt=Object.assign(Ut,{props:{node:{type:Object,required:!0},prescriptionId:{type:Number,required:!0},familles:{type:Array,required:!0},getFormValue:{type:Function,required:!0},setFormValue:{type:Function,required:!0},saveStatus:{type:Object,required:!0},savedAt:{type:Object,required:!0},canEditConclusions:{type:Boolean,default:!1},notesState:{type:Object,required:!0},noteDrafts:{type:Object,required:!0},noteEditId:{type:Object,required:!0},noteEditText:{type:Object,required:!0},openNotes:{type:Object,required:!0},showAddNote:{type:Object,required:!0},toggleNotes:{type:Function,required:!0},openAddNote:{type:Function,required:!0},addConclusionNote:{type:Function,required:!0},startEditNote:{type:Function,required:!0},updateConclusionNote:{type:Function,required:!0},deleteConclusionNote:{type:Function,required:!0}},setup(e){return($t,t)=>{var m,k,v,f,y,h;const w=V("AnalyseNode",!0);return s(),a("div",A,[l("div",S,[l("div",T,[l("div",O,[l("h3",{class:c(["text-lg font-semibold text-slate-900 dark:text-slate-100",{"font-bold":e.node.is_bold}])},o(e.node.designation),3),e.saveStatus[e.node.id]?(s(),a("span",{key:0,class:c(["text-[11px] px-2 py-0.5 rounded-full border",{"border-amber-200 bg-amber-50 text-amber-700 dark:bg-amber-900/20 dark:text-amber-300 dark:border-amber-800":e.saveStatus[e.node.id]==="saving","border-emerald-200 bg-emerald-50 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-300 dark:border-emerald-800":e.saveStatus[e.node.id]==="saved","border-red-200 bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-300 dark:border-red-800":e.saveStatus[e.node.id]==="error"}])},o(e.saveStatus[e.node.id]==="saving"?"Enregistrementâ€¦":e.saveStatus[e.node.id]==="saved"?"SauvegardÃ©"+(e.savedAt[e.node.id]?" Ã  "+e.savedAt[e.node.id]:""):"Erreur sauvegarde"),3)):n("",!0),e.node.type?(s(),a("span",P,o(e.node.type),1)):n("",!0)])]),e.node.valeur_ref||e.node.unite||e.node.suffixe?(s(),a("div",L,[l("div",q,[e.node.valeur_ref?(s(),a("div",j,[l("span",G,o(e.node.valeur_ref_label)+":",1),l("span",R,o(e.node.valeur_ref),1)])):n("",!0),e.node.unite?(s(),a("div",U,[t[37]||(t[37]=l("span",{class:"text-slate-500 dark:text-slate-400"},"UnitÃ©:",-1)),l("span",$,o(e.node.unite),1)])):n("",!0),e.node.suffixe?(s(),a("div",M,[t[38]||(t[38]=l("span",{class:"text-slate-500 dark:text-slate-400"},"Suffixe:",-1)),l("span",z,o(e.node.suffixe),1)])):n("",!0)])])):n("",!0)]),((m=e.node.children)==null?void 0:m.length)>0?(s(),a("div",B,[(s(!0),a(u,null,g(e.node.children,d=>(s(),E(w,{key:d.id,node:d,prescriptionId:e.prescriptionId,familles:e.familles,getFormValue:e.getFormValue,setFormValue:e.setFormValue,saveStatus:e.saveStatus,savedAt:e.savedAt,canEditConclusions:e.canEditConclusions,notesState:e.notesState,noteDrafts:e.noteDrafts,noteEditId:e.noteEditId,noteEditText:e.noteEditText,openNotes:e.openNotes,showAddNote:e.showAddNote,toggleNotes:e.toggleNotes,openAddNote:e.openAddNote,addConclusionNote:e.addConclusionNote,startEditNote:e.startEditNote,updateConclusionNote:e.updateConclusionNote,deleteConclusionNote:e.deleteConclusionNote},null,8,["node","prescriptionId","familles","getFormValue","setFormValue","saveStatus","savedAt","canEditConclusions","notesState","noteDrafts","noteEditId","noteEditText","openNotes","showAddNote","toggleNotes","openAddNote","addConclusionNote","startEditNote","updateConclusionNote","deleteConclusionNote"]))),128))])):(s(),a("div",D,[e.node.type==="LABEL"?(s(),a("div",H,[l("p",Q,o(e.node.designation),1)])):["GERME","CULTURE"].includes(e.node.type)?(s(),a("div",K,[N(C,{analyse:e.node,prescriptionId:e.prescriptionId,familles:e.familles,getFormValue:e.getFormValue,setFormValue:e.setFormValue},null,8,["analyse","prescriptionId","familles","getFormValue","setFormValue"])])):["INPUT","DOSAGE","COMPTAGE"].includes(e.node.type)?(s(),a("div",X,[l("div",Y,[l("label",J,[t[39]||(t[39]=i(" Valeur ",-1)),e.node.unite?(s(),a("span",W,"("+o(e.node.unite)+")",1)):n("",!0),e.node.valeur_ref?(s(),a("span",Z,"("+o(e.node.valeur_ref_label)+": "+o(e.node.valeur_ref)+o(e.node.unite?" "+e.node.unite:"")+")",1)):n("",!0)]),l("input",{type:"text",value:e.getFormValue(e.node.id,"valeur"),onInput:t[0]||(t[0]=d=>e.setFormValue(e.node.id,"valeur",d.target.value)),placeholder:"Entrez une valeur",class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,40,p)]),l("div",_,[t[41]||(t[41]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},"InterprÃ©tation",-1)),l("select",{value:e.getFormValue(e.node.id,"interpretation"),onChange:t[1]||(t[1]=d=>e.setFormValue(e.node.id,"interpretation",d.target.value)),class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},[...t[40]||(t[40]=[l("option",{value:""},"SÃ©lectionner",-1),l("option",{value:"NORMAL"},"Normal",-1),l("option",{value:"PATHOLOGIQUE"},"Pathologique",-1)])],40,ee)])])):e.node.type==="INPUT_SUFFIXE"?(s(),a("div",te,[l("div",le,[l("label",de,[t[42]||(t[42]=i(" Valeur ",-1)),e.node.unite?(s(),a("span",se,"("+o(e.node.unite)+")",1)):n("",!0)]),l("div",ae,[l("input",{type:"text",value:e.getFormValue(e.node.id,"valeur"),onInput:t[2]||(t[2]=d=>e.setFormValue(e.node.id,"valeur",d.target.value)),placeholder:"Entrez une valeur",class:"flex-1 px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-l-lg text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,40,oe),e.node.suffixe?(s(),a("span",ne,o(e.node.suffixe),1)):n("",!0)])]),l("div",re,[t[44]||(t[44]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},"InterprÃ©tation",-1)),l("select",{value:e.getFormValue(e.node.id,"interpretation"),onChange:t[3]||(t[3]=d=>e.setFormValue(e.node.id,"interpretation",d.target.value)),class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},[...t[43]||(t[43]=[l("option",{value:""},"SÃ©lectionner",-1),l("option",{value:"NORMAL"},"Normal",-1),l("option",{value:"PATHOLOGIQUE"},"Pathologique",-1)])],40,ie)])])):["SELECT","TEST"].includes(e.node.type)?(s(),a("div",ue,[l("div",ge,[t[46]||(t[46]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},"SÃ©lection",-1)),(k=e.node.valeurs_predefinies)!=null&&k.length?(s(),a("div",be,[l("select",{value:e.getFormValue(e.node.id,"resultats"),onChange:t[4]||(t[4]=d=>e.setFormValue(e.node.id,"resultats",d.target.value)),class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},[t[45]||(t[45]=l("option",{value:""},"Veuillez choisir",-1)),(s(!0),a(u,null,g(e.node.valeurs_predefinies,d=>(s(),a("option",{key:d,value:d},o(d),9,xe))),128))],40,ce),e.getFormValue(e.node.id,"resultats")==="Autre"?(s(),a("input",{key:0,type:"text",value:e.getFormValue(e.node.id,"valeur"),onInput:t[5]||(t[5]=d=>e.setFormValue(e.node.id,"valeur",d.target.value)),placeholder:"PrÃ©cisez...",class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,40,me)):n("",!0)])):(s(),a("input",{key:1,type:"text",value:e.getFormValue(e.node.id,"valeur"),onInput:t[6]||(t[6]=d=>e.setFormValue(e.node.id,"valeur",d.target.value)),placeholder:"Entrez une valeur",class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,40,ke))]),l("div",ve,[t[48]||(t[48]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},"InterprÃ©tation",-1)),l("select",{value:e.getFormValue(e.node.id,"interpretation"),onChange:t[7]||(t[7]=d=>e.setFormValue(e.node.id,"interpretation",d.target.value)),class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},[...t[47]||(t[47]=[l("option",{value:""},"SÃ©lectionner",-1),l("option",{value:"NORMAL"},"Normal",-1),l("option",{value:"PATHOLOGIQUE"},"Pathologique",-1)])],40,fe)])])):["NEGATIF_POSITIF_1","NEGATIF_POSITIF_3"].includes(e.node.type)?(s(),a("div",ye,[l("div",he,[t[51]||(t[51]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},"RÃ©sultat",-1)),l("div",Fe,[l("label",we,[l("input",{type:"radio",value:"NEGATIF",checked:e.getFormValue(e.node.id,"valeur")==="NEGATIF",onChange:t[8]||(t[8]=d=>e.setFormValue(e.node.id,"valeur","NEGATIF")),class:"w-4 h-4 text-green-600 border-slate-300 focus:ring-green-500"},null,40,Ve),t[49]||(t[49]=l("span",{class:"text-green-600 dark:text-green-400 font-medium text-sm"},"NÃ©gatif",-1))]),l("label",Ne,[l("input",{type:"radio",value:"POSITIF",checked:e.getFormValue(e.node.id,"valeur")==="POSITIF",onChange:t[9]||(t[9]=d=>e.setFormValue(e.node.id,"valeur","POSITIF")),class:"w-4 h-4 text-red-600 border-slate-300 focus:ring-red-500"},null,40,Ee),t[50]||(t[50]=l("span",{class:"text-red-600 dark:text-red-400 font-medium text-sm"},"Positif",-1))])])]),l("div",Ie,[t[53]||(t[53]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},"InterprÃ©tation",-1)),l("select",{value:e.getFormValue(e.node.id,"interpretation"),onChange:t[10]||(t[10]=d=>e.setFormValue(e.node.id,"interpretation",d.target.value)),class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},[...t[52]||(t[52]=[l("option",{value:""},"SÃ©lectionner",-1),l("option",{value:"NORMAL"},"Normal",-1),l("option",{value:"PATHOLOGIQUE"},"Pathologique",-1)])],40,Ce)])])):e.node.type==="NEGATIF_POSITIF_2"?(s(),a("div",Ae,[l("div",Se,[t[56]||(t[56]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},"RÃ©sultat",-1)),l("div",Te,[l("label",Oe,[l("input",{type:"radio",value:"NEGATIF",checked:e.getFormValue(e.node.id,"valeur")==="NEGATIF",onChange:t[11]||(t[11]=d=>e.setFormValue(e.node.id,"valeur","NEGATIF")),class:"w-4 h-4 text-green-600 border-slate-300 focus:ring-green-500"},null,40,Pe),t[54]||(t[54]=l("span",{class:"text-green-600 dark:text-green-400 font-medium text-sm"},"NÃ©gatif",-1))]),l("label",Le,[l("input",{type:"radio",value:"POSITIF",checked:e.getFormValue(e.node.id,"valeur")==="POSITIF",onChange:t[12]||(t[12]=d=>e.setFormValue(e.node.id,"valeur","POSITIF")),class:"w-4 h-4 text-red-600 border-slate-300 focus:ring-red-500"},null,40,qe),t[55]||(t[55]=l("span",{class:"text-red-600 dark:text-red-400 font-medium text-sm"},"Positif",-1))])])]),l("div",je,[l("label",Ge,[t[57]||(t[57]=i("Valeur ",-1)),e.node.unite?(s(),a("span",Re,"("+o(e.node.unite)+")",1)):n("",!0)]),l("input",{type:"text",value:e.getFormValue(e.node.id,"resultats"),onInput:t[13]||(t[13]=d=>e.setFormValue(e.node.id,"resultats",d.target.value)),placeholder:"Valeur de rÃ©fÃ©rence",class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,40,Ue)])])):e.node.type==="ABSENCE_PRESENCE_2"?(s(),a("div",$e,[l("div",Me,[t[60]||(t[60]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},"RÃ©sultat",-1)),l("div",ze,[l("label",Be,[l("input",{type:"radio",value:"ABSENCE",checked:e.getFormValue(e.node.id,"valeur")==="ABSENCE",onChange:t[14]||(t[14]=d=>e.setFormValue(e.node.id,"valeur","ABSENCE")),class:"w-4 h-4 text-green-600 border-slate-300 focus:ring-green-500"},null,40,De),t[58]||(t[58]=l("span",{class:"text-green-600 dark:text-green-400 font-medium text-sm"},"Absence",-1))]),l("label",He,[l("input",{type:"radio",value:"PRESENCE",checked:e.getFormValue(e.node.id,"valeur")==="PRESENCE",onChange:t[15]||(t[15]=d=>e.setFormValue(e.node.id,"valeur","PRESENCE")),class:"w-4 h-4 text-red-600 border-slate-300 focus:ring-red-500"},null,40,Qe),t[59]||(t[59]=l("span",{class:"text-red-600 dark:text-red-400 font-medium text-sm"},"PrÃ©sence",-1))])])]),l("div",Ke,[l("label",Xe,[t[61]||(t[61]=i("Valeur ",-1)),e.node.unite?(s(),a("span",Ye,"("+o(e.node.unite)+")",1)):n("",!0)]),l("input",{type:"text",value:e.getFormValue(e.node.id,"resultats"),onInput:t[16]||(t[16]=d=>e.setFormValue(e.node.id,"resultats",d.target.value)),placeholder:"PrÃ©ciser la valeur",class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,40,Je)]),l("div",We,[t[63]||(t[63]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},"InterprÃ©tation",-1)),l("select",{value:e.getFormValue(e.node.id,"interpretation"),onChange:t[17]||(t[17]=d=>e.setFormValue(e.node.id,"interpretation",d.target.value)),class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},[...t[62]||(t[62]=[l("option",{value:""},"SÃ©lectionner",-1),l("option",{value:"NORMAL"},"Normal",-1),l("option",{value:"PATHOLOGIQUE"},"Pathologique",-1)])],40,Ze)])])):e.node.type==="LEUCOCYTES"?(s(),a("div",pe,[l("div",_e,[t[64]||(t[64]=l("label",{class:"block text-xs text-slate-700 dark:text-slate-300"},"Valeur",-1)),l("input",{type:"number",value:e.getFormValue(e.node.id,"valeur"),onInput:t[18]||(t[18]=d=>e.setFormValue(e.node.id,"valeur",d.target.value)),placeholder:"Valeur",class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,40,et)]),l("div",tt,[t[65]||(t[65]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},"PolynuclÃ©aires (%)",-1)),l("input",{type:"number",min:"0",max:"100",value:e.getFormValue(e.node.id,"polynucleaires"),onInput:t[19]||(t[19]=d=>e.setFormValue(e.node.id,"polynucleaires",d.target.value)),class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,40,lt)]),l("div",dt,[t[66]||(t[66]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},"Lymphocytes (%)",-1)),l("input",{type:"number",min:"0",max:"100",value:e.getFormValue(e.node.id,"lymphocytes"),onInput:t[20]||(t[20]=d=>e.setFormValue(e.node.id,"lymphocytes",d.target.value)),class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,40,st)])])):e.node.type==="FV"?(s(),a("div",at,[t[71]||(t[71]=l("div",{class:"flex items-center gap-3 mb-4"},[l("div",{class:"w-10 h-10 bg-pink-500 dark:bg-pink-600 rounded-lg flex items-center justify-center text-white text-lg font-bold shadow-sm"},"ðŸ”¬"),l("div",null,[l("h4",{class:"text-lg font-semibold text-pink-800 dark:text-pink-200"},"Flore Vaginale"),l("p",{class:"text-sm text-pink-700 dark:text-pink-300"},"Analyse spÃ©cialisÃ©e de la flore vaginale")])],-1)),l("div",ot,[l("div",nt,[t[68]||(t[68]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},"RÃ©sultat",-1)),(v=e.node.valeurs_predefinies)!=null&&v.length?(s(),a("div",rt,[l("select",{value:e.getFormValue(e.node.id,"resultats"),onChange:t[21]||(t[21]=d=>e.setFormValue(e.node.id,"resultats",d.target.value)),class:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors"},[t[67]||(t[67]=l("option",{value:""},"Veuillez choisir",-1)),(s(!0),a(u,null,g(e.node.valeurs_predefinies,d=>(s(),a("option",{key:d,value:d},o(d),9,ut))),128))],40,it),e.getFormValue(e.node.id,"resultats")==="Autre"?(s(),a("input",{key:0,type:"text",value:e.getFormValue(e.node.id,"valeur"),onInput:t[22]||(t[22]=d=>e.setFormValue(e.node.id,"valeur",d.target.value)),placeholder:"PrÃ©cisez...",class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors"},null,40,gt)):n("",!0)])):(s(),a("textarea",{key:1,rows:"3",value:e.getFormValue(e.node.id,"resultats"),onInput:t[23]||(t[23]=d=>e.setFormValue(e.node.id,"resultats",d.target.value)),placeholder:"DÃ©crivez la flore vaginale...",class:"w-full px-4 py-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 placeholder-slate-400 resize-none focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors"},null,40,bt))]),l("div",ct,[t[70]||(t[70]=l("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300"},"InterprÃ©tation",-1)),l("select",{value:e.getFormValue(e.node.id,"interpretation"),onChange:t[24]||(t[24]=d=>e.setFormValue(e.node.id,"interpretation",d.target.value)),class:"w-full px-4 py-2.5 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-pink-500 focus:border-pink-500 transition-colors"},[...t[69]||(t[69]=[l("option",{value:""},"SÃ©lectionner",-1),l("option",{value:"NORMAL"},"Normal",-1),l("option",{value:"PATHOLOGIQUE"},"Pathologique",-1)])],40,xt)])])])):(s(),a("div",mt,[l("label",kt,[t[72]||(t[72]=i(" RÃ©sultat ",-1)),e.node.valeur_ref?(s(),a("span",vt,"("+o(e.node.valeur_ref_label)+": "+o(e.node.valeur_ref)+o(e.node.unite?" "+e.node.unite:"")+")",1)):n("",!0)]),(f=e.node.valeurs_predefinies)!=null&&f.length?(s(),a("div",ft,[l("select",{value:e.getFormValue(e.node.id,"resultats"),onChange:t[25]||(t[25]=d=>e.setFormValue(e.node.id,"resultats",d.target.value)),class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},[t[73]||(t[73]=l("option",{value:""},"Veuillez choisir",-1)),(s(!0),a(u,null,g(e.node.valeurs_predefinies,d=>(s(),a("option",{key:d,value:d},o(d),9,ht))),128))],40,yt),e.getFormValue(e.node.id,"resultats")==="Autre"?(s(),a("input",{key:0,type:"text",value:e.getFormValue(e.node.id,"valeur"),onInput:t[26]||(t[26]=d=>e.setFormValue(e.node.id,"valeur",d.target.value)),placeholder:"PrÃ©cisez...",class:"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 placeholder-slate-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,40,Ft)):n("",!0)])):(s(),a("textarea",{key:1,rows:"4",value:e.getFormValue(e.node.id,"resultats"),onInput:t[27]||(t[27]=d=>e.setFormValue(e.node.id,"resultats",d.target.value)),placeholder:"Saisie libreâ€¦",class:"w-full px-4 py-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg text-slate-900 dark:text-slate-100 placeholder-slate-400 resize-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors"},null,40,wt))]))])),["LABEL","MULTIPLE","MULTIPLE_SELECTIF"].includes(e.node.type)?n("",!0):(s(),a("div",Vt,[l("button",{type:"button",onClick:t[28]||(t[28]=d=>e.toggleNotes(e.node.id)),class:"w-full flex items-center justify-between text-left text-sm font-medium text-slate-700 dark:text-slate-300 hover:text-slate-900 transition-colors"},[t[75]||(t[75]=l("span",null,"Conclusion (optionnelle)",-1)),l("span",Nt,[(y=e.notesState[e.node.id])!=null&&y.length?(s(),a("span",Et,o(e.notesState[e.node.id].length)+" note"+o(e.notesState[e.node.id].length>1?"s":""),1)):n("",!0),(s(),a("svg",{class:c(["w-4 h-4 transition-transform",e.openNotes[e.node.id]?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[74]||(t[74]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))])]),b(l("div",It,[(h=e.notesState[e.node.id])!=null&&h.length?(s(),a("div",Ct,[(s(!0),a(u,null,g(e.notesState[e.node.id],d=>(s(),a("div",{key:d.id,class:"p-3 bg-slate-50 dark:bg-slate-800/50 rounded-lg text-sm border border-slate-200 dark:border-slate-700"},[l("div",At,[l("span",St,o(d.created_at)+" par "+o(d.technicien_name),1),e.canEditConclusions?(s(),a("div",Tt,[l("button",{onClick:r=>e.startEditNote(e.node.id,d),class:"text-blue-600 dark:text-blue-400 hover:underline"},"Modifier",8,Ot),l("button",{onClick:r=>e.deleteConclusionNote(e.node.id,d.id),class:"text-red-600 dark:text-red-400 hover:underline"},"Supprimer",8,Pt)])):n("",!0)]),e.noteEditId[e.node.id]===d.id?(s(),a("div",Lt,[b(l("input",{type:"text","onUpdate:modelValue":t[29]||(t[29]=r=>e.noteEditText[e.node.id]=r),onKeyup:t[30]||(t[30]=I(r=>e.updateConclusionNote(e.node.id),["enter"])),class:"flex-1 px-2 py-1 text-sm border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-slate-700 dark:text-white"},null,544),[[F,e.noteEditText[e.node.id]]]),l("button",{onClick:t[31]||(t[31]=r=>e.updateConclusionNote(e.node.id)),class:"px-2 py-1 bg-green-600 text-white text-xs rounded-md"},"âœ“"),l("button",{onClick:t[32]||(t[32]=r=>e.noteEditId[e.node.id]=null),class:"px-2 py-1 bg-gray-500 text-white text-xs rounded-md"},"âœ—")])):(s(),a("p",qt,o(d.note),1))]))),128))])):n("",!0),e.canEditConclusions?(s(),a("div",jt,[b(l("button",{onClick:t[33]||(t[33]=d=>e.openAddNote(e.node.id)),type:"button",class:"inline-flex items-center gap-2 px-3 py-1.5 text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/40 rounded-lg transition-colors"},[...t[76]||(t[76]=[l("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),i(" Ajouter une note ",-1)])],512),[[x,!e.showAddNote[e.node.id]]]),b(l("div",Gt,[t[77]||(t[77]=l("label",{class:"block text-xs font-medium text-slate-700 dark:text-slate-300 mb-2"},"Nouvelle note",-1)),b(l("textarea",{"onUpdate:modelValue":t[34]||(t[34]=d=>e.noteDrafts[e.node.id]=d),rows:"3",class:"w-full px-3 py-2 text-sm bg-white dark:bg-slate-900 border border-slate-300 dark:border-slate-600 rounded-md focus:ring-blue-500",placeholder:"Saisissez votre note..."},null,512),[[F,e.noteDrafts[e.node.id]]]),l("div",Rt,[l("button",{type:"button",onClick:t[35]||(t[35]=d=>{e.showAddNote[e.node.id]=!1,e.noteDrafts[e.node.id]=""}),class:"px-3 py-1.5 text-xs font-medium text-slate-700 dark:text-slate-300 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-md transition-colors"},"Annuler"),l("button",{type:"button",onClick:t[36]||(t[36]=d=>e.addConclusionNote(e.node.id)),class:"px-3 py-1.5 text-xs font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors"},"Enregistrer")])],512),[[x,e.showAddNote[e.node.id]]])])):n("",!0)],512),[[x,e.openNotes[e.node.id]]])]))])}}});export{Qt as default};
