import{u as F,z as O,d as R,e,t as s,c as l,l as u,o as a,a as q,b as d,s as X,g as c,r as C,n as m,i as G,f,j as y,v as J,q as $,F as M,p as _}from"./app-Bg1XaAxF.js";import{_ as K}from"./AppLayout-Ddcz_BTQ.js";/* empty css            */import"./_commonjsHelpers-_d1bhYXs.js";import"./debounce-D0G5qrda.js";const Q={class:"container mx-auto px-4 py-4 sm:px-6 lg:px-8"},W={class:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4"},Y={class:"flex items-center gap-3"},Z={class:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center shadow-sm"},ee={class:"text-white font-bold text-sm"},te={class:"min-w-0"},re={class:"text-xl font-bold text-slate-900 dark:text-white truncate"},se={class:"flex items-center gap-2 mt-0.5"},ae={class:"inline-flex items-center px-2 py-0.5 bg-primary-50 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 text-xs font-semibold rounded-md"},le={key:0,class:"text-xs text-slate-400"},oe={class:"flex items-center gap-2"},ne={class:"container mx-auto px-4 py-6 sm:px-6 lg:px-8"},ie={key:0,class:"mb-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700 rounded-lg"},de={class:"text-sm text-green-700 dark:text-green-300"},ue={class:"grid grid-cols-3 gap-3 mb-6"},me={class:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-4"},xe={class:"flex items-center gap-3"},be={class:"text-xl font-bold text-slate-900 dark:text-white leading-none"},ge={class:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-4"},ce={class:"flex items-center gap-3"},pe={class:"text-xl font-bold text-slate-900 dark:text-white leading-none"},ke={class:"bg-white dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 p-4"},fe={class:"flex items-center gap-3"},ye={class:"text-xl font-bold text-slate-900 dark:text-white leading-none"},ve={class:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700 mb-6"},he={class:"flex px-4 border-b border-slate-100 dark:border-slate-700","aria-label":"Tabs"},we={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-600 dark:bg-primary-400 rounded-full"},Ee={class:"flex items-center gap-2"},Ce={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-600 dark:bg-primary-400 rounded-full"},Me={class:"flex items-center gap-2"},_e={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 bg-primary-600 dark:bg-primary-400 rounded-full"},Ne={key:1,class:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700"},Te={class:"px-6 py-4 border-b border-slate-100 dark:border-slate-700 flex items-center justify-between"},Ae={class:"p-6"},je={class:"grid grid-cols-1 md:grid-cols-2 gap-5"},Ve={key:0,class:"text-xs text-red-500 mt-1"},He={key:0,class:"text-xs text-red-500 mt-1"},ze={key:0,class:"text-xs text-red-500 mt-1"},Re={key:0,class:"text-xs text-red-500 mt-1"},$e={key:0,class:"text-xs text-red-500 mt-1"},Be={key:0,class:"text-xs text-red-500 mt-1"},De={class:"md:col-span-2"},Le={key:0,class:"text-xs text-red-500 mt-1"},Se={class:"flex items-center justify-end gap-3 pt-4 border-t border-slate-100 dark:border-slate-700"},Ue=["disabled"],Pe={key:1,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ie={class:"space-y-4"},Fe={class:"text-sm font-medium text-slate-900 dark:text-white"},Oe={class:"text-sm text-slate-900 dark:text-white"},qe={key:0},Xe={class:"text-sm text-slate-900 dark:text-white"},Ge={key:1},Je={class:"text-sm text-slate-900 dark:text-white"},Ke={class:"space-y-4"},Qe=["href"],We={key:1,class:"text-sm text-slate-400 italic"},Ye=["href"],Ze={key:1,class:"text-sm text-slate-400 italic"},et={class:"text-sm text-slate-900 dark:text-white font-mono"},tt={class:"text-sm text-slate-900 dark:text-white"},rt={key:2,class:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm rounded-2xl shadow-xl shadow-gray-200/50 dark:shadow-gray-900/50 border border-gray-100 dark:border-gray-700/50 overflow-hidden"},st={class:"relative px-6 py-4 bg-gradient-to-br from-slate-50 via-white to-blue-50/30 dark:from-gray-800 dark:via-gray-800 dark:to-blue-900/20 border-b border-gray-100/50 dark:border-gray-700/50"},at={class:"relative flex flex-col md:flex-row md:items-center md:justify-between gap-4"},lt={class:"flex items-center space-x-3"},ot={key:0,class:"text-xs text-gray-600 dark:text-gray-400 mt-1"},nt={class:"inline-flex items-center px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full text-xs font-medium"},it={class:"relative max-w-xs w-full"},dt={key:0,class:"flex flex-wrap gap-2 mt-4"},ut={class:"p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},mt={key:0,class:"absolute -top-2 -right-2 z-10"},xt={class:"p-4"},bt={class:"flex items-start justify-between mb-3"},gt={class:"text-sm font-bold text-gray-900 dark:text-white truncate"},ct={class:"text-xs text-gray-500 dark:text-gray-400"},pt={class:"flex items-center justify-between text-xs mb-3"},kt={class:"text-gray-600 dark:text-gray-400 font-medium"},ft={class:"inline-flex items-center px-2 py-0.5 bg-blue-100/80 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full"},yt={class:"space-y-2 mb-3"},vt={class:"text-xs font-medium text-gray-700 dark:text-gray-300 truncate"},ht={key:0,class:"text-xs text-gray-500 dark:text-gray-400 font-medium"},wt={class:"flex items-center justify-between pt-3 border-t border-gray-100/50 dark:border-gray-600/50"},Et={key:0,class:"text-sm font-bold text-gray-900 dark:text-white"},Ct=["href"],Mt={key:1,class:"col-span-full py-12 text-center"},_t={class:"max-w-xs mx-auto"},Nt={class:"text-lg font-semibold text-gray-900 dark:text-white mb-2"},Tt={class:"text-sm text-gray-600 dark:text-gray-400 mb-4"},At={key:3,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700"},jt={class:"px-6 py-4 border-b border-gray-200 dark:border-gray-700"},Vt={class:"flex items-center justify-between"},Ht={class:"text-sm font-medium text-gray-900 dark:text-white"},zt={class:"max-h-96 overflow-y-auto"},Rt={class:"flex items-center justify-between"},$t={class:"flex items-center space-x-4"},Bt={class:"font-semibold text-gray-900 dark:text-white"},Dt={class:"text-sm text-gray-500 dark:text-gray-400"},Lt={class:"flex items-center space-x-3"},St={class:"inline-flex items-center px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 text-xs font-medium rounded"},Ut=["href"],Pt={key:1,class:"p-12 text-center"},Gt={__name:"Show",props:{patient:Object,prescriptions:Array,totalAnalyses:Number,totalPaiements:Number,montantTotal:Number,prescriptionsEnAttente:Number,prescriptionsEnCours:Number,prescriptionsTerminees:Number},setup(o){const p=o,b=C("infos"),v=C(!1),g=C(""),x=C(""),i=F({nom:p.patient.nom,prenom:p.patient.prenom,civilite:p.patient.civilite,date_naissance:p.patient.date_naissance||"",telephone:p.patient.telephone||"",email:p.patient.email||"",adresse:p.patient.adresse||""}),B=n=>{const t=(n.nom||"").charAt(0).toUpperCase(),r=(n.prenom||"X").charAt(0).toUpperCase();return`${t}${r}`},w=n=>n==null?"0":Number(n).toLocaleString("fr-FR"),D=n=>n?new Date(n).toLocaleDateString("fr-FR"):"",L=n=>{if(!n)return"";const t=new Date(n);return t.toLocaleDateString("fr-FR")+" à "+t.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})},N=n=>{if(!n)return!1;const t=new Date(n),r=new Date;return r.setDate(r.getDate()-30),t>r},S=n=>{const t="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold";switch(n){case"EN_ATTENTE":return`${t} bg-gradient-to-r from-amber-100 to-yellow-100 dark:from-amber-900/30 dark:to-yellow-900/30 text-amber-800 dark:text-amber-300`;case"EN_COURS":return`${t} bg-gradient-to-r from-blue-100 to-cyan-100 dark:from-blue-900/30 dark:to-cyan-900/30 text-blue-800 dark:text-blue-300`;case"TERMINE":return`${t} bg-gradient-to-r from-emerald-100 to-green-100 dark:from-emerald-900/30 dark:to-green-900/30 text-emerald-800 dark:text-emerald-300`;default:return`${t} bg-gradient-to-r from-gray-100 to-slate-100 dark:from-gray-800 dark:to-slate-800 text-gray-800 dark:text-gray-300`}},U=n=>{const t="w-1.5 h-1.5 rounded-full mr-1";switch(n){case"EN_ATTENTE":return`${t} bg-amber-400 animate-pulse`;case"EN_COURS":return`${t} bg-blue-400`;case"TERMINE":return`${t} bg-emerald-400`;default:return`${t} bg-gray-400`}},E=$(()=>{let n=p.prescriptions||[];if(x.value&&(n=n.filter(t=>t.status===x.value)),g.value){const t=g.value.toLowerCase();n=n.filter(r=>{var k,h,A,j;return((k=r.reference)==null?void 0:k.toLowerCase().includes(t))||((A=(h=r.prescripteur)==null?void 0:h.nom)==null?void 0:A.toLowerCase().includes(t))||((j=r.analyses)==null?void 0:j.some(V=>{var H,z;return((H=V.designation)==null?void 0:H.toLowerCase().includes(t))||((z=V.code)==null?void 0:z.toLowerCase().includes(t))}))})}return n}),T=$(()=>p.prescriptions?p.prescriptions.flatMap(n=>n.paiements||[]).sort((n,t)=>new Date(t.created_at)-new Date(n.created_at)):[]),P=()=>{i.put(route("secretaire.patient.update",p.patient.id),{preserveScroll:!0,onSuccess:()=>{v.value=!1}})},I=()=>{v.value=!1,i.reset(),i.clearErrors()};return(n,t)=>(a(),O(K,null,{default:R(()=>[e("div",Q,[e("div",W,[e("div",Y,[e("div",Z,[e("span",ee,s(B(o.patient)),1)]),e("div",te,[e("h1",re,s(o.patient.civilite)+" "+s(o.patient.nom)+s(o.patient.prenom?" "+o.patient.prenom:""),1),e("div",se,[e("span",ae,s(o.patient.numero_dossier),1),o.patient.telephone?(a(),l("span",le,s(o.patient.telephone),1)):u("",!0)])])]),e("div",oe,[q(d(X),{href:n.route("secretaire.patients.index"),class:"inline-flex items-center gap-1.5 px-3 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 bg-white dark:bg-slate-700 border border-slate-200 dark:border-slate-600 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 transition-colors"},{default:R(()=>[...t[19]||(t[19]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1),c(" Retour ",-1)])]),_:1},8,["href"]),e("button",{onClick:t[0]||(t[0]=r=>v.value=!0),class:"inline-flex items-center gap-1.5 px-3 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-lg transition-colors shadow-sm"},[...t[20]||(t[20]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1),c(" Modifier ",-1)])])])])]),e("div",ne,[n.$page.props.flash.success?(a(),l("div",ie,[e("p",de,s(n.$page.props.flash.success),1)])):u("",!0),e("div",ue,[e("div",me,[e("div",xe,[t[22]||(t[22]=e("div",{class:"w-9 h-9 rounded-lg bg-blue-50 dark:bg-blue-900/30 flex items-center justify-center"},[e("svg",{class:"w-4.5 h-4.5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25z"})])],-1)),e("div",null,[e("p",be,s(o.totalAnalyses),1),t[21]||(t[21]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 mt-0.5"},"Prescriptions",-1))])])]),e("div",ge,[e("div",ce,[t[24]||(t[24]=e("div",{class:"w-9 h-9 rounded-lg bg-green-50 dark:bg-green-900/30 flex items-center justify-center"},[e("svg",{class:"w-4.5 h-4.5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})])],-1)),e("div",null,[e("p",pe,s(o.totalPaiements),1),t[23]||(t[23]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 mt-0.5"},"Paiements",-1))])])]),e("div",ke,[e("div",fe,[t[26]||(t[26]=e("div",{class:"w-9 h-9 rounded-lg bg-purple-50 dark:bg-purple-900/30 flex items-center justify-center"},[e("svg",{class:"w-4.5 h-4.5 text-purple-600 dark:text-purple-400",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",null,[e("p",ye,s(w(o.montantTotal)),1),t[25]||(t[25]=e("p",{class:"text-xs text-slate-500 dark:text-slate-400 mt-0.5"},"Ar total",-1))])])])]),e("div",ve,[e("nav",he,[e("button",{onClick:t[1]||(t[1]=r=>b.value="infos"),class:m(["relative py-3 px-4 text-sm font-medium transition-colors",b.value==="infos"?"text-primary-600 dark:text-primary-400":"text-slate-500 dark:text-slate-400 hover:text-slate-700"])},[t[27]||(t[27]=e("span",{class:"flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})]),c(" Informations ")],-1)),b.value==="infos"?(a(),l("span",we)):u("",!0)],2),e("button",{onClick:t[2]||(t[2]=r=>b.value="analyses"),class:m(["relative py-3 px-4 text-sm font-medium transition-colors",b.value==="analyses"?"text-primary-600 dark:text-primary-400":"text-slate-500 dark:text-slate-400 hover:text-slate-700"])},[e("span",Ee,[t[28]||(t[28]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25z"})],-1)),t[29]||(t[29]=c(" Prescriptions ",-1)),o.totalAnalyses>0?(a(),l("span",{key:0,class:m(["inline-flex items-center justify-center min-w-[18px] h-5 px-1.5 rounded-full text-xs font-semibold",b.value==="analyses"?"bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400"])},s(o.totalAnalyses),3)):u("",!0)]),b.value==="analyses"?(a(),l("span",Ce)):u("",!0)],2),e("button",{onClick:t[3]||(t[3]=r=>b.value="paiements"),class:m(["relative py-3 px-4 text-sm font-medium transition-colors",b.value==="paiements"?"text-primary-600 dark:text-primary-400":"text-slate-500 dark:text-slate-400 hover:text-slate-700"])},[e("span",Me,[t[30]||(t[30]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 18.75a60.07 60.07 0 0115.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 013 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 00-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 01-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 003 15h-.75M15 10.5a3 3 0 11-6 0 3 3 0 016 0zm3 0h.008v.008H18V10.5zm-12 0h.008v.008H6V10.5z"})],-1)),t[31]||(t[31]=c(" Paiements ",-1)),o.totalPaiements>0?(a(),l("span",{key:0,class:m(["inline-flex items-center justify-center min-w-[18px] h-5 px-1.5 rounded-full text-xs font-semibold",b.value==="paiements"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300":"bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-400"])},s(o.totalPaiements),3)):u("",!0)]),b.value==="paiements"?(a(),l("span",_e)):u("",!0)],2)])]),b.value==="infos"?(a(),l("div",Ne,[e("div",Te,[t[33]||(t[33]=e("h3",{class:"text-base font-semibold text-slate-900 dark:text-white"},"Informations personnelles",-1)),v.value?u("",!0):(a(),l("button",{key:0,onClick:t[4]||(t[4]=r=>v.value=!0),class:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-primary-600 dark:text-primary-400 bg-primary-50 dark:bg-primary-900/20 rounded-lg hover:bg-primary-100 dark:hover:bg-primary-900/30 transition-colors"},[...t[32]||(t[32]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931z"})],-1),c(" Modifier ",-1)])]))]),e("div",Ae,[v.value?(a(),l("form",{key:0,onSubmit:G(P,["prevent"]),class:"space-y-5"},[e("div",je,[e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Nom *",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=r=>d(i).nom=r),class:"w-full px-3 py-2.5 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"},null,512),[[y,d(i).nom]]),d(i).errors.nom?(a(),l("span",Ve,s(d(i).errors.nom),1)):u("",!0)]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Prénom",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=r=>d(i).prenom=r),class:"w-full px-3 py-2.5 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"},null,512),[[y,d(i).prenom]]),d(i).errors.prenom?(a(),l("span",He,s(d(i).errors.prenom),1)):u("",!0)]),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Civilité *",-1)),f(e("select",{"onUpdate:modelValue":t[7]||(t[7]=r=>d(i).civilite=r),class:"w-full px-3 py-2.5 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"},[...t[36]||(t[36]=[e("option",{value:"Monsieur"},"Monsieur",-1),e("option",{value:"Madame"},"Madame",-1),e("option",{value:"Mademoiselle"},"Mademoiselle",-1),e("option",{value:"Enfant-garçon"},"Enfant-garçon",-1),e("option",{value:"Enfant-fille"},"Enfant-fille",-1)])],512),[[J,d(i).civilite]]),d(i).errors.civilite?(a(),l("span",ze,s(d(i).errors.civilite),1)):u("",!0)]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Date de naissance",-1)),f(e("input",{type:"date","onUpdate:modelValue":t[8]||(t[8]=r=>d(i).date_naissance=r),class:"w-full px-3 py-2.5 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"},null,512),[[y,d(i).date_naissance]]),d(i).errors.date_naissance?(a(),l("span",Re,s(d(i).errors.date_naissance),1)):u("",!0)]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Téléphone",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=r=>d(i).telephone=r),class:"w-full px-3 py-2.5 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"},null,512),[[y,d(i).telephone]]),d(i).errors.telephone?(a(),l("span",$e,s(d(i).errors.telephone),1)):u("",!0)]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Email",-1)),f(e("input",{type:"email","onUpdate:modelValue":t[10]||(t[10]=r=>d(i).email=r),class:"w-full px-3 py-2.5 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"},null,512),[[y,d(i).email]]),d(i).errors.email?(a(),l("span",Be,s(d(i).errors.email),1)):u("",!0)]),e("div",De,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5"},"Adresse",-1)),f(e("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=r=>d(i).adresse=r),class:"w-full px-3 py-2.5 text-sm border border-slate-200 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500"},null,512),[[y,d(i).adresse]]),d(i).errors.adresse?(a(),l("span",Le,s(d(i).errors.adresse),1)):u("",!0)])]),e("div",Se,[e("button",{type:"button",onClick:I,class:"px-4 py-2 text-sm font-medium text-slate-600 dark:text-slate-300 bg-slate-100 dark:bg-slate-700 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors"}," Annuler "),e("button",{type:"submit",disabled:d(i).processing,class:"px-4 py-2 text-sm font-medium text-white bg-primary-600 rounded-lg hover:bg-primary-700 transition-colors"}," Enregistrer ",8,Ue)])],32)):(a(),l("div",Pe,[e("div",Ie,[e("div",null,[t[42]||(t[42]=e("label",{class:"block text-xs font-medium text-slate-400 dark:text-slate-500 mb-1 uppercase tracking-wider"},"Nom complet",-1)),e("p",Fe,s(o.patient.nom)+s(o.patient.prenom?" "+o.patient.prenom:""),1)]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-xs font-medium text-slate-400 dark:text-slate-500 mb-1 uppercase tracking-wider"},"Civilité",-1)),e("p",Oe,s(o.patient.civilite),1)]),o.patient.date_naissance_formatee?(a(),l("div",qe,[t[44]||(t[44]=e("label",{class:"block text-xs font-medium text-slate-400 dark:text-slate-500 mb-1 uppercase tracking-wider"},"Date de naissance",-1)),e("p",Xe,s(o.patient.date_naissance_formatee),1)])):u("",!0),o.patient.adresse?(a(),l("div",Ge,[t[45]||(t[45]=e("label",{class:"block text-xs font-medium text-slate-400 dark:text-slate-500 mb-1 uppercase tracking-wider"},"Adresse",-1)),e("p",Je,s(o.patient.adresse),1)])):u("",!0)]),e("div",Ke,[e("div",null,[t[46]||(t[46]=e("label",{class:"block text-xs font-medium text-slate-400 dark:text-slate-500 mb-1 uppercase tracking-wider"},"Téléphone",-1)),o.patient.telephone?(a(),l("a",{key:0,href:"tel:"+o.patient.telephone,class:"text-sm text-primary-600 dark:text-primary-400 hover:underline"},s(o.patient.telephone),9,Qe)):(a(),l("span",We,"Non renseigné"))]),e("div",null,[t[47]||(t[47]=e("label",{class:"block text-xs font-medium text-slate-400 dark:text-slate-500 mb-1 uppercase tracking-wider"},"Email",-1)),o.patient.email?(a(),l("a",{key:0,href:"mailto:"+o.patient.email,class:"text-sm text-primary-600 dark:text-primary-400 hover:underline"},s(o.patient.email),9,Ye)):(a(),l("span",Ze,"Non renseigné"))]),e("div",null,[t[48]||(t[48]=e("label",{class:"block text-xs font-medium text-slate-400 dark:text-slate-500 mb-1 uppercase tracking-wider"},"Dossier",-1)),e("p",et,s(o.patient.numero_dossier),1)]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-xs font-medium text-slate-400 dark:text-slate-500 mb-1 uppercase tracking-wider"},"Enregistré le",-1)),e("p",tt,s(o.patient.created_at_formatted),1)])])]))])])):u("",!0),b.value==="analyses"?(a(),l("div",rt,[e("div",st,[e("div",at,[e("div",lt,[t[51]||(t[51]=e("div",{class:"p-2.5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg shadow-lg shadow-blue-500/25"},[e("svg",{class:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("div",null,[t[50]||(t[50]=e("h3",{class:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 dark:from-white dark:to-gray-200 bg-clip-text text-transparent"},"Prescriptions",-1)),g.value?(a(),l("p",ot,[e("span",nt,s(E.value.length)+" résultat"+s(E.value.length>1?"s":""),1)])):u("",!0)])]),e("div",it,[t[53]||(t[53]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center"},[e("svg",{class:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),f(e("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=r=>g.value=r),placeholder:"Rechercher...",class:"block w-full pl-10 pr-10 py-2 text-sm bg-white/80 dark:bg-gray-700/80 backdrop-blur-sm border border-gray-200/50 dark:border-gray-600/50 rounded-lg text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all duration-200 shadow-sm"},null,512),[[y,g.value]]),g.value?(a(),l("button",{key:0,onClick:t[13]||(t[13]=r=>{g.value="",x.value=""}),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[...t[52]||(t[52]=[e("svg",{class:"h-3.5 w-3.5 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):u("",!0)])]),g.value?u("",!0):(a(),l("div",dt,[e("button",{onClick:t[14]||(t[14]=r=>x.value=""),class:m(["group inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200",x.value?"bg-white/80 dark:bg-gray-700/80 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-600 shadow-sm border border-gray-200/50 dark:border-gray-600/50":"bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-md shadow-blue-500/20"])},[e("span",{class:m(["w-1.5 h-1.5 rounded-full mr-1.5",x.value?"bg-blue-500":"bg-white/80"])},null,2),t[54]||(t[54]=c(" Toutes ",-1)),e("span",{class:m(["ml-1.5 px-1.5 py-0.5 text-[0.65rem] rounded-full",x.value?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-white/20"])},s(o.prescriptions.length),3)],2),e("button",{onClick:t[15]||(t[15]=r=>x.value="EN_ATTENTE"),class:m(["group inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200",x.value==="EN_ATTENTE"?"bg-gradient-to-r from-amber-400 to-orange-500 text-white shadow-md":"bg-white/80 dark:bg-gray-700/80 text-gray-700 dark:text-gray-300 hover:bg-amber-50 dark:hover:bg-amber-900/20 shadow-sm border border-gray-200/50 dark:border-gray-600/50"])},[e("span",{class:m(["w-1.5 h-1.5 rounded-full mr-1.5 animate-pulse",x.value==="EN_ATTENTE"?"bg-white/80":"bg-amber-400"])},null,2),t[55]||(t[55]=c(" En attente ",-1)),e("span",{class:m(["ml-1.5 px-1.5 py-0.5 text-[0.65rem] rounded-full",x.value==="EN_ATTENTE"?"bg-white/20":"bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300"])},s(o.prescriptionsEnAttente),3)],2),e("button",{onClick:t[16]||(t[16]=r=>x.value="EN_COURS"),class:m(["group inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200",x.value==="EN_COURS"?"bg-gradient-to-r from-blue-500 to-cyan-500 text-white shadow-md":"bg-white/80 dark:bg-gray-700/80 text-gray-700 dark:text-gray-300 hover:bg-blue-50 dark:hover:bg-blue-900/20 shadow-sm border border-gray-200/50 dark:border-gray-600/50"])},[e("span",{class:m(["w-1.5 h-1.5 rounded-full mr-1.5",x.value==="EN_COURS"?"bg-white/80":"bg-blue-500"])},null,2),t[56]||(t[56]=c(" En cours ",-1)),e("span",{class:m(["ml-1.5 px-1.5 py-0.5 text-[0.65rem] rounded-full",x.value==="EN_COURS"?"bg-white/20":"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"])},s(o.prescriptionsEnCours),3)],2),e("button",{onClick:t[17]||(t[17]=r=>x.value="TERMINE"),class:m(["group inline-flex items-center px-3 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200",x.value==="TERMINE"?"bg-gradient-to-r from-emerald-500 to-green-600 text-white shadow-md":"bg-white/80 dark:bg-gray-700/80 text-gray-700 dark:text-gray-300 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 shadow-sm border border-gray-200/50 dark:border-gray-600/50"])},[e("span",{class:m(["w-1.5 h-1.5 rounded-full mr-1.5",x.value==="TERMINE"?"bg-white/80":"bg-emerald-500"])},null,2),t[57]||(t[57]=c(" Terminées ",-1)),e("span",{class:m(["ml-1.5 px-1.5 py-0.5 text-[0.65rem] rounded-full",x.value==="TERMINE"?"bg-white/20":"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300"])},s(o.prescriptionsTerminees),3)],2)]))]),e("div",ut,[E.value.length>0?(a(!0),l(M,{key:0},_(E.value,r=>{var k;return a(),l("div",{key:r.id,class:m(["group relative bg-white/60 dark:bg-gray-800/60 backdrop-blur-sm rounded-xl border border-gray-100/50 dark:border-gray-700/50 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-[1.02] hover:-translate-y-0.5",N(r.created_at)?"ring-1 ring-blue-200/50 dark:ring-blue-800/50":""])},[N(r.created_at)?(a(),l("div",mt,[...t[58]||(t[58]=[e("div",{class:"px-2 py-1 bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-xs font-bold rounded-full shadow-lg animate-pulse"},[e("span",{class:"flex items-center space-x-1"},[e("span",{class:"w-1.5 h-1.5 bg-white rounded-full"}),e("span",null,"Récente")])],-1)])])):u("",!0),e("div",xt,[e("div",bt,[e("div",null,[e("h4",gt,s(r.reference),1),e("p",ct,s(D(r.created_at)),1)]),e("span",{class:m(S(r.status))},[e("span",{class:m(U(r.status))},null,2),c(" "+s(r.status_label),1)],2)]),e("div",pt,[e("span",kt,"Dr. "+s(((k=r.prescripteur)==null?void 0:k.nom)??"Non spécifié"),1),e("span",ft,s(r.analyses.length)+" analyse"+s(r.analyses.length>1?"s":""),1)]),e("div",yt,[(a(!0),l(M,null,_(r.analyses.slice(0,2),h=>(a(),l("div",{key:h.id,class:"flex items-center space-x-2"},[e("div",{class:m(["flex-shrink-0 w-2 h-2 rounded-full",r.status==="TERMINE"?"bg-emerald-500":r.status==="EN_COURS"?"bg-blue-500":"bg-amber-400"])},null,2),e("p",vt,s(h.designation),1)]))),128)),r.analyses.length>2?(a(),l("div",ht," +"+s(r.analyses.length-2)+" autres analyses... ",1)):u("",!0)]),e("div",wt,[r.montant_total>0?(a(),l("span",Et,s(w(r.montant_total))+" Ar ",1)):u("",!0),r.status==="VALIDE"?(a(),l("a",{key:1,href:n.route("laboratoire.prescription.pdf",r.id),target:"_blank",class:"text-xs font-semibold text-blue-600 dark:text-blue-400 hover:text-blue-700 flex items-center"},[...t[59]||(t[59]=[c(" Résultats ",-1),e("svg",{class:"w-3 h-3 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,Ct)):u("",!0)])])],2)}),128)):(a(),l("div",Mt,[e("div",_t,[t[60]||(t[60]=e("div",{class:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-6 h-6 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})])],-1)),e("h3",Nt,s(g.value?"Aucun résultat":"Aucune prescription"),1),e("p",Tt,s(g.value?'Aucune correspondance pour "'+g.value+'"':"Ce patient n'a pas encore de prescriptions"),1),g.value?(a(),l("button",{key:0,onClick:t[18]||(t[18]=r=>{g.value="",x.value=""}),class:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white text-xs font-semibold rounded-lg shadow-md"},"Effacer la recherche")):u("",!0)])]))])])):u("",!0),b.value==="paiements"?(a(),l("div",At,[e("div",jt,[e("div",Vt,[t[61]||(t[61]=e("h3",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"Historique des Paiements",-1)),e("div",Ht,"Total: "+s(w(o.montantTotal))+" Ar",1)])]),e("div",zt,[T.value.length>0?(a(!0),l(M,{key:0},_(T.value,r=>{var k;return a(),l("div",{key:r.id,class:"p-6 border-b border-gray-200 dark:border-gray-700 last:border-b-0"},[e("div",Rt,[e("div",$t,[t[62]||(t[62]=e("div",{class:"w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1)),e("div",null,[e("div",Bt,s(w(r.montant))+" Ar",1),e("div",Dt,s(L(r.created_at))+" • "+s(((k=r.payment_method)==null?void 0:k.label)??"N/A"),1)])]),e("div",Lt,[e("span",St," Ref #"+s(r.prescription_reference??r.prescription_id),1),e("a",{href:n.route("secretaire.prescription.facture",r.prescription_id),target:"_blank",class:"inline-flex items-center px-2 py-1 text-xs font-medium text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 rounded transition-colors",title:"Voir la facture"},[...t[63]||(t[63]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1),c(" Facture ",-1)])],8,Ut)])])])}),128)):(a(),l("div",Pt,[...t[64]||(t[64]=[e("div",{class:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4"},[e("svg",{class:"w-8 h-8 text-gray-400 dark:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})])],-1),e("h3",{class:"text-lg font-medium text-gray-900 dark:text-white mb-2"},"Aucun paiement",-1),e("p",{class:"text-gray-500 dark:text-gray-400"},"Ce patient n'a encore effectué aucun paiement.",-1)])]))])])):u("",!0)])]),_:1}))}};export{Gt as default};
