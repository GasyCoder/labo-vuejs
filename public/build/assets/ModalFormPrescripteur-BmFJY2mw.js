import{f as x,y as S,q as j,c as _,o as p,u as U,w as $,x as B,d as y,e as r,t as k,i as N,a as o,b as s,n as u,F as O,p as F,K as T,j as A,g as V}from"./app-C9wF-B7e.js";import{_ as E}from"./Modal-CpG4RlBP.js";import{_ as m,a as v,b as i,c as P}from"./PrimaryButton-b0cGTr0X.js";import{_ as q}from"./SecondaryButton-CL59nU8y.js";/* empty css            */import"./_commonjsHelpers-_d1bhYXs.js";import"./debounce-D0G5qrda.js";const D=["value"],M={__name:"Checkbox",props:{checked:{type:[Array,Boolean],default:!1},value:{type:String,default:null}},emits:["update:checked"],setup(d,{emit:g}){const a=g,f=d,c=j({get(){return f.checked},set(e){a("update:checked",e)}});return(e,n)=>x((p(),_("input",{"onUpdate:modelValue":n[0]||(n[0]=b=>c.value=b),type:"checkbox",value:d.value,class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:focus:ring-offset-gray-800"},null,8,D)),[[S,c.value]])}},L={class:"bg-white dark:bg-gray-800"},z={class:"px-6 py-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},K={class:"text-xl font-bold text-gray-900 dark:text-white"},R={class:"px-6 py-6"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},H={class:"flex flex-wrap gap-6"},I=["value"],J={class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},Q={class:"md:col-span-2"},W={class:"md:col-span-2 space-y-3"},X={class:"flex items-center"},Y={class:"flex items-center"},Z={class:"bg-gray-50 dark:bg-gray-700/50 px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3"},ne={__name:"ModalFormPrescripteur",props:{show:Boolean,prescripteur:Object,grades:Object,statusOptions:Object},emits:["close"],setup(d,{emit:g}){const a=d,f=g,c=j(()=>!!a.prescripteur),e=U({nom:"",prenom:"",grade:"",status:"Medecin",telephone:"",notes:"",is_active:!0,is_commissionned:!0});$(()=>a.show,h=>{h&&(a.prescripteur?(e.nom=a.prescripteur.nom,e.prenom=a.prescripteur.prenom,e.grade=a.prescripteur.grade,e.status=a.prescripteur.status||"Medecin",e.telephone=a.prescripteur.telephone,e.notes=a.prescripteur.notes,e.is_active=!!a.prescripteur.is_active,e.is_commissionned=!!a.prescripteur.is_commissionned):e.reset(),e.clearErrors())});const n=()=>{f("close")},b=()=>{c.value?e.put(route("secretaire.prescripteurs.update",a.prescripteur.id),{preserveScroll:!0,onSuccess:()=>n()}):e.post(route("secretaire.prescripteurs.store"),{preserveScroll:!0,onSuccess:()=>n()})};return(h,t)=>(p(),B(E,{show:d.show,"max-width":"2xl",onClose:n},{default:y(()=>[r("div",L,[r("div",z,[r("h2",K,k(c.value?"Modifier le prescripteur":"Nouveau prescripteur"),1),r("button",{type:"button",onClick:n,class:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 rounded-lg p-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition"},[...t[7]||(t[7]=[r("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),r("form",{onSubmit:N(b,["prevent"])},[r("div",R,[r("div",G,[r("div",null,[o(m,{for:"nom",value:"Nom *"}),o(v,{id:"nom",type:"text",class:u(["mt-1 block w-full",{"border-red-500":s(e).errors.nom}]),modelValue:s(e).nom,"onUpdate:modelValue":t[0]||(t[0]=l=>s(e).nom=l),required:""},null,8,["modelValue","class"]),o(i,{message:s(e).errors.nom,class:"mt-2"},null,8,["message"])]),r("div",null,[o(m,{for:"prenom",value:"Prénom"}),o(v,{id:"prenom",type:"text",class:u(["mt-1 block w-full",{"border-red-500":s(e).errors.prenom}]),modelValue:s(e).prenom,"onUpdate:modelValue":t[1]||(t[1]=l=>s(e).prenom=l)},null,8,["modelValue","class"]),o(i,{message:s(e).errors.prenom,class:"mt-2"},null,8,["message"])]),r("div",null,[o(m,{value:"Statut *",class:"mb-3"}),r("div",H,[(p(!0),_(O,null,F(d.statusOptions,(l,w)=>(p(),_("label",{key:w,class:"inline-flex items-center"},[x(r("input",{type:"radio","onUpdate:modelValue":t[2]||(t[2]=C=>s(e).status=C),value:w,class:"text-blue-600 border-gray-300 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:focus:ring-blue-400"},null,8,I),[[T,s(e).status]]),r("span",J,k(l),1)]))),128))]),o(i,{message:s(e).errors.status,class:"mt-2"},null,8,["message"])]),r("div",null,[o(m,{for:"telephone",value:"Téléphone"}),o(v,{id:"telephone",type:"text",class:u(["mt-1 block w-full",{"border-red-500":s(e).errors.telephone}]),modelValue:s(e).telephone,"onUpdate:modelValue":t[3]||(t[3]=l=>s(e).telephone=l)},null,8,["modelValue","class"]),o(i,{message:s(e).errors.telephone,class:"mt-2"},null,8,["message"])]),r("div",Q,[o(m,{for:"notes",value:"Notes"}),x(r("textarea",{id:"notes","onUpdate:modelValue":t[4]||(t[4]=l=>s(e).notes=l),rows:"3",class:u(["mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",{"border-red-500":s(e).errors.notes}])},null,2),[[A,s(e).notes]]),o(i,{message:s(e).errors.notes,class:"mt-2"},null,8,["message"])]),r("div",W,[r("label",X,[o(M,{name:"is_active",checked:s(e).is_active,"onUpdate:checked":t[5]||(t[5]=l=>s(e).is_active=l)},null,8,["checked"]),t[8]||(t[8]=r("span",{class:"ml-2 text-sm text-gray-600 dark:text-gray-400"},"Prescripteur actif",-1))]),r("label",Y,[o(M,{name:"is_commissionned",checked:s(e).is_commissionned,"onUpdate:checked":t[6]||(t[6]=l=>s(e).is_commissionned=l)},null,8,["checked"]),t[9]||(t[9]=r("span",{class:"ml-2 text-sm text-gray-600 dark:text-gray-400"},"Touche une commission sur ses prescriptions payées",-1))]),o(i,{message:s(e).errors.is_active,class:"mt-1"},null,8,["message"]),o(i,{message:s(e).errors.is_commissionned,class:"mt-1"},null,8,["message"])])])]),r("div",Z,[o(q,{onClick:n,disabled:s(e).processing},{default:y(()=>[...t[10]||(t[10]=[V(" Annuler ",-1)])]),_:1},8,["disabled"]),o(P,{type:"submit",class:u({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:y(()=>[V(k(c.value?"Mettre à jour":"Ajouter"),1)]),_:1},8,["class","disabled"])])],32)])]),_:1},8,["show"]))}};export{ne as default};
