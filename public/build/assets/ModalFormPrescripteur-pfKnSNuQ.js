import{e as v,k as q,c,d as o,t as _,o as u,B as $,G as M,r as j,q as B,i as S,m as N,w as U,s as P,b as x,j as A,a as t,u as s,n as g,F as O,f as E,J as F,v as I,p as V}from"./app-CepxlqUZ.js";import{_ as Q}from"./Modal-Dvvx4qg0.js";import{_ as T}from"./SecondaryButton-BJgTZx4u.js";/* empty css            */import"./_commonjsHelpers-_d1bhYXs.js";import"./debounce-D0G5qrda.js";const L={class:"text-sm text-red-600 dark:text-red-400"},p={__name:"InputError",props:{message:String},setup(n){return(i,r)=>v((u(),c("div",null,[o("p",L,_(n.message),1)],512)),[[q,n.message]])}},D={class:"block font-medium text-sm text-gray-700 dark:text-gray-300"},z={key:0},G={key:1},f={__name:"InputLabel",props:{value:String},setup(n){return(i,r)=>(u(),c("label",D,[n.value?(u(),c("span",z,_(n.value),1)):(u(),c("span",G,[$(i.$slots,"default")]))]))}},J=["type"],R={__name:"PrimaryButton",props:{type:{type:String,default:"submit"}},setup(n){return(i,r)=>(u(),c("button",{type:n.type,class:"inline-flex items-center px-4 py-2 border border-transparent rounded-md font-semibold text-xs text-white dark:text-gray-900 uppercase tracking-widest bg-gray-800 dark:bg-gray-200 hover:bg-gray-700 dark:hover:bg-white focus:bg-gray-700 dark:focus:bg-white active:bg-gray-900 dark:active:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition ease-in-out duration-150"},[$(i.$slots,"default")],8,J))}},H=["value"],y={__name:"TextInput",props:{modelValue:String|Number},emits:["update:modelValue"],setup(n,{expose:i}){const r=j(null);return M(()=>{r.value.hasAttribute("autofocus")&&r.value.focus()}),i({focus:()=>r.value.focus()}),(b,d)=>(u(),c("input",{ref_key:"input",ref:r,class:"border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",value:n.modelValue,onInput:d[0]||(d[0]=e=>b.$emit("update:modelValue",e.target.value))},null,40,H))}},K=["value"],W={__name:"Checkbox",props:{checked:{type:[Array,Boolean],default:!1},value:{type:String,default:null}},emits:["update:checked"],setup(n,{emit:i}){const r=i,b=n,d=S({get(){return b.checked},set(e){r("update:checked",e)}});return(e,m)=>v((u(),c("input",{"onUpdate:modelValue":m[0]||(m[0]=k=>d.value=k),type:"checkbox",value:n.value,class:"rounded dark:bg-gray-900 border-gray-300 dark:border-gray-700 text-indigo-600 shadow-sm focus:ring-indigo-500 dark:focus:ring-indigo-600 dark:focus:ring-offset-gray-800"},null,8,K)),[[B,d.value]])}},X={class:"bg-white dark:bg-gray-800"},Y={class:"px-6 py-6 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"},Z={class:"text-xl font-bold text-gray-900 dark:text-white"},ee={class:"px-6 py-6"},se={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},re={class:"flex flex-wrap gap-6"},oe=["value"],te={class:"ml-2 text-sm text-gray-700 dark:text-gray-300"},ae={class:"md:col-span-2"},ne={class:"md:col-span-2"},le={class:"flex items-center"},ie={class:"bg-gray-50 dark:bg-gray-700/50 px-6 py-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-3"},fe={__name:"ModalFormPrescripteur",props:{show:Boolean,prescripteur:Object,grades:Object,statusOptions:Object,defaultCommissionQuota:[Number,String],defaultCommissionPourcentage:[Number,String]},emits:["close"],setup(n,{emit:i}){const r=n,b=i,d=S(()=>!!r.prescripteur),e=N({nom:"",prenom:"",grade:"",status:"Medecin",telephone:"",notes:"",is_active:!0,commission_quota:r.defaultCommissionQuota||25e4,commission_pourcentage:r.defaultCommissionPourcentage||10});U(()=>r.show,h=>{h&&(r.prescripteur?(e.nom=r.prescripteur.nom,e.prenom=r.prescripteur.prenom,e.grade=r.prescripteur.grade,e.status=r.prescripteur.status||"Medecin",e.telephone=r.prescripteur.telephone,e.notes=r.prescripteur.notes,e.is_active=!!r.prescripteur.is_active,e.commission_quota=r.prescripteur.commission_quota,e.commission_pourcentage=r.prescripteur.commission_pourcentage):(e.reset(),e.commission_quota=r.defaultCommissionQuota||25e4,e.commission_pourcentage=r.defaultCommissionPourcentage||10),e.clearErrors())});const m=()=>{b("close")},k=()=>{d.value?e.put(route("secretaire.prescripteurs.update",r.prescripteur.id),{preserveScroll:!0,onSuccess:()=>m()}):e.post(route("secretaire.prescripteurs.store"),{preserveScroll:!0,onSuccess:()=>m()})};return(h,a)=>(u(),P(Q,{show:n.show,"max-width":"2xl",onClose:m},{default:x(()=>[o("div",X,[o("div",Y,[o("h2",Z,_(d.value?"Modifier le prescripteur":"Nouveau prescripteur"),1),o("button",{type:"button",onClick:m,class:"text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 rounded-lg p-2 hover:bg-gray-100 dark:hover:bg-gray-700 transition"},[...a[8]||(a[8]=[o("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),o("form",{onSubmit:A(k,["prevent"])},[o("div",ee,[o("div",se,[o("div",null,[t(f,{for:"nom",value:"Nom *"}),t(y,{id:"nom",type:"text",class:g(["mt-1 block w-full",{"border-red-500":s(e).errors.nom}]),modelValue:s(e).nom,"onUpdate:modelValue":a[0]||(a[0]=l=>s(e).nom=l),required:""},null,8,["modelValue","class"]),t(p,{message:s(e).errors.nom,class:"mt-2"},null,8,["message"])]),o("div",null,[t(f,{for:"prenom",value:"Prénom"}),t(y,{id:"prenom",type:"text",class:g(["mt-1 block w-full",{"border-red-500":s(e).errors.prenom}]),modelValue:s(e).prenom,"onUpdate:modelValue":a[1]||(a[1]=l=>s(e).prenom=l)},null,8,["modelValue","class"]),t(p,{message:s(e).errors.prenom,class:"mt-2"},null,8,["message"])]),o("div",null,[t(f,{value:"Statut *",class:"mb-3"}),o("div",re,[(u(!0),c(O,null,E(n.statusOptions,(l,w)=>(u(),c("label",{key:w,class:"inline-flex items-center"},[v(o("input",{type:"radio","onUpdate:modelValue":a[2]||(a[2]=C=>s(e).status=C),value:w,class:"text-blue-600 border-gray-300 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:focus:ring-blue-400"},null,8,oe),[[F,s(e).status]]),o("span",te,_(l),1)]))),128))]),t(p,{message:s(e).errors.status,class:"mt-2"},null,8,["message"])]),o("div",null,[t(f,{for:"telephone",value:"Téléphone"}),t(y,{id:"telephone",type:"text",class:g(["mt-1 block w-full",{"border-red-500":s(e).errors.telephone}]),modelValue:s(e).telephone,"onUpdate:modelValue":a[3]||(a[3]=l=>s(e).telephone=l)},null,8,["modelValue","class"]),t(p,{message:s(e).errors.telephone,class:"mt-2"},null,8,["message"])]),o("div",null,[t(f,{for:"commission_quota",value:"Quota mensuel de commission (Ar) *"}),t(y,{id:"commission_quota",type:"number",step:"0.01",class:g(["mt-1 block w-full",{"border-red-500":s(e).errors.commission_quota}]),modelValue:s(e).commission_quota,"onUpdate:modelValue":a[4]||(a[4]=l=>s(e).commission_quota=l),required:""},null,8,["modelValue","class"]),t(p,{message:s(e).errors.commission_quota,class:"mt-2"},null,8,["message"])]),o("div",null,[t(f,{for:"commission_pourcentage",value:"Pourcentage de commission (%) *"}),t(y,{id:"commission_pourcentage",type:"number",step:"0.01",class:g(["mt-1 block w-full",{"border-red-500":s(e).errors.commission_pourcentage}]),modelValue:s(e).commission_pourcentage,"onUpdate:modelValue":a[5]||(a[5]=l=>s(e).commission_pourcentage=l),required:""},null,8,["modelValue","class"]),t(p,{message:s(e).errors.commission_pourcentage,class:"mt-2"},null,8,["message"])]),o("div",ae,[t(f,{for:"notes",value:"Notes"}),v(o("textarea",{id:"notes","onUpdate:modelValue":a[6]||(a[6]=l=>s(e).notes=l),rows:"3",class:g(["mt-1 block w-full border-gray-300 dark:border-gray-700 dark:bg-gray-900 dark:text-gray-300 focus:border-indigo-500 dark:focus:border-indigo-600 focus:ring-indigo-500 dark:focus:ring-indigo-600 rounded-md shadow-sm",{"border-red-500":s(e).errors.notes}])},null,2),[[I,s(e).notes]]),t(p,{message:s(e).errors.notes,class:"mt-2"},null,8,["message"])]),o("div",ne,[o("label",le,[t(W,{name:"is_active",checked:s(e).is_active,"onUpdate:checked":a[7]||(a[7]=l=>s(e).is_active=l)},null,8,["checked"]),a[9]||(a[9]=o("span",{class:"ml-2 text-sm text-gray-600 dark:text-gray-400"},"Prescripteur actif",-1))]),t(p,{message:s(e).errors.is_active,class:"mt-2"},null,8,["message"])])])]),o("div",ie,[t(T,{onClick:m,disabled:s(e).processing},{default:x(()=>[...a[10]||(a[10]=[V(" Annuler ",-1)])]),_:1},8,["disabled"]),t(R,{type:"submit",class:g({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:x(()=>[V(_(d.value?"Mettre à jour":"Ajouter"),1)]),_:1},8,["class","disabled"])])],32)])]),_:1},8,["show"]))}};export{fe as default};
