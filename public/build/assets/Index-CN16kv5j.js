import{L as G,w as je,r as Ae,x as M,d as D,e,c as a,j as i,o as l,t as n,g as h,n as c,q as g,A as J,f as F,b as E,l as ce,s as Q,F as y,p as z,a as Me,T as ue,i as me,K as xe,z as P}from"./app-DB0nFYEe.js";import{d as Ne}from"./debounce-BjP9TRjn.js";import{a as Le,_ as Be,S as pe}from"./AppLayout-Dr0HkjGz.js";import{_ as $e}from"./Pagination-Cw7pH8AM.js";/* empty css            */import"./_commonjsHelpers-_d1bhYXs.js";import"./debounce-D0G5qrda.js";const Se={class:"container mx-auto px-4 py-8 sm:px-6 lg:px-8"},Ve={class:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4"},Ee={key:0,class:"flex items-center gap-3 animate-in fade-in slide-in-from-top-2 duration-300"},ze={class:"text-sm font-medium text-slate-600 dark:text-slate-400"},Pe={class:"mb-6 grid grid-cols-2 gap-3 sm:grid-cols-3 lg:grid-cols-5"},Te={class:"relative overflow-hidden rounded-xl border border-slate-200 bg-white p-3 transition-all hover:shadow-md dark:border-slate-700 dark:bg-slate-800"},He={class:"flex flex-col items-center gap-1 text-center"},De={class:"mt-1 text-xl font-bold leading-none text-slate-900 dark:text-white"},Fe={class:"relative overflow-hidden rounded-xl border border-slate-200 bg-white p-3 transition-all hover:shadow-md dark:border-slate-700 dark:bg-slate-800"},Re={class:"flex flex-col items-center gap-1 text-center"},Ie={class:"mt-1 text-xl font-bold leading-none text-slate-900 dark:text-white"},Ue={class:"flex flex-col items-center gap-1 text-center"},Oe={class:"mt-1 text-xl font-bold leading-none text-slate-900 dark:text-white"},qe={class:"flex flex-col items-center gap-1 text-center"},Ke={class:"mt-1 text-xl font-bold leading-none text-slate-900 dark:text-white"},Ge={class:"relative col-span-2 overflow-hidden rounded-xl border border-slate-200 bg-white p-3 transition-all hover:shadow-md sm:col-span-1 dark:border-slate-700 dark:bg-slate-800"},Je={class:"flex flex-col items-center gap-1 text-center"},Qe={class:"text-xl font-bold leading-none text-slate-900 dark:text-white"},We={class:"mb-6 grid grid-cols-1 gap-3 md:grid-cols-3"},Xe={class:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-700 dark:bg-slate-800"},Ye={class:"flex items-center justify-between mb-2"},Ze={class:"text-xs font-bold text-slate-900 dark:text-white"},et={class:"h-1.5 overflow-hidden rounded-full bg-slate-100 dark:bg-slate-700"},tt={class:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-700 dark:bg-slate-800"},st={class:"flex items-center justify-between mb-2"},rt={class:"text-xs font-bold text-slate-900 dark:text-white"},lt={class:"h-1.5 overflow-hidden rounded-full bg-slate-100 dark:bg-slate-700"},at={class:"rounded-xl border border-slate-200 bg-white p-4 dark:border-slate-700 dark:bg-slate-800"},ot={class:"flex items-center justify-between mb-2"},nt={class:"text-xs font-bold text-slate-900 dark:text-white"},it={class:"h-1.5 overflow-hidden rounded-full bg-slate-100 dark:bg-slate-700"},dt={class:"mb-6 rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-800"},ct={class:"flex flex-col items-center gap-3 p-4 md:flex-row"},ut={class:"relative w-full flex-1"},mt={class:"flex w-full items-center gap-1.5 rounded-lg bg-slate-100 p-1 md:w-auto dark:bg-slate-700/50"},xt={class:"border-t border-slate-100 dark:border-slate-700/50"},pt={class:"flex px-4","aria-label":"Tabs"},bt={class:"flex items-center gap-2"},kt={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 rounded-full bg-primary-600 dark:bg-primary-400"},ft={class:"flex items-center gap-2"},ht={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 rounded-full bg-primary-600 dark:bg-primary-400"},vt={class:"flex items-center gap-2"},gt={key:0,class:"inline-flex h-5 min-w-[20px] items-center justify-center rounded-full bg-red-100 px-1.5 text-xs font-semibold text-red-700 dark:bg-red-900/30 dark:text-red-300"},yt={key:0,class:"absolute bottom-0 left-0 right-0 h-0.5 rounded-full bg-primary-600 dark:bg-primary-400"},wt={key:0,class:"mb-4 flex flex-wrap items-center gap-2"},_t={key:0,class:"inline-flex items-center gap-1 rounded-full bg-slate-100 px-2.5 py-1 text-xs text-slate-700 dark:bg-slate-700 dark:text-slate-300"},Ct={class:"rounded-xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-800"},jt={class:"hidden lg:block"},At={class:"w-full"},Mt={class:"border-b border-slate-100 dark:border-slate-700"},Nt={class:"w-10 px-4 py-3"},Lt=["checked"],Bt={class:"divide-y divide-slate-50 dark:divide-slate-700/50"},$t={class:"px-4 py-3.5"},St=["checked","onChange"],Vt={class:"px-4 py-3.5"},Et={class:"text-sm font-semibold text-slate-900 dark:text-white"},zt={class:"px-4 py-3.5"},Pt={class:"flex items-center gap-2.5"},Tt={class:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-primary-400 to-primary-600"},Ht={class:"text-xs font-semibold text-white"},Dt={class:"min-w-0"},Ft={class:"max-w-[150px] truncate text-sm font-medium text-slate-900 dark:text-white"},Rt={class:"text-xs text-slate-400 dark:text-slate-500"},It={class:"px-4 py-3.5"},Ut={class:"text-sm text-slate-600 dark:text-slate-300"},Ot={class:"px-4 py-3.5"},qt={class:"flex flex-wrap items-center gap-1.5 max-w-[250px]"},Kt={class:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-primary-100 text-primary-700 dark:bg-primary-900/40 dark:text-primary-300 text-[11px] font-black border border-primary-200 dark:border-primary-800 shadow-sm mr-1",title:"Total des analyses"},Gt=["title"],Jt={key:0,class:"relative group/tooltip"},Qt={class:"inline-flex items-center rounded-md bg-slate-100 px-2 py-0.5 text-[10px] font-bold text-slate-600 dark:bg-slate-700 dark:text-slate-400 cursor-help"},Wt={class:"flex flex-col gap-1.5"},Xt={class:"font-bold text-primary-400 min-w-[40px]"},Yt={class:"text-slate-300"},Zt={key:0,class:"absolute bottom-full left-1/2 -translate-x-1/2 border-4 border-transparent border-b-slate-900"},es={key:1,class:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-slate-900"},ts={key:1,class:"text-xs italic text-slate-400"},ss={class:"px-4 py-3.5"},rs={class:"px-4 py-3.5"},ls={key:0,class:"flex items-center gap-2.5"},as=["onClick"],os={key:0,class:"text-[11px] text-slate-400"},ns={key:1,class:"text-xs italic text-slate-400 dark:text-slate-500"},is={class:"px-4 py-3.5"},ds={class:"text-sm text-slate-600 dark:text-slate-300"},cs={class:"text-[11px] text-slate-400"},us={class:"px-4 py-3.5"},ms={class:"flex items-center justify-end gap-1 opacity-0 transition-opacity group-hover:opacity-100"},xs=["onClick"],ps=["href"],bs=["title","onClick"],ks=["fill"],fs=["onClick"],hs=["onClick"],vs=["onClick"],gs={key:0},ys={colspan:"9",class:"py-16 text-center"},ws={class:"flex flex-col items-center"},_s={key:0,class:"mt-1 text-xs text-slate-400 dark:text-slate-500"},Cs={class:"divide-y divide-slate-100 dark:divide-slate-700/50 lg:hidden"},js={class:"flex items-center justify-between"},As={class:"flex items-center gap-2"},Ms=["checked","onChange"],Ns={class:"text-sm font-bold text-slate-900 dark:text-white"},Ls={class:"flex items-center gap-3"},Bs={class:"flex h-8 w-8 flex-shrink-0 items-center justify-center rounded-full bg-gradient-to-br from-primary-400 to-primary-600"},$s={class:"text-[11px] font-semibold text-white"},Ss={class:"min-w-0 flex-1"},Vs={class:"truncate text-sm font-medium text-slate-900 dark:text-white"},Es={class:"text-xs text-slate-400"},zs={class:"flex items-center justify-between pt-1"},Ps={class:"flex flex-col gap-2 flex-1 min-w-0"},Ts={class:"flex flex-wrap items-center gap-1.5"},Hs={class:"inline-flex h-5 w-5 items-center justify-center rounded-full bg-primary-100 text-primary-700 dark:bg-primary-900/40 dark:text-primary-300 text-[10px] font-black border border-primary-200 dark:border-primary-800 shadow-sm mr-0.5"},Ds={key:0,class:"text-[9px] font-bold text-slate-400 self-center"},Fs={class:"flex items-center gap-3 text-xs text-slate-500 dark:text-slate-400"},Rs={class:"flex items-center gap-1"},Is=["onClick"],Us=["href"],Os=["title","onClick"],qs=["fill"],Ks=["onClick"],Gs=["onClick"],Js=["onClick"],Qs={key:0,class:"py-12 text-center"},Ws={key:0,class:"border-t border-slate-100 bg-slate-50/50 px-4 py-3 dark:border-slate-700/50 dark:bg-slate-800/50"},Xs={class:"flex flex-col items-center justify-between gap-3 sm:flex-row"},Ys={class:"text-xs text-slate-500 dark:text-slate-400"},Zs={class:"font-medium"},er={class:"font-medium"},tr={class:"font-medium"},sr={key:0,class:"fixed inset-0 z-[60] overflow-y-auto"},rr={class:"flex min-h-full items-center justify-center p-4"},lr={class:"p-6 text-center"},ar={class:"mb-1 text-lg font-semibold text-slate-900 dark:text-white"},or={class:"text-sm text-slate-500 dark:text-slate-400"},nr={class:"flex gap-3 px-6 pb-6"},ir=["disabled"],dr={key:0,class:"fixed inset-0 z-[60] overflow-y-auto"},cr={class:"flex min-h-full items-end sm:items-center justify-center p-0 sm:p-4"},ur={class:"p-5 sm:p-6"},mr={class:"flex items-start gap-3 mb-5"},xr={class:"min-w-0"},pr={class:"text-sm text-slate-500 dark:text-slate-400 mt-0.5"},br={key:0,class:"text-center py-6"},kr={class:"mb-4"},fr={class:"mb-4"},hr={class:"flex items-center justify-between mb-2"},vr=["rows","maxlength"],gr=["disabled"],yr={key:0,class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},wr={__name:"Index",props:{prescriptions:{type:Object,required:!0},filters:{type:Object,default:()=>({})},counts:{type:Object,default:()=>({})},permissions:{type:Object,default:()=>({})}},setup(m){const u=m,d=G({search:u.filters.search||"",tab:u.filters.tab||"actives",perPage:u.filters.perPage||10,payment:u.filters.payment||""}),k=g(()=>({canCreate:u.permissions.canCreate??!1,canEdit:u.permissions.canEdit??!1,canDelete:u.permissions.canDelete??!1,canAccessTrash:u.permissions.canAccessTrash??!1,canAccessArchive:u.permissions.canAccessArchive??!1,canViewPrescription:u.permissions.canViewPrescription??!1})),f=Ae([]),W=g(()=>u.prescriptions.data.length>0&&f.value.length===u.prescriptions.data.length),be=()=>{W.value?f.value=[]:f.value=u.prescriptions.data.map(r=>r.id)},X=r=>{const t=f.value.indexOf(r);t===-1?f.value.push(r):f.value.splice(t,1)};je(()=>[d.tab,d.search,d.payment],()=>{f.value=[]});const ke=()=>{f.value.length!==0&&pe.fire({title:"Suppression groupée",text:`Êtes-vous sûr de vouloir mettre ${f.value.length} prescriptions en corbeille ?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#ef4444",cancelButtonColor:"#64748b",confirmButtonText:"Oui, supprimer tout",cancelButtonText:"Annuler"}).then(r=>{r.isConfirmed&&P.post(route("secretaire.prescription.bulkDestroy"),{ids:f.value},{onSuccess:()=>{f.value=[],pe.fire("Supprimé !","Les prescriptions ont été mises en corbeille.","success")}})})},fe=g(()=>k.value.canCreate),he=g(()=>k.value.canAccessTrash),b=G({show:!1,type:"",prescriptionId:null,processing:!1}),C=(r,t)=>{r!=="notify"&&(b.type=r,b.prescriptionId=t,b.show=!0,b.processing=!1)},R=()=>{b.show=!1,b.type="",b.prescriptionId=null,b.processing=!1},v=g(()=>({delete:{title:"Mettre en corbeille ?",desc:"Cette action peut etre annulee depuis la corbeille.",color:"red",btn:"Supprimer",routeName:"secretaire.prescription.destroy",method:"delete"},restore:{title:"Restaurer cette prescription ?",desc:"Elle sera remise dans la liste active.",color:"amber",btn:"Restaurer",routeName:"secretaire.prescription.restore",method:"post"},permanentDelete:{title:"Supprimer definitivement ?",desc:"Cette action est irreversible.",color:"red",btn:"Supprimer",routeName:"secretaire.prescription.forceDelete",method:"delete"},archive:{title:"Archiver cette prescription ?",desc:"Elle sera deplacee vers les archives.",color:"slate",btn:"Archiver",routeName:"secretaire.prescription.archive",method:"post"},unarchive:{title:"Desarchiver cette prescription ?",desc:"Elle sera remise dans les prescriptions validees.",color:"amber",btn:"Desarchiver",routeName:"secretaire.prescription.unarchive",method:"post"},pay:{title:"Confirmer le paiement",desc:"Marquer comme paye ? La date sera enregistree automatiquement.",color:"emerald",btn:"Confirmer",routeName:"secretaire.prescription.togglePayment",method:"post"},unpay:{title:"Annuler le paiement",desc:"Marquer comme non paye ? La date de paiement sera supprimee.",color:"red",btn:"Confirmer",routeName:"secretaire.prescription.togglePayment",method:"post"}})[b.type]||{}),ve=()=>{if(!b.prescriptionId||b.processing)return;b.processing=!0;const r=v.value,t=route(r.routeName,b.prescriptionId),x={preserveScroll:!0,onSuccess:()=>R(),onError:()=>{b.processing=!1},onFinish:()=>{b.processing=!1}};r.method==="delete"?P.delete(t,x):P[r.method](t,{},x)},Y=r=>r!=null&&r.patient?(r.patient.nom_complet||`${r.patient.nom||""} ${r.patient.prenom||""}`).trim().split(/\s+/)[0]||"Patient":"",Z=r=>`Bonjour ${Y(r)}, vos résultats d'analyses (${r.reference}) sont disponibles au laboratoire. Merci de passer les récupérer. - Lareference`,ee=r=>{const t=Y(r),x=route("laboratoire.prescription.pdf",r.id);return`Bonjour ${t},

Nous avons le plaisir de vous informer que les résultats de vos analyses (${r.reference}) sont désormais disponibles.

Vous pouvez les consulter et télécharger via le lien suivant :
${x}

Ou passer les récupérer directement au laboratoire.

Cordialement,
Laboratoire Lareference`},o=G({show:!1,prescription:null,channel:"",message:"",processing:!1}),I=g(()=>{var r,t;return!!((t=(r=o.prescription)==null?void 0:r.patient)!=null&&t.telephone)}),U=g(()=>{var r,t;return!!((t=(r=o.prescription)==null?void 0:r.patient)!=null&&t.email)}),T=g(()=>I.value||U.value),te=r=>{var _,j;o.prescription=r;const t=!!((_=r.patient)!=null&&_.telephone),x=!!((j=r.patient)!=null&&j.email);o.channel=t?"sms":x?"email":"",o.message=t?Z(r):x?ee(r):"",o.processing=!1,o.show=!0},H=()=>{o.show=!1,o.prescription=null,o.processing=!1},se=()=>{o.prescription&&(o.message=o.channel==="sms"?Z(o.prescription):ee(o.prescription))},ge=()=>{if(!o.prescription||o.processing||!o.message.trim()||!o.channel)return;o.processing=!0;const r=o.channel==="sms"?"secretaire.prescription.send-sms":"secretaire.prescription.send-email",t={message:o.message};o.channel==="email"&&(t.lien_pdf=route("laboratoire.prescription.pdf",o.prescription.id)),P.post(route(r,o.prescription.id),t,{preserveScroll:!0,onSuccess:()=>H(),onError:()=>{o.processing=!1},onFinish:()=>{o.processing=!1}})},ye=r=>{r.paiement&&C(r.paiement.status?"unpay":"pay",r.id)},O=g(()=>Number(u.counts.countActives||u.counts.actives||0)+Number(u.counts.countValide||u.counts.valide||0)+Number(u.counts.countDeleted||u.counts.deleted||0)),re=g(()=>{const r=Number(u.counts.countPaye||0),t=Number(u.counts.countNonPaye||0),x=r+t;return x===0?0:Math.round(r/x*100)}),le=g(()=>{const r=Number(u.counts.countEnCours||0),t=Number(u.counts.countTermine||0),x=Number(u.counts.countValide||u.counts.valide||0),_=O.value;return _===0?0:Math.round((r+t+x)/_*100)}),ae=g(()=>{const r=Number(u.counts.countTermine||0),t=Number(u.counts.countValide||u.counts.valide||0),x=O.value;return x===0?0:Math.round((r+t)/x*100)}),N=()=>{P.get(route("secretaire.prescription.index"),d,{preserveState:!0,preserveScroll:!0,replace:!0})},oe=Ne(()=>N(),300),q=r=>{d.tab=r,N()},A=r=>{d.payment=r,N()},ne=()=>{d.search="",N()},we=()=>{d.search="",d.payment="",N()},K=r=>d.tab===r?"text-primary-600 dark:text-primary-400":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300",ie=r=>({EN_ATTENTE:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-300",EN_COURS:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300",TERMINE:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300",VALIDE:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300",ARCHIVE:"bg-slate-200 text-slate-700 dark:bg-slate-700 dark:text-slate-300"})[r]||"bg-slate-100 text-slate-700 dark:bg-slate-700 dark:text-slate-300",de=r=>{var x,_,j;const t=String(((x=r.patient)==null?void 0:x.nom_complet)||"NA").trim().split(/\s+/).filter(Boolean);return`${((_=t[0])==null?void 0:_.charAt(0))||"N"}${((j=t[1])==null?void 0:j.charAt(0))||"A"}`.toUpperCase()},_e=(r,t)=>{const x=String(r);return x.length<=t?x:`${x.slice(0,t)}...`},w=r=>Number(r||0).toLocaleString("fr-FR"),Ce=r=>({red:"bg-red-600 hover:bg-red-700",amber:"bg-amber-600 hover:bg-amber-700",slate:"bg-slate-600 hover:bg-slate-700",emerald:"bg-emerald-600 hover:bg-emerald-700"})[r]||"bg-primary-600 hover:bg-primary-700";return(r,t)=>(l(),M(Be,null,{default:D(()=>{var x,_,j;return[e("div",Se,[e("div",Ve,[t[17]||(t[17]=e("div",{class:"flex items-center gap-3"},[e("div",{class:"flex h-8 w-8 items-center justify-center rounded bg-primary-900/40 text-primary-400"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"})])]),e("h1",{class:"text-xl font-bold text-slate-900 dark:text-white"},"Liste des prescriptions")],-1)),f.value.length>0?(l(),a("div",Ee,[e("span",ze,n(f.value.length)+" sélectionné(s) ",1),e("button",{onClick:ke,class:"inline-flex items-center gap-2 rounded-lg bg-red-50 px-3 py-2 text-sm font-bold text-red-600 transition-all hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/30"},[...t[16]||(t[16]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),h(" Supprimer la sélection ",-1)])])])):i("",!0)]),e("div",Pe,[e("div",Te,[e("div",He,[t[18]||(t[18]=e("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center text-primary-500"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 12h4.5m2.5 0h8.5M8 12l2-4 2.5 8 2-4"})])],-1)),e("p",De,n(w(m.counts.countActives||m.counts.actives)),1),t[19]||(t[19]=e("p",{class:"text-[11px] font-medium text-slate-500 dark:text-slate-400"},"En Traitement",-1))])]),e("div",Fe,[e("div",Re,[t[20]||(t[20]=e("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center text-emerald-500"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("p",Ie,n(w(m.counts.countValide||m.counts.valide)),1),t[21]||(t[21]=e("p",{class:"text-[11px] font-medium text-slate-500 dark:text-slate-400"},"Validees",-1))])]),e("div",{class:c(["relative overflow-hidden rounded-xl bg-white p-3 transition-all hover:shadow-md dark:bg-slate-800",d.payment==="paye"?"border-emerald-400 ring-1 ring-emerald-400/50 dark:border-emerald-500":"border border-slate-200 dark:border-slate-700"])},[e("div",Ue,[t[22]||(t[22]=e("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center text-emerald-500"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("p",Oe,n(w(m.counts.countPaye)),1),t[23]||(t[23]=e("p",{class:"text-[11px] font-medium text-slate-500 dark:text-slate-400"},"Payees",-1))]),e("button",{onClick:t[0]||(t[0]=s=>A("paye")),type:"button",class:"absolute inset-0 cursor-pointer focus:outline-none focus:ring-2 focus:ring-emerald-500/50",title:"Filtrer les payees"})],2),e("div",{class:c(["relative overflow-hidden rounded-xl bg-white p-3 transition-all hover:shadow-md dark:bg-slate-800",d.payment==="non_paye"?"border-red-400 ring-1 ring-red-400/50 dark:border-red-500":"border border-slate-200 dark:border-slate-700"])},[e("div",qe,[t[24]||(t[24]=e("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center text-red-500"},[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2.25m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("p",Ke,n(w(m.counts.countNonPaye)),1),t[25]||(t[25]=e("p",{class:"text-[11px] font-medium text-slate-500 dark:text-slate-400"},"Non Payees",-1))]),e("button",{onClick:t[1]||(t[1]=s=>A("non_paye")),type:"button",class:"absolute inset-0 cursor-pointer focus:outline-none focus:ring-2 focus:ring-red-500/50",title:"Filtrer les non payees"})],2),e("div",Ge,[e("div",Je,[t[26]||(t[26]=e("div",{class:"flex h-8 w-8 flex-shrink-0 items-center justify-center"},null,-1)),e("p",Qe,n(w(O.value)),1),t[27]||(t[27]=e("p",{class:"text-[11px] font-medium text-slate-500 dark:text-slate-400"},"Total",-1))])])]),e("div",We,[e("div",Xe,[e("div",Ye,[t[28]||(t[28]=e("span",{class:"flex items-center gap-1.5 text-xs font-semibold text-emerald-500"},[e("span",{class:"h-2 w-2 rounded-full bg-emerald-500"}),h(" Taux de paiement ")],-1)),e("span",Ze,n(re.value)+"%",1)]),e("div",et,[e("div",{class:"h-full rounded-full bg-emerald-500 transition-all duration-500",style:J({width:`${re.value}%`})},null,4)])]),e("div",tt,[e("div",st,[t[29]||(t[29]=e("span",{class:"flex items-center gap-1.5 text-xs font-semibold text-blue-500"},[e("span",{class:"h-2 w-2 rounded-full bg-blue-500"}),h(" Progression ")],-1)),e("span",rt,n(le.value)+"%",1)]),e("div",lt,[e("div",{class:"h-full rounded-full bg-blue-500 transition-all duration-500",style:J({width:`${le.value}%`})},null,4)])]),e("div",at,[e("div",ot,[t[30]||(t[30]=e("span",{class:"flex items-center gap-1.5 text-xs font-semibold text-primary-500"},[e("span",{class:"h-2 w-2 rounded-full bg-primary-500"}),h(" Efficacite ")],-1)),e("span",nt,n(ae.value)+"%",1)]),e("div",it,[e("div",{class:"h-full rounded-full bg-primary-500 transition-all duration-500",style:J({width:`${ae.value}%`})},null,4)]),t[31]||(t[31]=e("div",{class:"mt-1.5 text-[10px] text-slate-400"},"Analyses completees",-1))])]),e("div",dt,[e("div",ct,[e("div",ut,[t[33]||(t[33]=e("svg",{class:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})],-1)),F(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>d.search=s),type:"text",placeholder:"Rechercher...",class:"w-full rounded-lg border border-slate-200 bg-slate-50 py-2.5 pl-10 pr-9 text-sm text-slate-900 placeholder-slate-400 transition-colors focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20 dark:border-slate-600 dark:bg-slate-700/50 dark:text-slate-100",onInput:t[3]||(t[3]=(...s)=>E(oe)&&E(oe)(...s))},null,544),[[ce,d.search]]),d.search?(l(),a("button",{key:0,type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 transition-colors hover:text-slate-600 dark:hover:text-slate-300",onClick:ne},[...t[32]||(t[32]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])):i("",!0)]),e("div",mt,[e("button",{type:"button",class:c(["flex items-center gap-1.5 rounded-md px-3 py-1.5 text-xs font-medium transition-all",d.payment?"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300":"bg-white text-slate-900 shadow-sm dark:bg-slate-600 dark:text-white"]),onClick:t[4]||(t[4]=s=>A(""))},[...t[34]||(t[34]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12"})],-1),h(" Toutes ",-1)])],2),e("button",{type:"button",class:c(["flex items-center gap-1.5 rounded-md px-3 py-1.5 text-xs font-medium transition-all",d.payment==="paye"?"bg-white text-slate-900 shadow-sm dark:bg-slate-600 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"]),onClick:t[5]||(t[5]=s=>A("paye"))},[t[35]||(t[35]=e("svg",{class:"h-4 w-4 text-emerald-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),h(" Payees ("+n(w(m.counts.countPaye))+") ",1)],2),e("button",{type:"button",class:c(["flex items-center gap-1.5 rounded-md px-3 py-1.5 text-xs font-medium transition-all",d.payment==="non_paye"?"bg-white text-slate-900 shadow-sm dark:bg-slate-600 dark:text-white":"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-300"]),onClick:t[6]||(t[6]=s=>A("non_paye"))},[t[36]||(t[36]=e("svg",{class:"h-4 w-4 text-red-500",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2.25m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),h(" Non payees ("+n(w(m.counts.countNonPaye))+") ",1)],2)]),fe.value?(l(),M(E(Q),{key:0,href:r.route("secretaire.prescription.create"),class:"inline-flex w-full items-center justify-center gap-2 rounded-lg bg-primary-500 px-4 py-2.5 text-sm font-semibold text-white shadow-sm transition-colors hover:bg-primary-600 md:w-auto"},{default:D(()=>[...t[37]||(t[37]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),h(" Nouvelle prescription ",-1)])]),_:1},8,["href"])):i("",!0)]),e("div",xt,[e("nav",pt,[e("button",{type:"button",class:c(["relative px-4 py-3 text-sm font-medium transition-colors",K("actives")]),onClick:t[7]||(t[7]=s=>q("actives"))},[e("span",bt,[t[38]||(t[38]=h(" Actives ",-1)),e("span",{class:c(["inline-flex h-5 min-w-[20px] items-center justify-center rounded-full px-1.5 text-xs font-semibold",d.tab==="actives"?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"])},n(w(m.counts.countActives||m.counts.actives)),3)]),d.tab==="actives"?(l(),a("span",kt)):i("",!0)],2),e("button",{type:"button",class:c(["relative px-4 py-3 text-sm font-medium transition-colors",K("valide")]),onClick:t[8]||(t[8]=s=>q("valide"))},[e("span",ft,[t[39]||(t[39]=h(" Validees ",-1)),e("span",{class:c(["inline-flex h-5 min-w-[20px] items-center justify-center rounded-full px-1.5 text-xs font-semibold",d.tab==="valide"?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-300":"bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400"])},n(w(m.counts.countValide||m.counts.valide)),3)]),d.tab==="valide"?(l(),a("span",ht)):i("",!0)],2),he.value?(l(),a("button",{key:0,type:"button",class:c(["relative px-4 py-3 text-sm font-medium transition-colors",K("deleted")]),onClick:t[9]||(t[9]=s=>q("deleted"))},[e("span",vt,[t[40]||(t[40]=h(" Corbeille ",-1)),w(m.counts.countDeleted||m.counts.deleted)>0?(l(),a("span",gt,n(w(m.counts.countDeleted||m.counts.deleted)),1)):i("",!0)]),d.tab==="deleted"?(l(),a("span",yt)):i("",!0)],2)):i("",!0)])])]),d.search||d.payment?(l(),a("div",wt,[t[43]||(t[43]=e("span",{class:"text-xs text-slate-500 dark:text-slate-400"},"Filtres actifs :",-1)),d.search?(l(),a("span",_t,[h(' "'+n(d.search)+'" ',1),e("button",{type:"button",class:"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",onClick:ne},[...t[41]||(t[41]=[e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):i("",!0),d.payment?(l(),a("span",{key:1,class:c(["inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs",d.payment==="paye"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-300":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300"])},[h(n(d.payment==="paye"?"Payees":"Non payees")+" ",1),e("button",{type:"button",class:"opacity-60 hover:opacity-100",onClick:t[10]||(t[10]=s=>A(""))},[...t[42]||(t[42]=[e("svg",{class:"h-3 w-3",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])],2)):i("",!0),e("button",{type:"button",class:"text-xs text-slate-400 underline hover:text-slate-600 dark:hover:text-slate-300",onClick:we},"Tout effacer")])):i("",!0),e("div",Ct,[e("div",jt,[e("table",At,[e("thead",null,[e("tr",Mt,[e("th",Nt,[e("input",{type:"checkbox",checked:W.value,onChange:be,class:"h-4 w-4 rounded border-slate-300 text-primary-600 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700"},null,40,Lt)]),t[44]||(t[44]=e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Reference",-1)),t[45]||(t[45]=e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Patient",-1)),t[46]||(t[46]=e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Prescripteur",-1)),t[47]||(t[47]=e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Analyses",-1)),t[48]||(t[48]=e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Statut",-1)),t[49]||(t[49]=e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Paiement",-1)),t[50]||(t[50]=e("th",{class:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Date",-1)),t[51]||(t[51]=e("th",{class:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wider text-slate-500 dark:text-slate-400"},"Actions",-1))])]),e("tbody",Bt,[(l(!0),a(y,null,z(m.prescriptions.data,s=>{var L,B,$,S;return l(),a("tr",{key:s.id,class:c(["group transition-colors hover:bg-slate-50/50 dark:hover:bg-slate-700/20",{"bg-primary-50/30 dark:bg-primary-900/10":f.value.includes(s.id)}])},[e("td",$t,[e("input",{type:"checkbox",checked:f.value.includes(s.id),onChange:p=>X(s.id),class:"h-4 w-4 rounded border-slate-300 text-primary-600 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700"},null,40,St)]),e("td",Vt,[e("span",Et,n(s.reference),1)]),e("td",zt,[e("div",Pt,[e("div",Tt,[e("span",Ht,n(de(s)),1)]),e("div",Dt,[e("p",Ft,n(((L=s.patient)==null?void 0:L.nom_complet)||"N/A"),1),e("p",Rt,n(((B=s.patient)==null?void 0:B.telephone)||"-"),1)])])]),e("td",It,[e("span",Ut,n(_e((($=s.prescripteur)==null?void 0:$.nom)||"N/A",20)),1)]),e("td",Ot,[e("div",qt,[e("span",Kt,n(s.analyses_count),1),(l(!0),a(y,null,z(s.analyses.slice(0,3),(p,V)=>(l(),a("span",{key:V,class:"inline-flex items-center rounded-md bg-blue-50 px-2 py-0.5 text-[10px] font-bold text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 border border-blue-100/50 dark:border-blue-800/50 whitespace-nowrap",title:p.designation},n(p.code),9,Gt))),128)),s.analyses.length>3?(l(),a("div",Jt,[e("span",Qt," +"+n(s.analyses.length-3),1),e("div",{class:c(["absolute left-1/2 -translate-x-1/2 hidden group-hover/tooltip:block z-[100] w-max max-w-[300px] p-2 bg-slate-900 text-white text-[10px] rounded-lg shadow-2xl border border-slate-700 animate-in fade-in zoom-in duration-200",r.idx<2?"top-full mt-2":"bottom-full mb-2"])},[e("div",Wt,[(l(!0),a(y,null,z(s.analyses,(p,V)=>(l(),a("div",{key:V,class:"flex items-start gap-2 border-b border-slate-800 pb-1 last:border-0 last:pb-0"},[e("span",Xt,n(p.code),1),e("span",Yt,n(p.designation),1)]))),128))]),r.idx<2?(l(),a("div",Zt)):(l(),a("div",es))],2)])):i("",!0),s.analyses.length===0?(l(),a("span",ts,"Aucune")):i("",!0)])]),e("td",ss,[e("span",{class:c(["inline-flex rounded-full px-2.5 py-1 text-xs font-semibold",ie(s.status)])},n(s.status_label),3)]),e("td",rs,[s.paiement?(l(),a("div",ls,[k.value.canEdit?(l(),a("button",{key:0,type:"button",class:c(["relative inline-flex h-5 w-9 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 dark:focus:ring-offset-slate-800",s.paiement.status?"bg-emerald-500":"bg-slate-300 dark:bg-slate-600"]),onClick:p=>ye(s)},[e("span",{class:c(["pointer-events-none inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200",s.paiement.status?"translate-x-4":"translate-x-0"])},null,2)],10,as)):i("",!0),e("div",null,[e("span",{class:c(["text-xs font-medium",s.paiement.status?"text-emerald-600 dark:text-emerald-400":"text-red-500 dark:text-red-400"])},n(s.paiement.status?"Paye":"Non paye"),3),s.paiement.status&&s.paiement.date_paiement?(l(),a("p",os,n(s.paiement.date_paiement),1)):i("",!0)])])):(l(),a("span",ns,"Aucun"))]),e("td",is,[e("div",null,[e("p",ds,n(s.created_at||"N/A"),1),e("p",cs,n(s.created_at_relative||""),1)])]),e("td",us,[e("div",ms,[d.tab==="actives"?(l(),a(y,{key:0},[k.value.canEdit?(l(),M(E(Q),{key:0,href:r.route("secretaire.prescription.edit",s.id),class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-50 text-emerald-600 hover:bg-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400 dark:hover:bg-emerald-900/40 transition-colors",title:"Modifier"},{default:D(()=>[...t[52]||(t[52]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])]),_:1},8,["href"])):i("",!0),k.value.canDelete?(l(),a("button",{key:1,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-500 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Supprimer",onClick:p=>C("delete",s.id)},[...t[53]||(t[53]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,xs)):i("",!0)],64)):i("",!0),d.tab==="valide"?(l(),a(y,{key:1},[k.value.canViewPrescription?(l(),a("a",{key:0,href:r.route("laboratoire.prescription.pdf",s.id),target:"_blank",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Résultats PDF"},[...t[54]||(t[54]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})],-1)])],8,ps)):i("",!0),k.value.canEdit&&((S=r.$page.props.enabledFeatures)==null?void 0:S.notifications_sms_email_validated)!==!1?(l(),a("button",{key:1,type:"button",class:c(["inline-flex h-8 w-8 items-center justify-center rounded-lg transition-colors",s.notified_at?"bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400":"bg-slate-50 text-slate-400 hover:bg-slate-100 dark:bg-slate-800 dark:text-slate-500"]),title:s.notified_at?"Notifié le "+s.notified_at:"Notifier le patient",onClick:p=>te(s)},[(l(),a("svg",{class:"h-4 w-4",fill:s.notified_at?"currentColor":"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[...t[55]||(t[55]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"},null,-1)])],8,ks))],10,bs)):i("",!0),k.value.canAccessArchive?(l(),a("button",{key:2,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-slate-50 text-slate-500 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-400 dark:hover:bg-slate-600 transition-colors",title:"Archiver",onClick:p=>C("archive",s.id)},[...t[56]||(t[56]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})],-1)])],8,fs)):i("",!0)],64)):d.tab==="deleted"?(l(),a(y,{key:2},[k.value.canAccessTrash?(l(),a("button",{key:0,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-amber-50 text-amber-600 hover:bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:hover:bg-amber-900/40 transition-colors",title:"Restaurer",onClick:p=>C("restore",s.id)},[...t[57]||(t[57]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})],-1)])],8,hs)):i("",!0),k.value.canAccessTrash?(l(),a("button",{key:1,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Supprimer definitivement",onClick:p=>C("permanentDelete",s.id)},[...t[58]||(t[58]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,vs)):i("",!0)],64)):i("",!0)])])],2)}),128)),m.prescriptions.data.length===0?(l(),a("tr",gs,[e("td",ys,[e("div",ws,[t[59]||(t[59]=e("div",{class:"mb-3 flex h-11 w-11 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-700"},[e("svg",{class:"h-5 w-5 text-slate-400 dark:text-slate-500",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375H8.25"})])],-1)),t[60]||(t[60]=e("p",{class:"text-sm font-medium text-slate-600 dark:text-slate-400"},"Aucune prescription trouvee",-1)),d.search?(l(),a("p",_s,"Essayez de modifier vos criteres de recherche")):i("",!0)])])])):i("",!0)])])]),e("div",Cs,[(l(!0),a(y,null,z(m.prescriptions.data,s=>{var L,B,$,S;return l(),a("div",{key:`m-${s.id}`,class:c(["space-y-3 p-4",{"bg-primary-50/30 dark:bg-primary-900/10":f.value.includes(s.id)}])},[e("div",js,[e("div",As,[e("input",{type:"checkbox",checked:f.value.includes(s.id),onChange:p=>X(s.id),class:"h-4 w-4 rounded border-slate-300 text-primary-600 focus:ring-primary-500 dark:border-slate-600 dark:bg-slate-700"},null,40,Ms),e("span",Ns,n(s.reference),1)]),e("span",{class:c(["inline-flex rounded-full px-2.5 py-1 text-xs font-semibold",ie(s.status)])},n(s.status_label),3)]),e("div",Ls,[e("div",Bs,[e("span",$s,n(de(s)),1)]),e("div",Ss,[e("p",Vs,n(((L=s.patient)==null?void 0:L.nom_complet)||"N/A"),1),e("p",Es,n(((B=s.prescripteur)==null?void 0:B.nom)||"N/A")+" · "+n((($=s.patient)==null?void 0:$.telephone)||"-"),1)])]),e("div",zs,[e("div",Ps,[e("div",Ts,[e("span",Hs,n(s.analyses_count),1),(l(!0),a(y,null,z(s.analyses.slice(0,4),(p,V)=>(l(),a("span",{key:V,class:"inline-flex items-center rounded bg-blue-50 px-1.5 py-0.5 text-[9px] font-bold text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 border border-blue-100/50"},n(p.code),1))),128)),s.analyses.length>4?(l(),a("span",Ds," +"+n(s.analyses.length-4),1)):i("",!0)]),e("div",Fs,[s.paiement?(l(),a("span",{key:0,class:c(s.paiement.status?"text-emerald-500":"text-red-500")},n(s.paiement.status?"Paye":"Non paye"),3)):i("",!0),e("span",null,n(s.created_at),1)])]),e("div",Rs,[d.tab==="actives"?(l(),a(y,{key:0},[k.value.canEdit?(l(),M(E(Q),{key:0,href:r.route("secretaire.prescription.edit",s.id),class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-emerald-50 text-emerald-600 hover:bg-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400 dark:hover:bg-emerald-900/40 transition-colors",title:"Modifier"},{default:D(()=>[...t[61]||(t[61]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})],-1)])]),_:1},8,["href"])):i("",!0),k.value.canDelete?(l(),a("button",{key:1,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-500 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Supprimer",onClick:p=>C("delete",s.id)},[...t[62]||(t[62]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,Is)):i("",!0)],64)):i("",!0),d.tab==="valide"?(l(),a(y,{key:1},[k.value.canViewPrescription?(l(),a("a",{key:0,href:r.route("laboratoire.prescription.pdf",s.id),target:"_blank",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Résultats PDF"},[...t[63]||(t[63]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})],-1)])],8,Us)):i("",!0),k.value.canEdit&&((S=r.$page.props.enabledFeatures)==null?void 0:S.notifications_sms_email_validated)!==!1?(l(),a("button",{key:1,type:"button",class:c(["inline-flex h-8 w-8 items-center justify-center rounded-lg transition-colors",s.notified_at?"bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400":"bg-slate-50 text-slate-400 hover:bg-slate-100 dark:bg-slate-800 dark:text-slate-500"]),title:s.notified_at?"Notifié le "+s.notified_at:"Notifier le patient",onClick:p=>te(s)},[(l(),a("svg",{class:"h-4 w-4",fill:s.notified_at?"currentColor":"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[...t[64]||(t[64]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"},null,-1)])],8,qs))],10,Os)):i("",!0),k.value.canAccessArchive?(l(),a("button",{key:2,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-slate-50 text-slate-500 hover:bg-slate-100 dark:bg-slate-700 dark:text-slate-400 dark:hover:bg-slate-600 transition-colors",title:"Archiver",onClick:p=>C("archive",s.id)},[...t[65]||(t[65]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z"})],-1)])],8,Ks)):i("",!0)],64)):d.tab==="deleted"?(l(),a(y,{key:2},[k.value.canAccessTrash?(l(),a("button",{key:0,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-amber-50 text-amber-600 hover:bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:hover:bg-amber-900/40 transition-colors",title:"Restaurer",onClick:p=>C("restore",s.id)},[...t[66]||(t[66]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"})],-1)])],8,Gs)):i("",!0),k.value.canAccessTrash?(l(),a("button",{key:1,type:"button",class:"inline-flex h-8 w-8 items-center justify-center rounded-lg bg-red-50 text-red-600 hover:bg-red-100 dark:bg-red-900/20 dark:text-red-400 dark:hover:bg-red-900/40 transition-colors",title:"Supprimer definitivement",onClick:p=>C("permanentDelete",s.id)},[...t[67]||(t[67]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)])],8,Js)):i("",!0)],64)):i("",!0)])])],2)}),128)),m.prescriptions.data.length===0?(l(),a("div",Qs,[...t[68]||(t[68]=[e("p",{class:"text-sm text-slate-500"},"Aucune prescription trouvee",-1)])])):i("",!0)]),m.prescriptions.links&&m.prescriptions.links.length>3?(l(),a("div",Ws,[e("div",Xs,[e("p",Ys,[e("span",Zs,n(m.prescriptions.from||0),1),t[69]||(t[69]=h(" a ",-1)),e("span",er,n(m.prescriptions.to||0),1),t[70]||(t[70]=h(" sur ",-1)),e("span",tr,n(m.prescriptions.total||0),1)]),Me($e,{links:m.prescriptions.links},null,8,["links"])])])):i("",!0)])]),(l(),M(ue,{to:"body"},[b.show?(l(),a("div",sr,[e("div",{class:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:R}),e("div",rr,[e("div",{class:"relative w-full max-sm rounded-2xl bg-white shadow-xl dark:bg-slate-800",onClick:t[11]||(t[11]=me(()=>{},["stop"]))},[e("div",lr,[e("div",{class:c(["mx-auto mb-4 flex h-11 w-11 items-center justify-center rounded-full",{"bg-red-100 dark:bg-red-900/30":v.value.color==="red","bg-amber-100 dark:bg-amber-900/30":v.value.color==="amber","bg-slate-100 dark:bg-slate-700":v.value.color==="slate","bg-emerald-100 dark:bg-emerald-900/30":v.value.color==="emerald"}])},[(l(),a("svg",{class:c(["h-5 w-5",{"text-red-600 dark:text-red-400":v.value.color==="red","text-amber-600 dark:text-amber-400":v.value.color==="amber","text-slate-600 dark:text-slate-400":v.value.color==="slate","text-emerald-600 dark:text-emerald-400":v.value.color==="emerald"}]),fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[...t[71]||(t[71]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1)])],2))],2),e("h3",ar,n(v.value.title),1),e("p",or,n(v.value.desc),1)]),e("div",nr,[e("button",{type:"button",class:"flex-1 rounded-lg bg-slate-100 px-4 py-2.5 text-sm font-medium text-slate-700 transition-colors hover:bg-slate-200 dark:bg-slate-700 dark:text-slate-300 dark:hover:bg-slate-600",onClick:R},"Annuler"),e("button",{type:"button",class:c(["flex-1 rounded-lg px-4 py-2.5 text-sm font-medium text-white transition-colors",Ce(v.value.color)]),disabled:b.processing,onClick:ve},n(b.processing?"...":v.value.btn),11,ir)])])])])):i("",!0)])),(l(),M(ue,{to:"body"},[o.show?(l(),a("div",dr,[e("div",{class:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm",onClick:H}),e("div",cr,[e("div",{class:"relative w-full sm:max-w-lg rounded-t-2xl sm:rounded-2xl bg-white shadow-xl dark:bg-slate-800",onClick:t[15]||(t[15]=me(()=>{},["stop"]))},[t[83]||(t[83]=e("div",{class:"sm:hidden flex justify-center pt-3"},[e("div",{class:"w-10 h-1 bg-slate-300 dark:bg-slate-600 rounded-full"})],-1)),e("div",ur,[e("div",mr,[t[74]||(t[74]=e("div",{class:"flex-shrink-0 w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"})])],-1)),e("div",xr,[t[72]||(t[72]=e("h3",{class:"text-lg font-bold text-slate-900 dark:text-white"},"Notifier le patient",-1)),e("p",pr,n((x=o.prescription)==null?void 0:x.reference)+" — "+n(((j=(_=o.prescription)==null?void 0:_.patient)==null?void 0:j.nom_complet)||"Patient"),1)]),e("button",{type:"button",class:"ml-auto flex-shrink-0 p-1 rounded-lg text-slate-400 hover:text-slate-600 hover:bg-slate-100 dark:hover:text-slate-300 dark:hover:bg-slate-700 transition-colors",onClick:H},[...t[73]||(t[73]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),T.value?(l(),a(y,{key:1},[e("div",kr,[t[80]||(t[80]=e("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2"},"Canal d'envoi",-1)),e("div",{class:c(["flex gap-2",I.value&&U.value?"grid grid-cols-2":""])},[I.value?(l(),a("label",{key:0,class:c(["relative flex items-center gap-3 rounded-xl border-2 p-3 cursor-pointer transition-all",o.channel==="sms"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"])},[F(e("input",{type:"radio","onUpdate:modelValue":t[12]||(t[12]=s=>o.channel=s),value:"sms",class:"sr-only",onChange:se},null,544),[[xe,o.channel]]),e("div",{class:c(["flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center",o.channel==="sms"?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400"])},[...t[76]||(t[76]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)])],2),t[77]||(t[77]=e("p",{class:"text-sm font-semibold text-slate-900 dark:text-white"},"SMS",-1))],2)):i("",!0),U.value?(l(),a("label",{key:1,class:c(["relative flex items-center gap-3 rounded-xl border-2 p-3 cursor-pointer transition-all",o.channel==="email"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-400":"border-slate-200 dark:border-slate-600 hover:border-slate-300 dark:hover:border-slate-500"])},[F(e("input",{type:"radio","onUpdate:modelValue":t[13]||(t[13]=s=>o.channel=s),value:"email",class:"sr-only",onChange:se},null,544),[[xe,o.channel]]),e("div",{class:c(["flex-shrink-0 w-8 h-8 rounded-lg flex items-center justify-center",o.channel==="email"?"bg-blue-500 text-white":"bg-slate-100 dark:bg-slate-700 text-slate-500 dark:text-slate-400"])},[...t[78]||(t[78]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})],-1)])],2),t[79]||(t[79]=e("p",{class:"text-sm font-semibold text-slate-900 dark:text-white"},"Email",-1))],2)):i("",!0)],2)]),e("div",fr,[e("div",hr,[t[81]||(t[81]=e("label",{class:"text-sm font-semibold text-slate-700 dark:text-slate-300"},"Message",-1)),o.channel==="sms"?(l(),a("span",{key:0,class:c(["text-[11px] font-medium",o.message.length>160?"text-red-500":"text-slate-400"])},n(o.message.length)+"/160",3)):i("",!0)]),F(e("textarea",{"onUpdate:modelValue":t[14]||(t[14]=s=>o.message=s),rows:o.channel==="sms"?3:6,maxlength:o.channel==="sms"?160:void 0,class:"w-full px-3 py-2.5 border border-slate-200 dark:border-slate-600 rounded-xl text-sm text-slate-900 dark:text-white bg-slate-50 dark:bg-slate-700/50 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none transition-colors",placeholder:"Saisissez votre message..."},null,8,vr),[[ce,o.message]])])],64)):(l(),a("div",br,[...t[75]||(t[75]=[e("div",{class:"mx-auto w-12 h-12 rounded-full bg-slate-100 dark:bg-slate-700 flex items-center justify-center mb-3"},[e("svg",{class:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})])],-1),e("p",{class:"text-sm font-medium text-slate-700 dark:text-slate-300"},"Aucun moyen de contact",-1),e("p",{class:"text-xs text-slate-500 dark:text-slate-400 mt-1"},"Ce patient n'a ni téléphone ni email enregistré.",-1)])])),e("div",{class:c(["flex items-center justify-end gap-3",{"mt-4":!T.value}])},[e("button",{type:"button",class:"h-10 px-5 text-sm font-medium text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors",onClick:H},n(T.value?"Annuler":"Fermer"),1),T.value?(l(),a("button",{key:0,type:"button",class:"h-10 px-5 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 active:bg-blue-800 rounded-lg shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",disabled:!o.message.trim()||o.processing||!o.channel||o.channel==="sms"&&o.message.length>160,onClick:ge},[o.processing?(l(),a("svg",yr,[...t[82]||(t[82]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"},null,-1)])])):i("",!0),e("span",null,n(o.processing?"Envoi...":(o.channel==="sms","Envoyer")),1)],8,gr)):i("",!0)],2)])])])])):i("",!0)]))]}),_:1}))}},Br=Le(wr,[["__scopeId","data-v-27cfef1e"]]);export{Br as default};
