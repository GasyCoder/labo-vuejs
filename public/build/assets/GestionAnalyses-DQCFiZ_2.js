import{r as P,u as ne,a as S,w as D,c as de,b as i,d as e,e as b,F as v,f as k,g as a,v as p,h as n,i as c,j as ae,k as m,t as g,l as ie,n as A,m as U,o as u}from"./app-DLV50I-f.js";import{_ as ue}from"./Pagination-C9PCBzTj.js";import{l as xe}from"./lodash-DJbfzEvl.js";/* empty css            */import"./_commonjsHelpers-_d1bhYXs.js";import"./debounce-D0G5qrda.js";const pe={class:"flex flex-wrap gap-2 mb-6"},ge=["onClick"],me={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6"},be={class:"flex flex-col sm:flex-row sm:items-center gap-4"},ye={class:"relative flex-1 max-w-md"},fe=["value"],ve={class:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"},ke={class:"overflow-x-auto"},ce={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},_e={class:"divide-y divide-gray-200 dark:divide-gray-700"},we={class:"px-6 py-4 text-sm font-mono text-gray-600 dark:text-gray-400"},he={class:"text-gray-900 dark:text-white"},Ae={key:0,class:"ml-2 inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"},Ve={class:"px-6 py-4"},Ce={class:"px-6 py-4 text-sm text-gray-600 dark:text-gray-400"},Ue={class:"px-6 py-4 text-sm font-semibold text-gray-900 dark:text-white"},Ee={class:"px-6 py-4"},Ne={class:"px-6 py-4 text-center"},Re={class:"flex justify-center space-x-2"},Me=["onClick"],Pe=["onClick","title"],je={key:0,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Le={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Se=["onClick"],Te={key:0},He={class:"px-6 py-4 bg-gray-50 dark:bg-gray-900/50 border-t"},Be={key:0,class:"fixed inset-0 z-[1040] overflow-y-auto"},De={class:"flex items-start justify-center min-h-screen px-4 pt-8 pb-20"},$e={class:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-6xl w-full z-10 max-h-[90vh] overflow-y-auto"},ze={class:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4 rounded-t-xl z-10"},Fe={class:"flex items-center justify-between"},Oe={class:"text-lg font-bold text-gray-900 dark:text-white flex items-center"},Ie={class:"border border-gray-200 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700/50 mb-6"},Ge={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},qe={key:0,class:"text-red-500 text-xs mt-1"},Je=["value"],Ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},Ke={class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},Qe={key:0,class:"text-xs text-green-600 ml-2"},We={key:1,class:"text-xs text-blue-600 ml-2"},Xe=["readonly"],Ze={key:0,class:"mt-1 text-xs text-blue-600 dark:text-blue-400"},et={class:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4"},tt=["value"],lt=["value"],st={class:"mt-4"},rt={class:"mt-4 border border-blue-200 dark:border-blue-600 rounded-lg p-4 bg-blue-50 dark:bg-blue-900/20"},ot={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},nt={class:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-3"},dt={class:"flex items-center gap-6 mt-4"},at={class:"flex items-center text-sm"},it={class:"flex items-center text-sm"},ut={key:0,class:"border border-purple-200 dark:border-purple-600 rounded-lg p-4 bg-purple-50 dark:bg-purple-900/20 mb-6"},xt={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-4"},pt={class:"text-base font-medium text-purple-900 dark:text-purple-200 flex items-center"},gt={key:0,class:"ml-2 bg-purple-200 dark:bg-purple-800 text-purple-800 dark:text-purple-200 px-2 py-0.5 rounded-full text-xs"},mt={class:"flex gap-2 mt-2 sm:mt-0"},bt={class:"flex justify-between items-center mb-3"},yt={class:"font-medium text-sm text-gray-900 dark:text-white"},ft={key:0,class:"text-xs text-green-600 ml-2"},vt={class:"flex space-x-1"},kt=["onClick"],ct=["onClick"],_t=["onClick"],wt={class:"grid grid-cols-2 md:grid-cols-4 gap-3"},ht=["onUpdate:modelValue"],At=["onUpdate:modelValue"],Vt={class:"block text-xs font-medium mb-1"},Ct={key:0,class:"text-xs text-green-600"},Ut=["onUpdate:modelValue","readonly"],Et=["onUpdate:modelValue","onChange"],Nt={class:"grid grid-cols-2 md:grid-cols-4 gap-3 mt-3"},Rt=["onUpdate:modelValue"],Mt=["value"],Pt=["onUpdate:modelValue"],jt=["value"],Lt=["onUpdate:modelValue"],St=["onUpdate:modelValue"],Tt={class:"mt-3 border border-blue-200 dark:border-blue-600 rounded p-3 bg-blue-50 dark:bg-blue-900/20"},Ht={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},Bt=["onUpdate:modelValue"],Dt=["onUpdate:modelValue"],$t=["onUpdate:modelValue"],zt=["onUpdate:modelValue"],Ft={class:"grid grid-cols-2 gap-2 mt-2"},Ot=["onUpdate:modelValue"],It=["onUpdate:modelValue"],Gt={class:"flex items-center gap-4 mt-3"},qt={class:"flex items-center text-xs"},Jt=["onUpdate:modelValue"],Yt={class:"flex items-center text-xs"},Kt=["onUpdate:modelValue"],Qt={key:0,class:"mt-4 pt-3 border-t border-purple-200 dark:border-purple-600"},Wt={class:"flex justify-between items-center mb-3"},Xt={class:"text-sm font-medium text-purple-800 dark:text-purple-300 flex items-center"},Zt={key:0,class:"ml-1 bg-purple-200 dark:bg-purple-800 text-purple-800 dark:text-purple-200 px-1.5 py-0.5 rounded-full text-xs"},el=["onClick"],tl={class:"flex justify-between items-center mb-2"},ll={class:"text-xs font-medium text-gray-800 dark:text-gray-200"},sl={class:"flex space-x-1"},rl=["onClick"],ol=["onClick"],nl=["onClick"],dl={class:"grid grid-cols-2 md:grid-cols-4 gap-2"},al=["onUpdate:modelValue"],il=["onUpdate:modelValue"],ul=["onUpdate:modelValue"],xl=["onUpdate:modelValue"],pl={class:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2"},gl=["onUpdate:modelValue"],ml=["value"],bl=["onUpdate:modelValue"],yl=["value"],fl=["onUpdate:modelValue"],vl=["onUpdate:modelValue"],kl={class:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2"},cl=["onUpdate:modelValue"],_l=["onUpdate:modelValue"],wl=["onUpdate:modelValue"],hl=["onUpdate:modelValue"],Al={class:"flex items-center gap-3 mt-2"},Vl={class:"flex items-center text-xs"},Cl=["onUpdate:modelValue"],Ul={class:"flex items-center text-xs"},El=["onUpdate:modelValue"],Nl={class:"flex justify-end space-x-3"},Rl=["disabled"],Ml={key:1,class:"fixed inset-0 z-[1040] overflow-y-auto"},Pl={class:"flex items-center justify-center min-h-screen px-4"},jl={class:"relative bg-white dark:bg-gray-800 rounded-xl shadow-xl max-w-sm w-full p-6 z-10"},Ll={class:"flex items-start mb-4"},Sl={class:"text-gray-600 dark:text-gray-400 mt-1"},Tl={class:"text-gray-900 dark:text-white"},Hl={class:"flex justify-end space-x-3"},Il={__name:"GestionAnalyses",props:{analyses:Object,counts:Object,examens:Array,types:Array,analysesParents:Array,filters:Object},setup(f){const R=f,w=P(!1),E=P(!1),j=P(null),$=[{key:"tous",label:"Tous"},{key:"racines",label:"Racines"},{key:"parents",label:"Parents"},{key:"normales",label:"Normales"},{key:"enfants",label:"Enfants"}],_=P({search:R.filters.search||"",selectedExamen:R.filters.selectedExamen||"",selectedLevel:R.filters.selectedLevel||"tous",perPage:R.filters.perPage||10}),s=ne({id:null,code:"",level:"NORMAL",parent_id:"",designation:"",description:"",prix:0,is_bold:!1,examen_id:"",type_id:"",valeur_ref:"",valeur_ref_homme:"",valeur_ref_femme:"",valeur_ref_enfant_garcon:"",valeur_ref_enfant_fille:"",unite:"",suffixe:"",ordre:99,status:!0,sousAnalyses:[]}),L=r=>Number(r||0).toLocaleString("fr-FR"),z=r=>({PARENT:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-300",NORMAL:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",CHILD:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300"})[r]||"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300",M=()=>S.get(route("dashboard"),_.value,{preserveState:!0,preserveScroll:!0,replace:!0}),T=xe.debounce(M,300),F=r=>{_.value.selectedLevel=r,M()},V=r=>!r.children||!r.children.length?0:r.children.reduce((t,d)=>t+(parseFloat(d.prix)||0),0),C=de(()=>s.level!=="PARENT"||!s.sousAnalyses.length?0:s.sousAnalyses.reduce((r,t)=>r+(parseFloat(t.prix)||0),0));D(C,r=>{r>0&&s.level==="PARENT"&&(s.prix=r)}),D(()=>s.sousAnalyses.map(r=>{var t;return JSON.stringify((t=r.children)==null?void 0:t.map(d=>d.prix))}),()=>{s.sousAnalyses.forEach(r=>{var t;if(r.level==="PARENT"&&((t=r.children)!=null&&t.length)){const d=V(r);d>0&&(r.prix=d)}})},{deep:!0});const O=()=>{s.level==="PARENT"&&s.sousAnalyses.length===0?H():s.level!=="PARENT"&&(s.sousAnalyses=[])},I=r=>{s.sousAnalyses[r].level==="PARENT"&&(!s.sousAnalyses[r].children||s.sousAnalyses[r].children.length===0)?B(r):s.sousAnalyses[r].level!=="PARENT"&&(s.sousAnalyses[r].children=[])},G=()=>({id:null,code:"",designation:"",prix:0,level:"CHILD",examen_id:s.examen_id||"",type_id:s.type_id||"",unite:"",suffixe:"",valeur_ref:"",valeur_ref_homme:"",valeur_ref_femme:"",valeur_ref_enfant_garcon:"",valeur_ref_enfant_fille:"",ordre:s.sousAnalyses.length+1,is_bold:!1,status:!0,children:[]}),q=r=>{var t;return{id:null,code:"",designation:"",prix:0,level:"CHILD",examen_id:r.examen_id||s.examen_id||"",type_id:r.type_id||s.type_id||"",unite:"",suffixe:"",valeur_ref:"",valeur_ref_homme:"",valeur_ref_femme:"",valeur_ref_enfant_garcon:"",valeur_ref_enfant_fille:"",ordre:(((t=r.children)==null?void 0:t.length)||0)+1,is_bold:!1,status:!0}},H=()=>s.sousAnalyses.push(G()),J=r=>{s.sousAnalyses.splice(r,1),s.sousAnalyses.forEach((t,d)=>t.ordre=d+1)},Y=r=>{r>0&&([s.sousAnalyses[r],s.sousAnalyses[r-1]]=[s.sousAnalyses[r-1],s.sousAnalyses[r]],s.sousAnalyses[r].ordre=r+1,s.sousAnalyses[r-1].ordre=r)},K=r=>{r<s.sousAnalyses.length-1&&([s.sousAnalyses[r],s.sousAnalyses[r+1]]=[s.sousAnalyses[r+1],s.sousAnalyses[r]],s.sousAnalyses[r].ordre=r+1,s.sousAnalyses[r+1].ordre=r+2)},B=r=>{s.sousAnalyses[r].children||(s.sousAnalyses[r].children=[]),s.sousAnalyses[r].children.push(q(s.sousAnalyses[r]))},Q=(r,t)=>{s.sousAnalyses[r].children.splice(t,1),s.sousAnalyses[r].children.forEach((d,l)=>d.ordre=l+1)},W=(r,t)=>{if(t>0){const d=s.sousAnalyses[r].children;[d[t],d[t-1]]=[d[t-1],d[t]],d[t].ordre=t+1,d[t-1].ordre=t}},X=(r,t)=>{const d=s.sousAnalyses[r].children;t<d.length-1&&([d[t],d[t+1]]=[d[t+1],d[t]],d[t].ordre=t+1,d[t+1].ordre=t+2)},Z=()=>{s.sousAnalyses.forEach(t=>{var d;if(t.level==="PARENT"&&((d=t.children)!=null&&d.length)){const l=V(t);l>0&&(t.prix=l)}});const r=s.sousAnalyses.reduce((t,d)=>t+(parseFloat(d.prix)||0),0);r>0&&(s.prix=r)},ee=()=>{s.reset(),s.id=null,s.status=!0,s.ordre=99,s.sousAnalyses=[],w.value=!0},te=r=>{Object.assign(s,{id:r.id,code:r.code,level:r.level,parent_id:r.parent_id||"",designation:r.designation,description:r.description||"",prix:r.prix,is_bold:r.is_bold,examen_id:r.examen_id,type_id:r.type_id,valeur_ref:r.valeur_ref||"",valeur_ref_homme:r.valeur_ref_homme||"",valeur_ref_femme:r.valeur_ref_femme||"",valeur_ref_enfant_garcon:r.valeur_ref_enfant_garcon||"",valeur_ref_enfant_fille:r.valeur_ref_enfant_fille||"",unite:r.unite||"",suffixe:r.suffixe||"",ordre:r.ordre,status:r.status,sousAnalyses:(r.enfants||[]).map(t=>({id:t.id,code:t.code,designation:t.designation,prix:t.prix,level:t.level,examen_id:t.examen_id,type_id:t.type_id,unite:t.unite||"",suffixe:t.suffixe||"",ordre:t.ordre,valeur_ref:t.valeur_ref||"",valeur_ref_homme:t.valeur_ref_homme||"",valeur_ref_femme:t.valeur_ref_femme||"",valeur_ref_enfant_garcon:t.valeur_ref_enfant_garcon||"",valeur_ref_enfant_fille:t.valeur_ref_enfant_fille||"",is_bold:t.is_bold||!1,status:t.status??!0,children:(t.enfants||[]).map(d=>({id:d.id,code:d.code,designation:d.designation,prix:d.prix,level:d.level,examen_id:d.examen_id,type_id:d.type_id,unite:d.unite||"",suffixe:d.suffixe||"",ordre:d.ordre,valeur_ref:d.valeur_ref||"",valeur_ref_homme:d.valeur_ref_homme||"",valeur_ref_femme:d.valeur_ref_femme||"",valeur_ref_enfant_garcon:d.valeur_ref_enfant_garcon||"",valeur_ref_enfant_fille:d.valeur_ref_enfant_fille||"",is_bold:d.is_bold||!1,status:d.status??!0}))}))}),w.value=!0},le=()=>{const r={preserveScroll:!0,onSuccess:()=>{w.value=!1}};s.id?s.put(route("laboratoire.analyses.listes.update",s.id),r):s.post(route("laboratoire.analyses.listes.store"),r)},se=r=>S.post(route("laboratoire.analyses.listes.toggle",r.id),{},{preserveScroll:!0}),re=r=>{j.value=r,E.value=!0},oe=()=>S.delete(route("laboratoire.analyses.listes.destroy",j.value.id),{preserveScroll:!0,onSuccess:()=>{E.value=!1}});return(r,t)=>{var d;return u(),i("div",null,[t[117]||(t[117]=e("div",{class:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6 mb-8"},[e("div",null,[e("h1",{class:"text-2xl font-heading font-bold text-gray-900 dark:text-white"},"Catalogue des Analyses"),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1 text-sm"},"Gérez et configurez les analyses du laboratoire")])],-1)),e("div",pe,[(u(),i(v,null,k($,l=>e("button",{key:l.key,onClick:y=>F(l.key),class:A([f.filters.selectedLevel===l.key?"bg-blue-600 text-white":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600","px-4 py-2 rounded-lg text-sm font-medium transition-colors"])},g(l.label)+" ("+g(f.counts[l.key]||0)+") ",11,ge)),64))]),e("div",me,[e("div",be,[e("div",ye,[a(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>_.value.search=l),onInput:t[1]||(t[1]=(...l)=>n(T)&&n(T)(...l)),type:"text",placeholder:"Code, désignation...",class:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"},null,544),[[p,_.value.search]]),t[28]||(t[28]=e("svg",{class:"absolute left-3 top-2.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),a(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>_.value.selectedExamen=l),onChange:M,class:"py-2 px-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-sm text-gray-900 dark:text-white"},[t[29]||(t[29]=e("option",{value:""},"Tous les examens",-1)),(u(!0),i(v,null,k(f.examens,l=>(u(),i("option",{key:l.id,value:l.id},g(l.name),9,fe))),128))],544),[[c,_.value.selectedExamen]]),a(e("select",{"onUpdate:modelValue":t[3]||(t[3]=l=>_.value.perPage=l),onChange:M,class:"py-2 px-3 bg-gray-50 dark:bg-gray-700 border rounded-lg text-sm"},[...t[30]||(t[30]=[e("option",{value:"10"},"10",-1),e("option",{value:"25"},"25",-1),e("option",{value:"50"},"50",-1)])],544),[[c,_.value.perPage]]),e("button",{onClick:t[4]||(t[4]=l=>ee()),class:"inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg shadow-sm"},"+ Nouvelle analyse")])]),e("div",ve,[e("div",ke,[e("table",ce,[t[36]||(t[36]=e("thead",{class:"bg-gray-50 dark:bg-gray-900/50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Code"),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Désignation"),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Niveau"),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Examen"),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Prix"),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Statut"),e("th",{class:"px-6 py-4 text-center text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",_e,[(u(!0),i(v,null,k(f.analyses.data,l=>{var y,N;return u(),i("tr",{key:l.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors"},[e("td",we,g(l.code),1),e("td",{class:A(["px-6 py-4 text-sm",l.is_bold?"font-bold":""])},[e("span",he,g(l.designation),1),(y=l.enfants)!=null&&y.length?(u(),i("span",Ae,g(l.enfants.length)+" sous",1)):b("",!0)],2),e("td",Ve,[e("span",{class:A([z(l.level),"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium"])},g(l.level),3)]),e("td",Ce,g(((N=l.examen)==null?void 0:N.name)||"-"),1),e("td",Ue,g(L(l.prix))+" Ar",1),e("td",Ee,[e("span",{class:A([l.status?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300","inline-flex items-center px-3 py-1 rounded-full text-xs font-medium"])},g(l.status?"Actif":"Inactif"),3)]),e("td",Ne,[e("div",Re,[e("button",{onClick:o=>te(l),class:"p-2 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Modifier"},[...t[31]||(t[31]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Me),e("button",{onClick:o=>se(l),class:A([l.status?"text-orange-600 dark:text-orange-400 hover:bg-orange-100 dark:hover:bg-orange-900/30":"text-green-600 dark:text-green-400 hover:bg-green-100 dark:hover:bg-green-900/30","p-2 rounded-lg transition-colors"]),title:l.status?"Désactiver":"Activer"},[l.status?(u(),i("svg",je,[...t[32]||(t[32]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"},null,-1)])])):(u(),i("svg",Le,[...t[33]||(t[33]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)])]))],10,Pe),e("button",{onClick:o=>re(l),class:"p-2 text-red-600 dark:text-red-400 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Supprimer"},[...t[34]||(t[34]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Se)])])])}),128)),f.analyses.data.length?b("",!0):(u(),i("tr",Te,[...t[35]||(t[35]=[e("td",{colspan:"7",class:"px-4 py-16 text-center text-gray-500"},"Aucune analyse",-1)])]))])])]),e("div",He,[ae(ue,{links:f.analyses.links},null,8,["links"])])]),w.value?(u(),i("div",Be,[e("div",De,[e("div",{class:"fixed inset-0 bg-black/50",onClick:t[5]||(t[5]=l=>w.value=!1)}),e("div",$e,[e("div",ze,[e("div",Fe,[e("h3",Oe,[t[37]||(t[37]=e("svg",{class:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),m(" "+g(n(s).id?"Modifier":"Nouvelle")+" Analyse ",1)]),e("button",{type:"button",onClick:t[6]||(t[6]=l=>w.value=!1),class:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors"},[...t[38]||(t[38]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("form",{onSubmit:ie(le,["prevent"]),class:"p-6"},[e("div",Ie,[t[63]||(t[63]=e("h4",{class:"text-base font-medium text-gray-900 dark:text-white mb-4 flex items-center"},[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),m(" Informations principales ")],-1)),e("div",Ge,[e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[m("Code "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>n(s).code=l),required:"",placeholder:"Ex: GLY",class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white text-sm"},null,512),[[p,n(s).code]]),n(s).errors.code?(u(),i("p",qe,g(n(s).errors.code),1)):b("",!0)]),e("div",null,[t[41]||(t[41]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[m("Niveau "),e("span",{class:"text-red-500"},"*")],-1)),a(e("select",{"onUpdate:modelValue":t[8]||(t[8]=l=>n(s).level=l),onChange:O,required:"",class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border rounded-lg text-sm text-gray-900 dark:text-white"},[...t[40]||(t[40]=[e("option",{value:"NORMAL"},"NORMAL",-1),e("option",{value:"PARENT"},"PARENT (Panel)",-1),e("option",{value:"CHILD"},"CHILD (Sous-analyse)",-1)])],544),[[c,n(s).level]])]),e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Parent",-1)),a(e("select",{"onUpdate:modelValue":t[9]||(t[9]=l=>n(s).parent_id=l),class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border rounded-lg text-sm text-gray-900 dark:text-white"},[t[42]||(t[42]=e("option",{value:""},"Aucun parent",-1)),(u(!0),i(v,null,k(f.analysesParents,l=>(u(),i("option",{key:l.id,value:l.id},g(l.code)+" - "+g(l.designation),9,Je))),128))],512),[[c,n(s).parent_id]])])]),e("div",Ye,[e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[m("Désignation "),e("span",{class:"text-red-500"},"*")],-1)),a(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>n(s).designation=l),required:"",placeholder:"Ex: Glycémie",class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border rounded-lg text-sm text-gray-900 dark:text-white"},null,512),[[p,n(s).designation]])]),e("div",null,[e("label",Ke,[t[45]||(t[45]=m(" Prix (Ar) ",-1)),t[46]||(t[46]=e("span",{class:"text-red-500"},"*",-1)),n(s).level==="PARENT"&&C.value>0?(u(),i("span",Qe,"(Calcul automatique: "+g(L(C.value))+" Ar)",1)):n(s).level==="PARENT"&&n(s).sousAnalyses.length>0?(u(),i("span",We,"(Prix manuel, car toutes sous-analyses à 0 Ar)")):b("",!0)]),a(e("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>n(s).prix=l),type:"number",min:"0",step:"0.01",required:"",readonly:n(s).level==="PARENT"&&C.value>0,class:A(["w-full px-3 py-2 bg-white dark:bg-gray-700 border rounded-lg text-sm text-gray-900 dark:text-white",n(s).level==="PARENT"&&C.value>0?"bg-gray-100 dark:bg-gray-600":""])},null,10,Xe),[[p,n(s).prix,void 0,{number:!0}]]),n(s).level==="PARENT"&&n(s).sousAnalyses.length>0?(u(),i("p",Ze,[C.value>0?(u(),i(v,{key:0},[m("Le prix est calculé automatiquement à partir des sous-analyses")],64)):(u(),i(v,{key:1},[m("Prix manuel car toutes les sous-analyses sont à 0 Ar")],64))])):b("",!0)])]),e("div",et,[e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[m("Examen "),e("span",{class:"text-red-500"},"*")],-1)),a(e("select",{"onUpdate:modelValue":t[12]||(t[12]=l=>n(s).examen_id=l),required:"",class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border rounded-lg text-sm text-gray-900 dark:text-white"},[t[47]||(t[47]=e("option",{value:""},"Sélectionner",-1)),(u(!0),i(v,null,k(f.examens,l=>(u(),i("option",{key:l.id,value:l.id},g(l.name),9,tt))),128))],512),[[c,n(s).examen_id]])]),e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},[m("Type "),e("span",{class:"text-red-500"},"*")],-1)),a(e("select",{"onUpdate:modelValue":t[13]||(t[13]=l=>n(s).type_id=l),required:"",class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border rounded-lg text-sm text-gray-900 dark:text-white"},[t[49]||(t[49]=e("option",{value:""},"Sélectionner",-1)),(u(!0),i(v,null,k(f.types,l=>(u(),i("option",{key:l.id,value:l.id},g(l.name),9,lt))),128))],512),[[c,n(s).type_id]])]),e("div",null,[t[51]||(t[51]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Unité",-1)),a(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>n(s).unite=l),placeholder:"Ex: g/l",class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border rounded-lg text-sm text-gray-900 dark:text-white"},null,512),[[p,n(s).unite]])]),e("div",null,[t[52]||(t[52]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Ordre",-1)),a(e("input",{"onUpdate:modelValue":t[15]||(t[15]=l=>n(s).ordre=l),type:"number",class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border rounded-lg text-sm text-gray-900 dark:text-white"},null,512),[[p,n(s).ordre,void 0,{number:!0}]])])]),e("div",st,[t[53]||(t[53]=e("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"Description",-1)),a(e("textarea",{"onUpdate:modelValue":t[16]||(t[16]=l=>n(s).description=l),rows:"2",class:"w-full px-3 py-2 bg-white dark:bg-gray-700 border rounded-lg text-sm text-gray-900 dark:text-white resize-none"},null,512),[[p,n(s).description]])]),e("div",rt,[t[60]||(t[60]=e("h5",{class:"text-sm font-medium text-blue-900 dark:text-blue-200 mb-3 flex items-center"},[e("svg",{class:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})]),m(" Valeurs de Référence ")],-1)),e("div",ot,[e("div",null,[t[54]||(t[54]=e("label",{class:"block text-xs font-medium mb-1"},"Réf. Homme",-1)),a(e("input",{"onUpdate:modelValue":t[17]||(t[17]=l=>n(s).valeur_ref_homme=l),placeholder:"Ex: 3.89 - 6.05",class:"w-full px-2 py-1.5 text-xs bg-white dark:bg-gray-700 border rounded"},null,512),[[p,n(s).valeur_ref_homme]])]),e("div",null,[t[55]||(t[55]=e("label",{class:"block text-xs font-medium mb-1"},"Réf. Femme",-1)),a(e("input",{"onUpdate:modelValue":t[18]||(t[18]=l=>n(s).valeur_ref_femme=l),placeholder:"Ex: 3.89 - 6.05",class:"w-full px-2 py-1.5 text-xs bg-white dark:bg-gray-700 border rounded"},null,512),[[p,n(s).valeur_ref_femme]])]),e("div",null,[t[56]||(t[56]=e("label",{class:"block text-xs font-medium mb-1"},"Réf. Garçon",-1)),a(e("input",{"onUpdate:modelValue":t[19]||(t[19]=l=>n(s).valeur_ref_enfant_garcon=l),placeholder:"Ex: 3.5 - 5.5",class:"w-full px-2 py-1.5 text-xs bg-white dark:bg-gray-700 border rounded"},null,512),[[p,n(s).valeur_ref_enfant_garcon]])]),e("div",null,[t[57]||(t[57]=e("label",{class:"block text-xs font-medium mb-1"},"Réf. Fille",-1)),a(e("input",{"onUpdate:modelValue":t[20]||(t[20]=l=>n(s).valeur_ref_enfant_fille=l),placeholder:"Ex: 3.5 - 5.5",class:"w-full px-2 py-1.5 text-xs bg-white dark:bg-gray-700 border rounded"},null,512),[[p,n(s).valeur_ref_enfant_fille]])])]),e("div",nt,[e("div",null,[t[58]||(t[58]=e("label",{class:"block text-xs font-medium mb-1"},"Valeur réf. générale",-1)),a(e("input",{"onUpdate:modelValue":t[21]||(t[21]=l=>n(s).valeur_ref=l),placeholder:"Ex: 3.89 - 6.05",class:"w-full px-2 py-1.5 text-xs bg-white dark:bg-gray-700 border rounded"},null,512),[[p,n(s).valeur_ref]])]),e("div",null,[t[59]||(t[59]=e("label",{class:"block text-xs font-medium mb-1"},"Suffixe",-1)),a(e("input",{"onUpdate:modelValue":t[22]||(t[22]=l=>n(s).suffixe=l),placeholder:"Suffixe optionnel",class:"w-full px-2 py-1.5 text-xs bg-white dark:bg-gray-700 border rounded"},null,512),[[p,n(s).suffixe]])])])]),e("div",dt,[e("label",at,[a(e("input",{"onUpdate:modelValue":t[23]||(t[23]=l=>n(s).status=l),type:"checkbox",class:"w-4 h-4 text-blue-600 mr-2"},null,512),[[U,n(s).status]]),t[61]||(t[61]=m("Actif",-1))]),e("label",it,[a(e("input",{"onUpdate:modelValue":t[24]||(t[24]=l=>n(s).is_bold=l),type:"checkbox",class:"w-4 h-4 text-blue-600 mr-2"},null,512),[[U,n(s).is_bold]]),t[62]||(t[62]=m("Gras",-1))])])]),n(s).level==="PARENT"?(u(),i("div",ut,[e("div",xt,[e("h4",pt,[t[64]||(t[64]=e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),t[65]||(t[65]=m(" Sous-analyses ",-1)),n(s).sousAnalyses.length?(u(),i("span",gt,g(n(s).sousAnalyses.length),1)):b("",!0)]),e("div",mt,[e("button",{type:"button",onClick:H,class:"bg-purple-600 hover:bg-purple-700 text-white px-3 py-1.5 rounded-lg flex items-center text-sm"},[...t[66]||(t[66]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),m(" Ajouter ",-1)])]),n(s).sousAnalyses.length?(u(),i("button",{key:0,type:"button",onClick:Z,class:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-lg flex items-center text-sm"},[...t[67]||(t[67]=[e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),m(" Recalculer prix ",-1)])])):b("",!0)])]),(u(!0),i(v,null,k(n(s).sousAnalyses,(l,y)=>{var N;return u(),i("div",{key:y,class:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-600 rounded-lg p-4 mb-3"},[e("div",bt,[e("h5",yt,[m(" Sous-analyse #"+g(y+1)+" ",1),l.level==="PARENT"&&V(l)>0?(u(),i("span",ft,"(Total: "+g(L(l.prix))+" Ar)",1)):b("",!0)]),e("div",vt,[y>0?(u(),i("button",{key:0,type:"button",onClick:o=>Y(y),class:"p-1 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 rounded text-gray-600",title:"Monter"},[...t[68]||(t[68]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)])],8,kt)):b("",!0),y<n(s).sousAnalyses.length-1?(u(),i("button",{key:1,type:"button",onClick:o=>K(y),class:"p-1 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 rounded text-gray-600",title:"Descendre"},[...t[69]||(t[69]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)])],8,ct)):b("",!0),e("button",{type:"button",onClick:o=>J(y),class:"p-1 bg-red-100 hover:bg-red-200 dark:bg-red-900 rounded text-red-600",title:"Supprimer"},[...t[70]||(t[70]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,_t)])]),e("div",wt,[e("div",null,[t[71]||(t[71]=e("label",{class:"block text-xs font-medium mb-1"},"Code *",-1)),a(e("input",{"onUpdate:modelValue":o=>l.code=o,placeholder:"Code",class:"w-full px-2 py-1.5 text-sm bg-white dark:bg-gray-700 border rounded"},null,8,ht),[[p,l.code]])]),e("div",null,[t[72]||(t[72]=e("label",{class:"block text-xs font-medium mb-1"},"Désignation *",-1)),a(e("input",{"onUpdate:modelValue":o=>l.designation=o,placeholder:"Désignation",class:"w-full px-2 py-1.5 text-sm bg-white dark:bg-gray-700 border rounded"},null,8,At),[[p,l.designation]])]),e("div",null,[e("label",Vt,[t[73]||(t[73]=m(" Prix * ",-1)),l.level==="PARENT"&&V(l)>0?(u(),i("span",Ct,"(auto)")):b("",!0)]),a(e("input",{"onUpdate:modelValue":o=>l.prix=o,type:"number",step:"0.01",readonly:l.level==="PARENT"&&V(l)>0,placeholder:"0",class:A(["w-full px-2 py-1.5 text-sm bg-white dark:bg-gray-700 border rounded",l.level==="PARENT"&&V(l)>0?"bg-gray-100":""])},null,10,Ut),[[p,l.prix,void 0,{number:!0}]])]),e("div",null,[t[75]||(t[75]=e("label",{class:"block text-xs font-medium mb-1"},"Niveau *",-1)),a(e("select",{"onUpdate:modelValue":o=>l.level=o,onChange:o=>I(y),class:"w-full px-2 py-1.5 text-sm bg-white dark:bg-gray-700 border rounded"},[...t[74]||(t[74]=[e("option",{value:"CHILD"},"CHILD",-1),e("option",{value:"NORMAL"},"NORMAL",-1),e("option",{value:"PARENT"},"PARENT (Panel)",-1)])],40,Et),[[c,l.level]])])]),e("div",Nt,[e("div",null,[t[77]||(t[77]=e("label",{class:"block text-xs font-medium mb-1"},"Examen",-1)),a(e("select",{"onUpdate:modelValue":o=>l.examen_id=o,class:"w-full px-2 py-1.5 text-sm bg-white dark:bg-gray-700 border rounded"},[t[76]||(t[76]=e("option",{value:""},"Hériter parent",-1)),(u(!0),i(v,null,k(f.examens,o=>(u(),i("option",{key:o.id,value:o.id},g(o.name),9,Mt))),128))],8,Rt),[[c,l.examen_id]])]),e("div",null,[t[79]||(t[79]=e("label",{class:"block text-xs font-medium mb-1"},"Type",-1)),a(e("select",{"onUpdate:modelValue":o=>l.type_id=o,class:"w-full px-2 py-1.5 text-sm bg-white dark:bg-gray-700 border rounded"},[t[78]||(t[78]=e("option",{value:""},"Hériter parent",-1)),(u(!0),i(v,null,k(f.types,o=>(u(),i("option",{key:o.id,value:o.id},g(o.name),9,jt))),128))],8,Pt),[[c,l.type_id]])]),e("div",null,[t[80]||(t[80]=e("label",{class:"block text-xs font-medium mb-1"},"Unité",-1)),a(e("input",{"onUpdate:modelValue":o=>l.unite=o,placeholder:"Ex: g/l",class:"w-full px-2 py-1.5 text-sm bg-white dark:bg-gray-700 border rounded"},null,8,Lt),[[p,l.unite]])]),e("div",null,[t[81]||(t[81]=e("label",{class:"block text-xs font-medium mb-1"},"Ordre",-1)),a(e("input",{"onUpdate:modelValue":o=>l.ordre=o,type:"number",readonly:"",class:"w-full px-2 py-1.5 text-sm bg-gray-100 dark:bg-gray-600 border rounded"},null,8,St),[[p,l.ordre,void 0,{number:!0}]])])]),e("div",Tt,[t[88]||(t[88]=e("h6",{class:"text-xs font-medium text-blue-900 dark:text-blue-200 mb-2"},"Valeurs de Référence",-1)),e("div",Ht,[e("div",null,[t[82]||(t[82]=e("label",{class:"block text-xs mb-1"},"Homme",-1)),a(e("input",{"onUpdate:modelValue":o=>l.valeur_ref_homme=o,placeholder:"Ex: 3.89-6.05",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,Bt),[[p,l.valeur_ref_homme]])]),e("div",null,[t[83]||(t[83]=e("label",{class:"block text-xs mb-1"},"Femme",-1)),a(e("input",{"onUpdate:modelValue":o=>l.valeur_ref_femme=o,placeholder:"Ex: 3.89-6.05",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,Dt),[[p,l.valeur_ref_femme]])]),e("div",null,[t[84]||(t[84]=e("label",{class:"block text-xs mb-1"},"Garçon",-1)),a(e("input",{"onUpdate:modelValue":o=>l.valeur_ref_enfant_garcon=o,placeholder:"Ex: 3.5-5.5",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,$t),[[p,l.valeur_ref_enfant_garcon]])]),e("div",null,[t[85]||(t[85]=e("label",{class:"block text-xs mb-1"},"Fille",-1)),a(e("input",{"onUpdate:modelValue":o=>l.valeur_ref_enfant_fille=o,placeholder:"Ex: 3.5-5.5",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,zt),[[p,l.valeur_ref_enfant_fille]])])]),e("div",Ft,[e("div",null,[t[86]||(t[86]=e("label",{class:"block text-xs mb-1"},"Réf. générale",-1)),a(e("input",{"onUpdate:modelValue":o=>l.valeur_ref=o,placeholder:"Ex: 3.89 - 6.05",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,Ot),[[p,l.valeur_ref]])]),e("div",null,[t[87]||(t[87]=e("label",{class:"block text-xs mb-1"},"Suffixe",-1)),a(e("input",{"onUpdate:modelValue":o=>l.suffixe=o,placeholder:"Suffixe",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,It),[[p,l.suffixe]])])])]),e("div",Gt,[e("label",qt,[a(e("input",{"onUpdate:modelValue":o=>l.status=o,type:"checkbox",class:"w-3.5 h-3.5 mr-1.5"},null,8,Jt),[[U,l.status]]),t[89]||(t[89]=m("Actif",-1))]),e("label",Yt,[a(e("input",{"onUpdate:modelValue":o=>l.is_bold=o,type:"checkbox",class:"w-3.5 h-3.5 mr-1.5"},null,8,Kt),[[U,l.is_bold]]),t[90]||(t[90]=m("Gras",-1))])]),l.level==="PARENT"?(u(),i("div",Qt,[e("div",Wt,[e("h6",Xt,[t[91]||(t[91]=m(" Sous-sous-analyses ",-1)),(N=l.children)!=null&&N.length?(u(),i("span",Zt,g(l.children.length),1)):b("",!0)]),e("button",{type:"button",onClick:o=>B(y),class:"bg-purple-500 hover:bg-purple-600 text-white px-3 py-1 rounded-md text-xs flex items-center"},[...t[92]||(t[92]=[e("svg",{class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),m(" Ajouter ",-1)])],8,el)]),(u(!0),i(v,null,k(l.children,(o,h)=>(u(),i("div",{key:h,class:"bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md p-3 mb-2 ml-0 sm:ml-4"},[e("div",tl,[e("span",ll,"Sous-sous #"+g(h+1),1),e("div",sl,[h>0?(u(),i("button",{key:0,type:"button",onClick:x=>W(y,h),class:"p-0.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 rounded"},[...t[93]||(t[93]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})],-1)])],8,rl)):b("",!0),h<l.children.length-1?(u(),i("button",{key:1,type:"button",onClick:x=>X(y,h),class:"p-0.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 rounded"},[...t[94]||(t[94]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)])],8,ol)):b("",!0),e("button",{type:"button",onClick:x=>Q(y,h),class:"p-0.5 bg-red-100 hover:bg-red-200 dark:bg-red-900 rounded text-red-600"},[...t[95]||(t[95]=[e("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,nl)])]),e("div",dl,[e("div",null,[t[96]||(t[96]=e("label",{class:"block text-xs mb-1"},"Code *",-1)),a(e("input",{"onUpdate:modelValue":x=>o.code=x,placeholder:"Code",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,al),[[p,o.code]])]),e("div",null,[t[97]||(t[97]=e("label",{class:"block text-xs mb-1"},"Désignation *",-1)),a(e("input",{"onUpdate:modelValue":x=>o.designation=x,placeholder:"Désignation",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,il),[[p,o.designation]])]),e("div",null,[t[98]||(t[98]=e("label",{class:"block text-xs mb-1"},"Prix *",-1)),a(e("input",{"onUpdate:modelValue":x=>o.prix=x,type:"number",step:"0.01",placeholder:"0",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,ul),[[p,o.prix,void 0,{number:!0}]])]),e("div",null,[t[100]||(t[100]=e("label",{class:"block text-xs mb-1"},"Niveau",-1)),a(e("select",{"onUpdate:modelValue":x=>o.level=x,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},[...t[99]||(t[99]=[e("option",{value:"CHILD"},"CHILD",-1),e("option",{value:"NORMAL"},"NORMAL",-1)])],8,xl),[[c,o.level]])])]),e("div",pl,[e("div",null,[t[102]||(t[102]=e("label",{class:"block text-xs mb-1"},"Examen",-1)),a(e("select",{"onUpdate:modelValue":x=>o.examen_id=x,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},[t[101]||(t[101]=e("option",{value:""},"Hériter",-1)),(u(!0),i(v,null,k(f.examens,x=>(u(),i("option",{key:x.id,value:x.id},g(x.name),9,ml))),128))],8,gl),[[c,o.examen_id]])]),e("div",null,[t[104]||(t[104]=e("label",{class:"block text-xs mb-1"},"Type",-1)),a(e("select",{"onUpdate:modelValue":x=>o.type_id=x,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},[t[103]||(t[103]=e("option",{value:""},"Hériter",-1)),(u(!0),i(v,null,k(f.types,x=>(u(),i("option",{key:x.id,value:x.id},g(x.name),9,yl))),128))],8,bl),[[c,o.type_id]])]),e("div",null,[t[105]||(t[105]=e("label",{class:"block text-xs mb-1"},"Unité",-1)),a(e("input",{"onUpdate:modelValue":x=>o.unite=x,placeholder:"g/l",class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,fl),[[p,o.unite]])]),e("div",null,[t[106]||(t[106]=e("label",{class:"block text-xs mb-1"},"Ordre",-1)),a(e("input",{"onUpdate:modelValue":x=>o.ordre=x,type:"number",readonly:"",class:"w-full px-2 py-1 text-xs bg-gray-100 dark:bg-gray-600 border rounded"},null,8,vl),[[p,o.ordre,void 0,{number:!0}]])])]),e("div",kl,[e("div",null,[t[107]||(t[107]=e("label",{class:"block text-xs mb-1"},"Réf. H",-1)),a(e("input",{"onUpdate:modelValue":x=>o.valeur_ref_homme=x,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,cl),[[p,o.valeur_ref_homme]])]),e("div",null,[t[108]||(t[108]=e("label",{class:"block text-xs mb-1"},"Réf. F",-1)),a(e("input",{"onUpdate:modelValue":x=>o.valeur_ref_femme=x,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,_l),[[p,o.valeur_ref_femme]])]),e("div",null,[t[109]||(t[109]=e("label",{class:"block text-xs mb-1"},"Réf. G",-1)),a(e("input",{"onUpdate:modelValue":x=>o.valeur_ref_enfant_garcon=x,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,wl),[[p,o.valeur_ref_enfant_garcon]])]),e("div",null,[t[110]||(t[110]=e("label",{class:"block text-xs mb-1"},"Réf. Fi",-1)),a(e("input",{"onUpdate:modelValue":x=>o.valeur_ref_enfant_fille=x,class:"w-full px-2 py-1 text-xs bg-white dark:bg-gray-700 border rounded"},null,8,hl),[[p,o.valeur_ref_enfant_fille]])])]),e("div",Al,[e("label",Vl,[a(e("input",{"onUpdate:modelValue":x=>o.status=x,type:"checkbox",class:"w-3 h-3 mr-1"},null,8,Cl),[[U,o.status]]),t[111]||(t[111]=m("Actif",-1))]),e("label",Ul,[a(e("input",{"onUpdate:modelValue":x=>o.is_bold=x,type:"checkbox",class:"w-3 h-3 mr-1"},null,8,El),[[U,o.is_bold]]),t[112]||(t[112]=m("Gras",-1))])])]))),128))])):b("",!0)])}),128))])):b("",!0),e("div",Nl,[e("button",{type:"button",onClick:t[25]||(t[25]=l=>w.value=!1),class:"px-4 py-2 text-sm bg-gray-100 dark:bg-gray-700 rounded-lg hover:bg-gray-200"},"Annuler"),e("button",{type:"submit",disabled:n(s).processing,class:"px-4 py-2 text-sm text-white bg-blue-600 hover:bg-blue-700 rounded-lg disabled:opacity-50"},g(n(s).id?"Modifier":"Créer"),9,Rl)])],32)])])])):b("",!0),E.value?(u(),i("div",Ml,[e("div",Pl,[e("div",{class:"fixed inset-0 bg-black/50 transition-opacity",onClick:t[26]||(t[26]=l=>E.value=!1)}),e("div",jl,[e("div",Ll,[t[116]||(t[116]=e("div",{class:"flex-shrink-0 w-10 h-10 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center mr-3"},[e("svg",{class:"w-5 h-5 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",null,[t[115]||(t[115]=e("h3",{class:"text-lg font-bold text-gray-900 dark:text-white"},"Confirmer la suppression",-1)),e("p",Sl,[t[113]||(t[113]=m("Êtes-vous sûr de vouloir supprimer ",-1)),e("strong",Tl,g((d=j.value)==null?void 0:d.designation),1),t[114]||(t[114]=m(" ?",-1))])])]),e("div",Hl,[e("button",{onClick:t[27]||(t[27]=l=>E.value=!1),class:"px-4 py-2 text-sm text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition-colors"},"Annuler"),e("button",{onClick:oe,class:"px-4 py-2 text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors"},"Supprimer")])])])])):b("",!0)])}}};export{Il as default};
